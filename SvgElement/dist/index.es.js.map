{"version":3,"file":"index.es.js","sources":["../node_modules/htmlparser2/node_modules/entities/lib/decode_codepoint.js","../node_modules/htmlparser2/lib/Tokenizer.js","../node_modules/process-es6/browser.js","../node_modules/rollup-plugin-node-builtins/src/es6/inherits.js","../node_modules/rollup-plugin-node-builtins/src/es6/util.js","../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../node_modules/htmlparser2/lib/Parser.js","../node_modules/domelementtype/index.js","../node_modules/domhandler/lib/node.js","../node_modules/domhandler/lib/element.js","../node_modules/domhandler/index.js","../node_modules/htmlparser2/lib/FeedHandler.js","../node_modules/buffer-es6/base64.js","../node_modules/buffer-es6/ieee754.js","../node_modules/buffer-es6/isArray.js","../node_modules/buffer-es6/index.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/buffer-list.js","../node_modules/rollup-plugin-node-builtins/src/es6/string-decoder.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/readable.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/writable.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/duplex.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/transform.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/passthrough.js","../node_modules/rollup-plugin-node-builtins/src/es6/stream.js","../node_modules/isarray/index.js","../node_modules/core-util-is/lib/util.js","../node_modules/inherits/inherits_browser.js","../node_modules/inherits/inherits.js","../node_modules/readable-stream/lib/_stream_writable.js","../node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/string_decoder/index.js","../node_modules/readable-stream/lib/_stream_readable.js","../node_modules/readable-stream/lib/_stream_transform.js","../node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/readable-stream/readable.js","../node_modules/htmlparser2/lib/WritableStream.js","../node_modules/htmlparser2/lib/Stream.js","../node_modules/htmlparser2/lib/ProxyHandler.js","../node_modules/dom-serializer/node_modules/domelementtype/index.js","../node_modules/entities/lib/encode.js","../node_modules/entities/lib/decode_codepoint.js","../node_modules/entities/lib/decode.js","../node_modules/entities/index.js","../node_modules/dom-serializer/index.js","../node_modules/htmlparser2/node_modules/domutils/lib/stringify.js","../node_modules/htmlparser2/node_modules/domutils/lib/traversal.js","../node_modules/htmlparser2/node_modules/domutils/lib/manipulation.js","../node_modules/htmlparser2/node_modules/domutils/lib/querying.js","../node_modules/htmlparser2/node_modules/domutils/lib/legacy.js","../node_modules/htmlparser2/node_modules/domutils/lib/helpers.js","../node_modules/htmlparser2/node_modules/domutils/index.js","../node_modules/htmlparser2/lib/CollectingHandler.js","../node_modules/htmlparser2/lib/index.js","../node_modules/cheerio/lib/utils.js","../node_modules/cheerio/lib/parse.js","../node_modules/cheerio/node_modules/lodash/dist/lodash.js","../node_modules/cheerio/lib/api/attributes.js","../node_modules/domutils/lib/stringify.js","../node_modules/domutils/lib/traversal.js","../node_modules/domutils/lib/manipulation.js","../node_modules/domutils/lib/querying.js","../node_modules/domutils/lib/legacy.js","../node_modules/domutils/lib/helpers.js","../node_modules/domutils/index.js","../node_modules/CSSselect/lib/basefunctions.js","../node_modules/CSSselect/lib/nth-check.js","../node_modules/CSSselect/lib/attributes.js","../node_modules/CSSselect/lib/pseudos.js","../node_modules/CSSwhat/index.js","../node_modules/CSSselect/lib/general.js","../node_modules/CSSselect/lib/sort.js","../node_modules/CSSselect/lib/compile.js","../node_modules/CSSselect/index.js","../node_modules/cheerio/lib/api/traversing.js","../node_modules/cheerio/lib/static.js","../node_modules/cheerio/lib/api/manipulation.js","../node_modules/cheerio/lib/api/css.js","../node_modules/cheerio/lib/cheerio.js","../node_modules/object-assign/index.js","../node_modules/cheerio/index.js","../node_modules/cheerio/index.js","../node_modules/object-assign/index.js","../node_modules/extract-svg-path/index.js"],"sourcesContent":["var decodeMap = require(\"../maps/decode.json\");\n\nmodule.exports = decodeCodePoint;\n\n// modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nfunction decodeCodePoint(codePoint){\n\n\tif((codePoint >= 0xD800 && codePoint <= 0xDFFF) || codePoint > 0x10FFFF){\n\t\treturn \"\\uFFFD\";\n\t}\n\n\tif(codePoint in decodeMap){\n\t\tcodePoint = decodeMap[codePoint];\n\t}\n\n\tvar output = \"\";\n\n\tif(codePoint > 0xFFFF){\n\t\tcodePoint -= 0x10000;\n\t\toutput += String.fromCharCode(codePoint >>> 10 & 0x3FF | 0xD800);\n\t\tcodePoint = 0xDC00 | codePoint & 0x3FF;\n\t}\n\n\toutput += String.fromCharCode(codePoint);\n\treturn output;\n}\n","module.exports = Tokenizer;\n\nvar decodeCodePoint = require(\"entities/lib/decode_codepoint.js\"),\n    entityMap = require(\"entities/maps/entities.json\"),\n    legacyMap = require(\"entities/maps/legacy.json\"),\n    xmlMap    = require(\"entities/maps/xml.json\"),\n\n    i = 0,\n\n    TEXT                      = i++,\n    BEFORE_TAG_NAME           = i++, //after <\n    IN_TAG_NAME               = i++,\n    IN_SELF_CLOSING_TAG       = i++,\n    BEFORE_CLOSING_TAG_NAME   = i++,\n    IN_CLOSING_TAG_NAME       = i++,\n    AFTER_CLOSING_TAG_NAME    = i++,\n\n    //attributes\n    BEFORE_ATTRIBUTE_NAME     = i++,\n    IN_ATTRIBUTE_NAME         = i++,\n    AFTER_ATTRIBUTE_NAME      = i++,\n    BEFORE_ATTRIBUTE_VALUE    = i++,\n    IN_ATTRIBUTE_VALUE_DQ     = i++, // \"\n    IN_ATTRIBUTE_VALUE_SQ     = i++, // '\n    IN_ATTRIBUTE_VALUE_NQ     = i++,\n\n    //declarations\n    BEFORE_DECLARATION        = i++, // !\n    IN_DECLARATION            = i++,\n\n    //processing instructions\n    IN_PROCESSING_INSTRUCTION = i++, // ?\n\n    //comments\n    BEFORE_COMMENT            = i++,\n    IN_COMMENT                = i++,\n    AFTER_COMMENT_1           = i++,\n    AFTER_COMMENT_2           = i++,\n\n    //cdata\n    BEFORE_CDATA_1            = i++, // [\n    BEFORE_CDATA_2            = i++, // C\n    BEFORE_CDATA_3            = i++, // D\n    BEFORE_CDATA_4            = i++, // A\n    BEFORE_CDATA_5            = i++, // T\n    BEFORE_CDATA_6            = i++, // A\n    IN_CDATA                  = i++, // [\n    AFTER_CDATA_1             = i++, // ]\n    AFTER_CDATA_2             = i++, // ]\n\n    //special tags\n    BEFORE_SPECIAL            = i++, //S\n    BEFORE_SPECIAL_END        = i++,   //S\n\n    BEFORE_SCRIPT_1           = i++, //C\n    BEFORE_SCRIPT_2           = i++, //R\n    BEFORE_SCRIPT_3           = i++, //I\n    BEFORE_SCRIPT_4           = i++, //P\n    BEFORE_SCRIPT_5           = i++, //T\n    AFTER_SCRIPT_1            = i++, //C\n    AFTER_SCRIPT_2            = i++, //R\n    AFTER_SCRIPT_3            = i++, //I\n    AFTER_SCRIPT_4            = i++, //P\n    AFTER_SCRIPT_5            = i++, //T\n\n    BEFORE_STYLE_1            = i++, //T\n    BEFORE_STYLE_2            = i++, //Y\n    BEFORE_STYLE_3            = i++, //L\n    BEFORE_STYLE_4            = i++, //E\n    AFTER_STYLE_1             = i++, //T\n    AFTER_STYLE_2             = i++, //Y\n    AFTER_STYLE_3             = i++, //L\n    AFTER_STYLE_4             = i++, //E\n\n    BEFORE_ENTITY             = i++, //&\n    BEFORE_NUMERIC_ENTITY     = i++, //#\n    IN_NAMED_ENTITY           = i++,\n    IN_NUMERIC_ENTITY         = i++,\n    IN_HEX_ENTITY             = i++, //X\n\n    j = 0,\n\n    SPECIAL_NONE              = j++,\n    SPECIAL_SCRIPT            = j++,\n    SPECIAL_STYLE             = j++;\n\nfunction whitespace(c){\n\treturn c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\n\nfunction characterState(char, SUCCESS){\n\treturn function(c){\n\t\tif(c === char) this._state = SUCCESS;\n\t};\n}\n\nfunction ifElseState(upper, SUCCESS, FAILURE){\n\tvar lower = upper.toLowerCase();\n\n\tif(upper === lower){\n\t\treturn function(c){\n\t\t\tif(c === lower){\n\t\t\t\tthis._state = SUCCESS;\n\t\t\t} else {\n\t\t\t\tthis._state = FAILURE;\n\t\t\t\tthis._index--;\n\t\t\t}\n\t\t};\n\t} else {\n\t\treturn function(c){\n\t\t\tif(c === lower || c === upper){\n\t\t\t\tthis._state = SUCCESS;\n\t\t\t} else {\n\t\t\t\tthis._state = FAILURE;\n\t\t\t\tthis._index--;\n\t\t\t}\n\t\t};\n\t}\n}\n\nfunction consumeSpecialNameChar(upper, NEXT_STATE){\n\tvar lower = upper.toLowerCase();\n\n\treturn function(c){\n\t\tif(c === lower || c === upper){\n\t\t\tthis._state = NEXT_STATE;\n\t\t} else {\n\t\t\tthis._state = IN_TAG_NAME;\n\t\t\tthis._index--; //consume the token again\n\t\t}\n\t};\n}\n\nfunction Tokenizer(options, cbs){\n\tthis._state = TEXT;\n\tthis._buffer = \"\";\n\tthis._sectionStart = 0;\n\tthis._index = 0;\n\tthis._baseState = TEXT;\n\tthis._special = SPECIAL_NONE;\n\tthis._cbs = cbs;\n\tthis._running = true;\n\tthis._ended = false;\n\tthis._xmlMode = !!(options && options.xmlMode);\n\tthis._decodeEntities = !!(options && options.decodeEntities);\n}\n\nTokenizer.prototype._stateText = function(c){\n\tif(c === \"<\"){\n\t\tif(this._index > this._sectionStart){\n\t\t\tthis._cbs.ontext(this._getSection());\n\t\t}\n\t\tthis._state = BEFORE_TAG_NAME;\n\t\tthis._sectionStart = this._index;\n\t} else if(this._decodeEntities && this._special === SPECIAL_NONE && c === \"&\"){\n\t\tif(this._index > this._sectionStart){\n\t\t\tthis._cbs.ontext(this._getSection());\n\t\t}\n\t\tthis._baseState = TEXT;\n\t\tthis._state = BEFORE_ENTITY;\n\t\tthis._sectionStart = this._index;\n\t}\n};\n\nTokenizer.prototype._stateBeforeTagName = function(c){\n\tif(c === \"/\"){\n\t\tthis._state = BEFORE_CLOSING_TAG_NAME;\n\t} else if(c === \">\" || this._special !== SPECIAL_NONE || whitespace(c)) {\n\t\tthis._state = TEXT;\n\t} else if(c === \"!\"){\n\t\tthis._state = BEFORE_DECLARATION;\n\t\tthis._sectionStart = this._index + 1;\n\t} else if(c === \"?\"){\n\t\tthis._state = IN_PROCESSING_INSTRUCTION;\n\t\tthis._sectionStart = this._index + 1;\n\t} else if(c === \"<\"){\n\t\tthis._cbs.ontext(this._getSection());\n\t\tthis._sectionStart = this._index;\n\t} else {\n\t\tthis._state = (!this._xmlMode && (c === \"s\" || c === \"S\")) ?\n\t\t\t\t\t\tBEFORE_SPECIAL : IN_TAG_NAME;\n\t\tthis._sectionStart = this._index;\n\t}\n};\n\nTokenizer.prototype._stateInTagName = function(c){\n\tif(c === \"/\" || c === \">\" || whitespace(c)){\n\t\tthis._emitToken(\"onopentagname\");\n\t\tthis._state = BEFORE_ATTRIBUTE_NAME;\n\t\tthis._index--;\n\t}\n};\n\nTokenizer.prototype._stateBeforeCloseingTagName = function(c){\n\tif(whitespace(c));\n\telse if(c === \">\"){\n\t\tthis._state = TEXT;\n\t} else if(this._special !== SPECIAL_NONE){\n\t\tif(c === \"s\" || c === \"S\"){\n\t\t\tthis._state = BEFORE_SPECIAL_END;\n\t\t} else {\n\t\t\tthis._state = TEXT;\n\t\t\tthis._index--;\n\t\t}\n\t} else {\n\t\tthis._state = IN_CLOSING_TAG_NAME;\n\t\tthis._sectionStart = this._index;\n\t}\n};\n\nTokenizer.prototype._stateInCloseingTagName = function(c){\n\tif(c === \">\" || whitespace(c)){\n\t\tthis._emitToken(\"onclosetag\");\n\t\tthis._state = AFTER_CLOSING_TAG_NAME;\n\t\tthis._index--;\n\t}\n};\n\nTokenizer.prototype._stateAfterCloseingTagName = function(c){\n\t//skip everything until \">\"\n\tif(c === \">\"){\n\t\tthis._state = TEXT;\n\t\tthis._sectionStart = this._index + 1;\n\t}\n};\n\nTokenizer.prototype._stateBeforeAttributeName = function(c){\n\tif(c === \">\"){\n\t\tthis._cbs.onopentagend();\n\t\tthis._state = TEXT;\n\t\tthis._sectionStart = this._index + 1;\n\t} else if(c === \"/\"){\n\t\tthis._state = IN_SELF_CLOSING_TAG;\n\t} else if(!whitespace(c)){\n\t\tthis._state = IN_ATTRIBUTE_NAME;\n\t\tthis._sectionStart = this._index;\n\t}\n};\n\nTokenizer.prototype._stateInSelfClosingTag = function(c){\n\tif(c === \">\"){\n\t\tthis._cbs.onselfclosingtag();\n\t\tthis._state = TEXT;\n\t\tthis._sectionStart = this._index + 1;\n\t} else if(!whitespace(c)){\n\t\tthis._state = BEFORE_ATTRIBUTE_NAME;\n\t\tthis._index--;\n\t}\n};\n\nTokenizer.prototype._stateInAttributeName = function(c){\n\tif(c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)){\n\t\tthis._cbs.onattribname(this._getSection());\n\t\tthis._sectionStart = -1;\n\t\tthis._state = AFTER_ATTRIBUTE_NAME;\n\t\tthis._index--;\n\t}\n};\n\nTokenizer.prototype._stateAfterAttributeName = function(c){\n\tif(c === \"=\"){\n\t\tthis._state = BEFORE_ATTRIBUTE_VALUE;\n\t} else if(c === \"/\" || c === \">\"){\n\t\tthis._cbs.onattribend();\n\t\tthis._state = BEFORE_ATTRIBUTE_NAME;\n\t\tthis._index--;\n\t} else if(!whitespace(c)){\n\t\tthis._cbs.onattribend();\n\t\tthis._state = IN_ATTRIBUTE_NAME;\n\t\tthis._sectionStart = this._index;\n\t}\n};\n\nTokenizer.prototype._stateBeforeAttributeValue = function(c){\n\tif(c === \"\\\"\"){\n\t\tthis._state = IN_ATTRIBUTE_VALUE_DQ;\n\t\tthis._sectionStart = this._index + 1;\n\t} else if(c === \"'\"){\n\t\tthis._state = IN_ATTRIBUTE_VALUE_SQ;\n\t\tthis._sectionStart = this._index + 1;\n\t} else if(!whitespace(c)){\n\t\tthis._state = IN_ATTRIBUTE_VALUE_NQ;\n\t\tthis._sectionStart = this._index;\n\t\tthis._index--; //reconsume token\n\t}\n};\n\nTokenizer.prototype._stateInAttributeValueDoubleQuotes = function(c){\n\tif(c === \"\\\"\"){\n\t\tthis._emitToken(\"onattribdata\");\n\t\tthis._cbs.onattribend();\n\t\tthis._state = BEFORE_ATTRIBUTE_NAME;\n\t} else if(this._decodeEntities && c === \"&\"){\n\t\tthis._emitToken(\"onattribdata\");\n\t\tthis._baseState = this._state;\n\t\tthis._state = BEFORE_ENTITY;\n\t\tthis._sectionStart = this._index;\n\t}\n};\n\nTokenizer.prototype._stateInAttributeValueSingleQuotes = function(c){\n\tif(c === \"'\"){\n\t\tthis._emitToken(\"onattribdata\");\n\t\tthis._cbs.onattribend();\n\t\tthis._state = BEFORE_ATTRIBUTE_NAME;\n\t} else if(this._decodeEntities && c === \"&\"){\n\t\tthis._emitToken(\"onattribdata\");\n\t\tthis._baseState = this._state;\n\t\tthis._state = BEFORE_ENTITY;\n\t\tthis._sectionStart = this._index;\n\t}\n};\n\nTokenizer.prototype._stateInAttributeValueNoQuotes = function(c){\n\tif(whitespace(c) || c === \">\"){\n\t\tthis._emitToken(\"onattribdata\");\n\t\tthis._cbs.onattribend();\n\t\tthis._state = BEFORE_ATTRIBUTE_NAME;\n\t\tthis._index--;\n\t} else if(this._decodeEntities && c === \"&\"){\n\t\tthis._emitToken(\"onattribdata\");\n\t\tthis._baseState = this._state;\n\t\tthis._state = BEFORE_ENTITY;\n\t\tthis._sectionStart = this._index;\n\t}\n};\n\nTokenizer.prototype._stateBeforeDeclaration = function(c){\n\tthis._state = c === \"[\" ? BEFORE_CDATA_1 :\n\t\t\t\t\tc === \"-\" ? BEFORE_COMMENT :\n\t\t\t\t\t\tIN_DECLARATION;\n};\n\nTokenizer.prototype._stateInDeclaration = function(c){\n\tif(c === \">\"){\n\t\tthis._cbs.ondeclaration(this._getSection());\n\t\tthis._state = TEXT;\n\t\tthis._sectionStart = this._index + 1;\n\t}\n};\n\nTokenizer.prototype._stateInProcessingInstruction = function(c){\n\tif(c === \">\"){\n\t\tthis._cbs.onprocessinginstruction(this._getSection());\n\t\tthis._state = TEXT;\n\t\tthis._sectionStart = this._index + 1;\n\t}\n};\n\nTokenizer.prototype._stateBeforeComment = function(c){\n\tif(c === \"-\"){\n\t\tthis._state = IN_COMMENT;\n\t\tthis._sectionStart = this._index + 1;\n\t} else {\n\t\tthis._state = IN_DECLARATION;\n\t}\n};\n\nTokenizer.prototype._stateInComment = function(c){\n\tif(c === \"-\") this._state = AFTER_COMMENT_1;\n};\n\nTokenizer.prototype._stateAfterComment1 = function(c){\n\tif(c === \"-\"){\n\t\tthis._state = AFTER_COMMENT_2;\n\t} else {\n\t\tthis._state = IN_COMMENT;\n\t}\n};\n\nTokenizer.prototype._stateAfterComment2 = function(c){\n\tif(c === \">\"){\n\t\t//remove 2 trailing chars\n\t\tthis._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2));\n\t\tthis._state = TEXT;\n\t\tthis._sectionStart = this._index + 1;\n\t} else if(c !== \"-\"){\n\t\tthis._state = IN_COMMENT;\n\t}\n\t// else: stay in AFTER_COMMENT_2 (`--->`)\n};\n\nTokenizer.prototype._stateBeforeCdata1 = ifElseState(\"C\", BEFORE_CDATA_2, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata2 = ifElseState(\"D\", BEFORE_CDATA_3, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata3 = ifElseState(\"A\", BEFORE_CDATA_4, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata4 = ifElseState(\"T\", BEFORE_CDATA_5, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata5 = ifElseState(\"A\", BEFORE_CDATA_6, IN_DECLARATION);\n\nTokenizer.prototype._stateBeforeCdata6 = function(c){\n\tif(c === \"[\"){\n\t\tthis._state = IN_CDATA;\n\t\tthis._sectionStart = this._index + 1;\n\t} else {\n\t\tthis._state = IN_DECLARATION;\n\t\tthis._index--;\n\t}\n};\n\nTokenizer.prototype._stateInCdata = function(c){\n\tif(c === \"]\") this._state = AFTER_CDATA_1;\n};\n\nTokenizer.prototype._stateAfterCdata1 = characterState(\"]\", AFTER_CDATA_2);\n\nTokenizer.prototype._stateAfterCdata2 = function(c){\n\tif(c === \">\"){\n\t\t//remove 2 trailing chars\n\t\tthis._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2));\n\t\tthis._state = TEXT;\n\t\tthis._sectionStart = this._index + 1;\n\t} else if (c !== \"]\") {\n\t\tthis._state = IN_CDATA;\n\t}\n\t//else: stay in AFTER_CDATA_2 (`]]]>`)\n};\n\nTokenizer.prototype._stateBeforeSpecial = function(c){\n\tif(c === \"c\" || c === \"C\"){\n\t\tthis._state = BEFORE_SCRIPT_1;\n\t} else if(c === \"t\" || c === \"T\"){\n\t\tthis._state = BEFORE_STYLE_1;\n\t} else {\n\t\tthis._state = IN_TAG_NAME;\n\t\tthis._index--; //consume the token again\n\t}\n};\n\nTokenizer.prototype._stateBeforeSpecialEnd = function(c){\n\tif(this._special === SPECIAL_SCRIPT && (c === \"c\" || c === \"C\")){\n\t\tthis._state = AFTER_SCRIPT_1;\n\t} else if(this._special === SPECIAL_STYLE && (c === \"t\" || c === \"T\")){\n\t\tthis._state = AFTER_STYLE_1;\n\t}\n\telse this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeScript1 = consumeSpecialNameChar(\"R\", BEFORE_SCRIPT_2);\nTokenizer.prototype._stateBeforeScript2 = consumeSpecialNameChar(\"I\", BEFORE_SCRIPT_3);\nTokenizer.prototype._stateBeforeScript3 = consumeSpecialNameChar(\"P\", BEFORE_SCRIPT_4);\nTokenizer.prototype._stateBeforeScript4 = consumeSpecialNameChar(\"T\", BEFORE_SCRIPT_5);\n\nTokenizer.prototype._stateBeforeScript5 = function(c){\n\tif(c === \"/\" || c === \">\" || whitespace(c)){\n\t\tthis._special = SPECIAL_SCRIPT;\n\t}\n\tthis._state = IN_TAG_NAME;\n\tthis._index--; //consume the token again\n};\n\nTokenizer.prototype._stateAfterScript1 = ifElseState(\"R\", AFTER_SCRIPT_2, TEXT);\nTokenizer.prototype._stateAfterScript2 = ifElseState(\"I\", AFTER_SCRIPT_3, TEXT);\nTokenizer.prototype._stateAfterScript3 = ifElseState(\"P\", AFTER_SCRIPT_4, TEXT);\nTokenizer.prototype._stateAfterScript4 = ifElseState(\"T\", AFTER_SCRIPT_5, TEXT);\n\nTokenizer.prototype._stateAfterScript5 = function(c){\n\tif(c === \">\" || whitespace(c)){\n\t\tthis._special = SPECIAL_NONE;\n\t\tthis._state = IN_CLOSING_TAG_NAME;\n\t\tthis._sectionStart = this._index - 6;\n\t\tthis._index--; //reconsume the token\n\t}\n\telse this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", BEFORE_STYLE_2);\nTokenizer.prototype._stateBeforeStyle2 = consumeSpecialNameChar(\"L\", BEFORE_STYLE_3);\nTokenizer.prototype._stateBeforeStyle3 = consumeSpecialNameChar(\"E\", BEFORE_STYLE_4);\n\nTokenizer.prototype._stateBeforeStyle4 = function(c){\n\tif(c === \"/\" || c === \">\" || whitespace(c)){\n\t\tthis._special = SPECIAL_STYLE;\n\t}\n\tthis._state = IN_TAG_NAME;\n\tthis._index--; //consume the token again\n};\n\nTokenizer.prototype._stateAfterStyle1 = ifElseState(\"Y\", AFTER_STYLE_2, TEXT);\nTokenizer.prototype._stateAfterStyle2 = ifElseState(\"L\", AFTER_STYLE_3, TEXT);\nTokenizer.prototype._stateAfterStyle3 = ifElseState(\"E\", AFTER_STYLE_4, TEXT);\n\nTokenizer.prototype._stateAfterStyle4 = function(c){\n\tif(c === \">\" || whitespace(c)){\n\t\tthis._special = SPECIAL_NONE;\n\t\tthis._state = IN_CLOSING_TAG_NAME;\n\t\tthis._sectionStart = this._index - 5;\n\t\tthis._index--; //reconsume the token\n\t}\n\telse this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeEntity = ifElseState(\"#\", BEFORE_NUMERIC_ENTITY, IN_NAMED_ENTITY);\nTokenizer.prototype._stateBeforeNumericEntity = ifElseState(\"X\", IN_HEX_ENTITY, IN_NUMERIC_ENTITY);\n\n//for entities terminated with a semicolon\nTokenizer.prototype._parseNamedEntityStrict = function(){\n\t//offset = 1\n\tif(this._sectionStart + 1 < this._index){\n\t\tvar entity = this._buffer.substring(this._sectionStart + 1, this._index),\n\t\t    map = this._xmlMode ? xmlMap : entityMap;\n\n\t\tif(map.hasOwnProperty(entity)){\n\t\t\tthis._emitPartial(map[entity]);\n\t\t\tthis._sectionStart = this._index + 1;\n\t\t}\n\t}\n};\n\n\n//parses legacy entities (without trailing semicolon)\nTokenizer.prototype._parseLegacyEntity = function(){\n\tvar start = this._sectionStart + 1,\n\t    limit = this._index - start;\n\n\tif(limit > 6) limit = 6; //the max length of legacy entities is 6\n\n\twhile(limit >= 2){ //the min length of legacy entities is 2\n\t\tvar entity = this._buffer.substr(start, limit);\n\n\t\tif(legacyMap.hasOwnProperty(entity)){\n\t\t\tthis._emitPartial(legacyMap[entity]);\n\t\t\tthis._sectionStart += limit + 1;\n\t\t\treturn;\n\t\t} else {\n\t\t\tlimit--;\n\t\t}\n\t}\n};\n\nTokenizer.prototype._stateInNamedEntity = function(c){\n\tif(c === \";\"){\n\t\tthis._parseNamedEntityStrict();\n\t\tif(this._sectionStart + 1 < this._index && !this._xmlMode){\n\t\t\tthis._parseLegacyEntity();\n\t\t}\n\t\tthis._state = this._baseState;\n\t} else if((c < \"a\" || c > \"z\") && (c < \"A\" || c > \"Z\") && (c < \"0\" || c > \"9\")){\n\t\tif(this._xmlMode);\n\t\telse if(this._sectionStart + 1 === this._index);\n\t\telse if(this._baseState !== TEXT){\n\t\t\tif(c !== \"=\"){\n\t\t\t\tthis._parseNamedEntityStrict();\n\t\t\t}\n\t\t} else {\n\t\t\tthis._parseLegacyEntity();\n\t\t}\n\n\t\tthis._state = this._baseState;\n\t\tthis._index--;\n\t}\n};\n\nTokenizer.prototype._decodeNumericEntity = function(offset, base){\n\tvar sectionStart = this._sectionStart + offset;\n\n\tif(sectionStart !== this._index){\n\t\t//parse entity\n\t\tvar entity = this._buffer.substring(sectionStart, this._index);\n\t\tvar parsed = parseInt(entity, base);\n\n\t\tthis._emitPartial(decodeCodePoint(parsed));\n\t\tthis._sectionStart = this._index;\n\t} else {\n\t\tthis._sectionStart--;\n\t}\n\n\tthis._state = this._baseState;\n};\n\nTokenizer.prototype._stateInNumericEntity = function(c){\n\tif(c === \";\"){\n\t\tthis._decodeNumericEntity(2, 10);\n\t\tthis._sectionStart++;\n\t} else if(c < \"0\" || c > \"9\"){\n\t\tif(!this._xmlMode){\n\t\t\tthis._decodeNumericEntity(2, 10);\n\t\t} else {\n\t\t\tthis._state = this._baseState;\n\t\t}\n\t\tthis._index--;\n\t}\n};\n\nTokenizer.prototype._stateInHexEntity = function(c){\n\tif(c === \";\"){\n\t\tthis._decodeNumericEntity(3, 16);\n\t\tthis._sectionStart++;\n\t} else if((c < \"a\" || c > \"f\") && (c < \"A\" || c > \"F\") && (c < \"0\" || c > \"9\")){\n\t\tif(!this._xmlMode){\n\t\t\tthis._decodeNumericEntity(3, 16);\n\t\t} else {\n\t\t\tthis._state = this._baseState;\n\t\t}\n\t\tthis._index--;\n\t}\n};\n\nTokenizer.prototype._cleanup = function () {\n\tif(this._sectionStart < 0){\n\t\tthis._buffer = \"\";\n\t\tthis._index = 0;\n\t} else if(this._running){\n\t\tif(this._state === TEXT){\n\t\t\tif(this._sectionStart !== this._index){\n\t\t\t\tthis._cbs.ontext(this._buffer.substr(this._sectionStart));\n\t\t\t}\n\t\t\tthis._buffer = \"\";\n\t\t\tthis._index = 0;\n\t\t} else if(this._sectionStart === this._index){\n\t\t\t//the section just started\n\t\t\tthis._buffer = \"\";\n\t\t\tthis._index = 0;\n\t\t} else {\n\t\t\t//remove everything unnecessary\n\t\t\tthis._buffer = this._buffer.substr(this._sectionStart);\n\t\t\tthis._index -= this._sectionStart;\n\t\t}\n\n\t\tthis._sectionStart = 0;\n\t}\n};\n\n//TODO make events conditional\nTokenizer.prototype.write = function(chunk){\n\tif(this._ended) this._cbs.onerror(Error(\".write() after done!\"));\n\n\tthis._buffer += chunk;\n\tthis._parse();\n};\n\nTokenizer.prototype._parse = function(){\n\twhile(this._index < this._buffer.length && this._running){\n\t\tvar c = this._buffer.charAt(this._index);\n\t\tif(this._state === TEXT) {\n\t\t\tthis._stateText(c);\n\t\t} else if(this._state === BEFORE_TAG_NAME){\n\t\t\tthis._stateBeforeTagName(c);\n\t\t} else if(this._state === IN_TAG_NAME) {\n\t\t\tthis._stateInTagName(c);\n\t\t} else if(this._state === BEFORE_CLOSING_TAG_NAME){\n\t\t\tthis._stateBeforeCloseingTagName(c);\n\t\t} else if(this._state === IN_CLOSING_TAG_NAME){\n\t\t\tthis._stateInCloseingTagName(c);\n\t\t} else if(this._state === AFTER_CLOSING_TAG_NAME){\n\t\t\tthis._stateAfterCloseingTagName(c);\n\t\t} else if(this._state === IN_SELF_CLOSING_TAG){\n\t\t\tthis._stateInSelfClosingTag(c);\n\t\t}\n\n\t\t/*\n\t\t*\tattributes\n\t\t*/\n\t\telse if(this._state === BEFORE_ATTRIBUTE_NAME){\n\t\t\tthis._stateBeforeAttributeName(c);\n\t\t} else if(this._state === IN_ATTRIBUTE_NAME){\n\t\t\tthis._stateInAttributeName(c);\n\t\t} else if(this._state === AFTER_ATTRIBUTE_NAME){\n\t\t\tthis._stateAfterAttributeName(c);\n\t\t} else if(this._state === BEFORE_ATTRIBUTE_VALUE){\n\t\t\tthis._stateBeforeAttributeValue(c);\n\t\t} else if(this._state === IN_ATTRIBUTE_VALUE_DQ){\n\t\t\tthis._stateInAttributeValueDoubleQuotes(c);\n\t\t} else if(this._state === IN_ATTRIBUTE_VALUE_SQ){\n\t\t\tthis._stateInAttributeValueSingleQuotes(c);\n\t\t} else if(this._state === IN_ATTRIBUTE_VALUE_NQ){\n\t\t\tthis._stateInAttributeValueNoQuotes(c);\n\t\t}\n\n\t\t/*\n\t\t*\tdeclarations\n\t\t*/\n\t\telse if(this._state === BEFORE_DECLARATION){\n\t\t\tthis._stateBeforeDeclaration(c);\n\t\t} else if(this._state === IN_DECLARATION){\n\t\t\tthis._stateInDeclaration(c);\n\t\t}\n\n\t\t/*\n\t\t*\tprocessing instructions\n\t\t*/\n\t\telse if(this._state === IN_PROCESSING_INSTRUCTION){\n\t\t\tthis._stateInProcessingInstruction(c);\n\t\t}\n\n\t\t/*\n\t\t*\tcomments\n\t\t*/\n\t\telse if(this._state === BEFORE_COMMENT){\n\t\t\tthis._stateBeforeComment(c);\n\t\t} else if(this._state === IN_COMMENT){\n\t\t\tthis._stateInComment(c);\n\t\t} else if(this._state === AFTER_COMMENT_1){\n\t\t\tthis._stateAfterComment1(c);\n\t\t} else if(this._state === AFTER_COMMENT_2){\n\t\t\tthis._stateAfterComment2(c);\n\t\t}\n\n\t\t/*\n\t\t*\tcdata\n\t\t*/\n\t\telse if(this._state === BEFORE_CDATA_1){\n\t\t\tthis._stateBeforeCdata1(c);\n\t\t} else if(this._state === BEFORE_CDATA_2){\n\t\t\tthis._stateBeforeCdata2(c);\n\t\t} else if(this._state === BEFORE_CDATA_3){\n\t\t\tthis._stateBeforeCdata3(c);\n\t\t} else if(this._state === BEFORE_CDATA_4){\n\t\t\tthis._stateBeforeCdata4(c);\n\t\t} else if(this._state === BEFORE_CDATA_5){\n\t\t\tthis._stateBeforeCdata5(c);\n\t\t} else if(this._state === BEFORE_CDATA_6){\n\t\t\tthis._stateBeforeCdata6(c);\n\t\t} else if(this._state === IN_CDATA){\n\t\t\tthis._stateInCdata(c);\n\t\t} else if(this._state === AFTER_CDATA_1){\n\t\t\tthis._stateAfterCdata1(c);\n\t\t} else if(this._state === AFTER_CDATA_2){\n\t\t\tthis._stateAfterCdata2(c);\n\t\t}\n\n\t\t/*\n\t\t* special tags\n\t\t*/\n\t\telse if(this._state === BEFORE_SPECIAL){\n\t\t\tthis._stateBeforeSpecial(c);\n\t\t} else if(this._state === BEFORE_SPECIAL_END){\n\t\t\tthis._stateBeforeSpecialEnd(c);\n\t\t}\n\n\t\t/*\n\t\t* script\n\t\t*/\n\t\telse if(this._state === BEFORE_SCRIPT_1){\n\t\t\tthis._stateBeforeScript1(c);\n\t\t} else if(this._state === BEFORE_SCRIPT_2){\n\t\t\tthis._stateBeforeScript2(c);\n\t\t} else if(this._state === BEFORE_SCRIPT_3){\n\t\t\tthis._stateBeforeScript3(c);\n\t\t} else if(this._state === BEFORE_SCRIPT_4){\n\t\t\tthis._stateBeforeScript4(c);\n\t\t} else if(this._state === BEFORE_SCRIPT_5){\n\t\t\tthis._stateBeforeScript5(c);\n\t\t}\n\n\t\telse if(this._state === AFTER_SCRIPT_1){\n\t\t\tthis._stateAfterScript1(c);\n\t\t} else if(this._state === AFTER_SCRIPT_2){\n\t\t\tthis._stateAfterScript2(c);\n\t\t} else if(this._state === AFTER_SCRIPT_3){\n\t\t\tthis._stateAfterScript3(c);\n\t\t} else if(this._state === AFTER_SCRIPT_4){\n\t\t\tthis._stateAfterScript4(c);\n\t\t} else if(this._state === AFTER_SCRIPT_5){\n\t\t\tthis._stateAfterScript5(c);\n\t\t}\n\n\t\t/*\n\t\t* style\n\t\t*/\n\t\telse if(this._state === BEFORE_STYLE_1){\n\t\t\tthis._stateBeforeStyle1(c);\n\t\t} else if(this._state === BEFORE_STYLE_2){\n\t\t\tthis._stateBeforeStyle2(c);\n\t\t} else if(this._state === BEFORE_STYLE_3){\n\t\t\tthis._stateBeforeStyle3(c);\n\t\t} else if(this._state === BEFORE_STYLE_4){\n\t\t\tthis._stateBeforeStyle4(c);\n\t\t}\n\n\t\telse if(this._state === AFTER_STYLE_1){\n\t\t\tthis._stateAfterStyle1(c);\n\t\t} else if(this._state === AFTER_STYLE_2){\n\t\t\tthis._stateAfterStyle2(c);\n\t\t} else if(this._state === AFTER_STYLE_3){\n\t\t\tthis._stateAfterStyle3(c);\n\t\t} else if(this._state === AFTER_STYLE_4){\n\t\t\tthis._stateAfterStyle4(c);\n\t\t}\n\n\t\t/*\n\t\t* entities\n\t\t*/\n\t\telse if(this._state === BEFORE_ENTITY){\n\t\t\tthis._stateBeforeEntity(c);\n\t\t} else if(this._state === BEFORE_NUMERIC_ENTITY){\n\t\t\tthis._stateBeforeNumericEntity(c);\n\t\t} else if(this._state === IN_NAMED_ENTITY){\n\t\t\tthis._stateInNamedEntity(c);\n\t\t} else if(this._state === IN_NUMERIC_ENTITY){\n\t\t\tthis._stateInNumericEntity(c);\n\t\t} else if(this._state === IN_HEX_ENTITY){\n\t\t\tthis._stateInHexEntity(c);\n\t\t}\n\n\t\telse {\n\t\t\tthis._cbs.onerror(Error(\"unknown _state\"), this._state);\n\t\t}\n\n\t\tthis._index++;\n\t}\n\n\tthis._cleanup();\n};\n\nTokenizer.prototype.pause = function(){\n\tthis._running = false;\n};\nTokenizer.prototype.resume = function(){\n\tthis._running = true;\n\n\tif(this._index < this._buffer.length){\n\t\tthis._parse();\n\t}\n\tif(this._ended){\n\t\tthis._finish();\n\t}\n};\n\nTokenizer.prototype.end = function(chunk){\n\tif(this._ended) this._cbs.onerror(Error(\".end() after done!\"));\n\tif(chunk) this.write(chunk);\n\n\tthis._ended = true;\n\n\tif(this._running) this._finish();\n};\n\nTokenizer.prototype._finish = function(){\n\t//if there is remaining data, emit it in a reasonable way\n\tif(this._sectionStart < this._index){\n\t\tthis._handleTrailingData();\n\t}\n\n\tthis._cbs.onend();\n};\n\nTokenizer.prototype._handleTrailingData = function(){\n\tvar data = this._buffer.substr(this._sectionStart);\n\n\tif(this._state === IN_CDATA || this._state === AFTER_CDATA_1 || this._state === AFTER_CDATA_2){\n\t\tthis._cbs.oncdata(data);\n\t} else if(this._state === IN_COMMENT || this._state === AFTER_COMMENT_1 || this._state === AFTER_COMMENT_2){\n\t\tthis._cbs.oncomment(data);\n\t} else if(this._state === IN_NAMED_ENTITY && !this._xmlMode){\n\t\tthis._parseLegacyEntity();\n\t\tif(this._sectionStart < this._index){\n\t\t\tthis._state = this._baseState;\n\t\t\tthis._handleTrailingData();\n\t\t}\n\t} else if(this._state === IN_NUMERIC_ENTITY && !this._xmlMode){\n\t\tthis._decodeNumericEntity(2, 10);\n\t\tif(this._sectionStart < this._index){\n\t\t\tthis._state = this._baseState;\n\t\t\tthis._handleTrailingData();\n\t\t}\n\t} else if(this._state === IN_HEX_ENTITY && !this._xmlMode){\n\t\tthis._decodeNumericEntity(3, 16);\n\t\tif(this._sectionStart < this._index){\n\t\t\tthis._state = this._baseState;\n\t\t\tthis._handleTrailingData();\n\t\t}\n\t} else if(\n\t\tthis._state !== IN_TAG_NAME &&\n\t\tthis._state !== BEFORE_ATTRIBUTE_NAME &&\n\t\tthis._state !== BEFORE_ATTRIBUTE_VALUE &&\n\t\tthis._state !== AFTER_ATTRIBUTE_NAME &&\n\t\tthis._state !== IN_ATTRIBUTE_NAME &&\n\t\tthis._state !== IN_ATTRIBUTE_VALUE_SQ &&\n\t\tthis._state !== IN_ATTRIBUTE_VALUE_DQ &&\n\t\tthis._state !== IN_ATTRIBUTE_VALUE_NQ &&\n\t\tthis._state !== IN_CLOSING_TAG_NAME\n\t){\n\t\tthis._cbs.ontext(data);\n\t}\n\t//else, ignore remaining data\n\t//TODO add a way to remove current tag\n};\n\nTokenizer.prototype.reset = function(){\n\tTokenizer.call(this, {xmlMode: this._xmlMode, decodeEntities: this._decodeEntities}, this._cbs);\n};\n\nTokenizer.prototype._getSection = function(){\n\treturn this._buffer.substring(this._sectionStart, this._index);\n};\n\nTokenizer.prototype._emitToken = function(name){\n\tthis._cbs[name](this._getSection());\n\tthis._sectionStart = -1;\n};\n\nTokenizer.prototype._emitPartial = function(value){\n\tif(this._baseState !== TEXT){\n\t\tthis._cbs.onattribdata(value); //TODO implement the new event\n\t} else {\n\t\tthis._cbs.ontext(value);\n\t}\n};\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","\nvar inherits;\nif (typeof Object.create === 'function'){\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\nexport default inherits;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport process from 'process';\nvar formatRegExp = /%[sdj%]/g;\nexport function format(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexport function deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexport function debuglog(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n      debugs[set] = function() {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nexport function inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexport function isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexport function isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexport function isNull(arg) {\n  return arg === null;\n}\n\nexport function isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexport function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexport function isString(arg) {\n  return typeof arg === 'string';\n}\n\nexport function isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexport function isUndefined(arg) {\n  return arg === void 0;\n}\n\nexport function isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexport function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexport function isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexport function isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexport function isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexport function isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\n\nexport function isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexport function log() {\n  console.log('%s - %s', timestamp(), format.apply(null, arguments));\n}\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nimport inherits from './inherits';\nexport {inherits}\n\nexport function _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default {\n  inherits: inherits,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n}\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","var Tokenizer = require(\"./Tokenizer.js\");\n\n/*\n\tOptions:\n\n\txmlMode: Special behavior for script/style tags (true by default)\n\tlowerCaseAttributeNames: call .toLowerCase for each attribute name (true if xmlMode is `false`)\n\tlowerCaseTags: call .toLowerCase for each tag name (true if xmlMode is `false`)\n*/\n\n/*\n\tCallbacks:\n\n\toncdataend,\n\toncdatastart,\n\tonclosetag,\n\toncomment,\n\toncommentend,\n\tonerror,\n\tonopentag,\n\tonprocessinginstruction,\n\tonreset,\n\tontext\n*/\n\nvar formTags = {\n\tinput: true,\n\toption: true,\n\toptgroup: true,\n\tselect: true,\n\tbutton: true,\n\tdatalist: true,\n\ttextarea: true\n};\n\nvar openImpliesClose = {\n\ttr      : { tr:true, th:true, td:true },\n\tth      : { th:true },\n\ttd      : { thead:true, td:true },\n\tbody    : { head:true, link:true, script:true },\n\tli      : { li:true },\n\tp       : { p:true },\n\tselect  : formTags,\n\tinput   : formTags,\n\toutput  : formTags,\n\tbutton  : formTags,\n\tdatalist: formTags,\n\ttextarea: formTags,\n\toption  : { option:true },\n\toptgroup: { optgroup:true }\n};\n\nvar voidElements = {\n\t__proto__: null,\n\tarea: true,\n\tbase: true,\n\tbasefont: true,\n\tbr: true,\n\tcol: true,\n\tcommand: true,\n\tembed: true,\n\tframe: true,\n\thr: true,\n\timg: true,\n\tinput: true,\n\tisindex: true,\n\tkeygen: true,\n\tlink: true,\n\tmeta: true,\n\tparam: true,\n\tsource: true,\n\ttrack: true,\n\twbr: true,\n\n\t//common self closing svg elements\n\tpath: true,\n\tcircle: true,\n\tellipse: true,\n\tline: true,\n\trect: true,\n\tuse: true\n};\n\nvar re_nameEnd = /\\s|\\//;\n\nfunction Parser(cbs, options){\n\tthis._options = options || {};\n\tthis._cbs = cbs || {};\n\n\tthis._tagname = \"\";\n\tthis._attribname = \"\";\n\tthis._attribvalue = \"\";\n\tthis._attribs = null;\n\tthis._stack = [];\n\n\tthis.startIndex = 0;\n\tthis.endIndex = null;\n\n\tthis._lowerCaseTagNames = \"lowerCaseTags\" in this._options ?\n\t\t\t\t\t\t\t\t\t!!this._options.lowerCaseTags :\n\t\t\t\t\t\t\t\t\t!this._options.xmlMode;\n\tthis._lowerCaseAttributeNames = \"lowerCaseAttributeNames\" in this._options ?\n\t\t\t\t\t\t\t\t\t!!this._options.lowerCaseAttributeNames :\n\t\t\t\t\t\t\t\t\t!this._options.xmlMode;\n\n\tthis._tokenizer = new Tokenizer(this._options, this);\n}\n\nrequire(\"util\").inherits(Parser, require(\"events\").EventEmitter);\n\nParser.prototype._updatePosition = function(initialOffset){\n\tif(this.endIndex === null){\n\t\tif(this._tokenizer._sectionStart <= initialOffset){\n\t\t\tthis.startIndex = 0;\n\t\t} else {\n\t\t\tthis.startIndex = this._tokenizer._sectionStart - initialOffset;\n\t\t}\n\t}\n\telse this.startIndex = this.endIndex + 1;\n\tthis.endIndex = this._tokenizer._index;\n};\n\n//Tokenizer event handlers\nParser.prototype.ontext = function(data){\n\tthis._updatePosition(1);\n\tthis.endIndex--;\n\n\tif(this._cbs.ontext) this._cbs.ontext(data);\n};\n\nParser.prototype.onopentagname = function(name){\n\tif(this._lowerCaseTagNames){\n\t\tname = name.toLowerCase();\n\t}\n\n\tthis._tagname = name;\n\n\tif (!this._options.xmlMode && name in openImpliesClose) {\n\t\tfor(\n\t\t\tvar el;\n\t\t\t(el = this._stack[this._stack.length-1]) in openImpliesClose[name];\n\t\t\tthis.onclosetag(el)\n\t\t);\n\t}\n\n\tif(this._options.xmlMode || !(name in voidElements)){\n\t\tthis._stack.push(name);\n\t}\n\n\tif(this._cbs.onopentagname) this._cbs.onopentagname(name);\n\tif(this._cbs.onopentag) this._attribs = {};\n};\n\nParser.prototype.onopentagend = function(){\n\tthis._updatePosition(1);\n\n\tif(this._attribs){\n\t\tif(this._cbs.onopentag) this._cbs.onopentag(this._tagname, this._attribs);\n\t\tthis._attribs = null;\n\t}\n\n\tif(!this._options.xmlMode && this._cbs.onclosetag && this._tagname in voidElements){\n\t\tthis._cbs.onclosetag(this._tagname);\n\t}\n\n\tthis._tagname = \"\";\n};\n\nParser.prototype.onclosetag = function(name){\n\tthis._updatePosition(1);\n\n\tif(this._lowerCaseTagNames){\n\t\tname = name.toLowerCase();\n\t}\n\n\tif(this._stack.length && (!(name in voidElements) || this._options.xmlMode)){\n\t\tvar pos = this._stack.lastIndexOf(name);\n\t\tif(pos !== -1){\n\t\t\tif(this._cbs.onclosetag){\n\t\t\t\tpos = this._stack.length - pos;\n\t\t\t\twhile(pos--) this._cbs.onclosetag(this._stack.pop());\n\t\t\t}\n\t\t\telse this._stack.length = pos;\n\t\t} else if(name === \"p\" && !this._options.xmlMode){\n\t\t\tthis.onopentagname(name);\n\t\t\tthis._closeCurrentTag();\n\t\t}\n\t} else if(!this._options.xmlMode && (name === \"br\" || name === \"p\")){\n\t\tthis.onopentagname(name);\n\t\tthis._closeCurrentTag();\n\t}\n};\n\nParser.prototype.onselfclosingtag = function(){\n\tif(this._options.xmlMode || this._options.recognizeSelfClosing){\n\t\tthis._closeCurrentTag();\n\t} else {\n\t\tthis.onopentagend();\n\t}\n};\n\nParser.prototype._closeCurrentTag = function(){\n\tvar name = this._tagname;\n\n\tthis.onopentagend();\n\n\t//self-closing tags will be on the top of the stack\n\t//(cheaper check than in onclosetag)\n\tif(this._stack[this._stack.length-1] === name){\n\t\tif(this._cbs.onclosetag){\n\t\t\tthis._cbs.onclosetag(name);\n\t\t}\n\t\tthis._stack.pop();\n\t}\n};\n\nParser.prototype.onattribname = function(name){\n\tif(this._lowerCaseAttributeNames){\n\t\tname = name.toLowerCase();\n\t}\n\tthis._attribname = name;\n};\n\nParser.prototype.onattribdata = function(value){\n\tthis._attribvalue += value;\n};\n\nParser.prototype.onattribend = function(){\n\tif(this._cbs.onattribute) this._cbs.onattribute(this._attribname, this._attribvalue);\n\tif(\n\t\tthis._attribs &&\n\t\t!Object.prototype.hasOwnProperty.call(this._attribs, this._attribname)\n\t){\n\t\tthis._attribs[this._attribname] = this._attribvalue;\n\t}\n\tthis._attribname = \"\";\n\tthis._attribvalue = \"\";\n};\n\nParser.prototype._getInstructionName = function(value){\n\tvar idx = value.search(re_nameEnd),\n\t    name = idx < 0 ? value : value.substr(0, idx);\n\n\tif(this._lowerCaseTagNames){\n\t\tname = name.toLowerCase();\n\t}\n\n\treturn name;\n};\n\nParser.prototype.ondeclaration = function(value){\n\tif(this._cbs.onprocessinginstruction){\n\t\tvar name = this._getInstructionName(value);\n\t\tthis._cbs.onprocessinginstruction(\"!\" + name, \"!\" + value);\n\t}\n};\n\nParser.prototype.onprocessinginstruction = function(value){\n\tif(this._cbs.onprocessinginstruction){\n\t\tvar name = this._getInstructionName(value);\n\t\tthis._cbs.onprocessinginstruction(\"?\" + name, \"?\" + value);\n\t}\n};\n\nParser.prototype.oncomment = function(value){\n\tthis._updatePosition(4);\n\n\tif(this._cbs.oncomment) this._cbs.oncomment(value);\n\tif(this._cbs.oncommentend) this._cbs.oncommentend();\n};\n\nParser.prototype.oncdata = function(value){\n\tthis._updatePosition(1);\n\n\tif(this._options.xmlMode || this._options.recognizeCDATA){\n\t\tif(this._cbs.oncdatastart) this._cbs.oncdatastart();\n\t\tif(this._cbs.ontext) this._cbs.ontext(value);\n\t\tif(this._cbs.oncdataend) this._cbs.oncdataend();\n\t} else {\n\t\tthis.oncomment(\"[CDATA[\" + value + \"]]\");\n\t}\n};\n\nParser.prototype.onerror = function(err){\n\tif(this._cbs.onerror) this._cbs.onerror(err);\n};\n\nParser.prototype.onend = function(){\n\tif(this._cbs.onclosetag){\n\t\tfor(\n\t\t\tvar i = this._stack.length;\n\t\t\ti > 0;\n\t\t\tthis._cbs.onclosetag(this._stack[--i])\n\t\t);\n\t}\n\tif(this._cbs.onend) this._cbs.onend();\n};\n\n\n//Resets the parser to a blank state, ready to parse a new HTML document\nParser.prototype.reset = function(){\n\tif(this._cbs.onreset) this._cbs.onreset();\n\tthis._tokenizer.reset();\n\n\tthis._tagname = \"\";\n\tthis._attribname = \"\";\n\tthis._attribs = null;\n\tthis._stack = [];\n};\n\n//Parses a complete HTML document and pushes it to the handler\nParser.prototype.parseComplete = function(data){\n\tthis.reset();\n\tthis.end(data);\n};\n\nParser.prototype.write = function(chunk){\n\tthis._tokenizer.write(chunk);\n};\n\nParser.prototype.end = function(chunk){\n\tthis._tokenizer.end(chunk);\n};\n\nParser.prototype.pause = function(){\n\tthis._tokenizer.pause();\n};\n\nParser.prototype.resume = function(){\n\tthis._tokenizer.resume();\n};\n\n//alias for backwards compat\nParser.prototype.parseChunk = Parser.prototype.write;\nParser.prototype.done = Parser.prototype.end;\n\nmodule.exports = Parser;\n","//Types of elements found in the DOM\nmodule.exports = {\n\tText: \"text\", //Text\n\tDirective: \"directive\", //<? ... ?>\n\tComment: \"comment\", //<!-- ... -->\n\tScript: \"script\", //<script> tags\n\tStyle: \"style\", //<style> tags\n\tTag: \"tag\", //Any tag\n\tCDATA: \"cdata\", //<![CDATA[ ... ]]>\n\tDoctype: \"doctype\",\n\n\tisTag: function(elem){\n\t\treturn elem.type === \"tag\" || elem.type === \"script\" || elem.type === \"style\";\n\t}\n};\n","// This object will be used as the prototype for Nodes when creating a\n// DOM-Level-1-compliant structure.\nvar NodePrototype = module.exports = {\n\tget firstChild() {\n\t\tvar children = this.children;\n\t\treturn children && children[0] || null;\n\t},\n\tget lastChild() {\n\t\tvar children = this.children;\n\t\treturn children && children[children.length - 1] || null;\n\t},\n\tget nodeType() {\n\t\treturn nodeTypes[this.type] || nodeTypes.element;\n\t}\n};\n\nvar domLvl1 = {\n\ttagName: \"name\",\n\tchildNodes: \"children\",\n\tparentNode: \"parent\",\n\tpreviousSibling: \"prev\",\n\tnextSibling: \"next\",\n\tnodeValue: \"data\"\n};\n\nvar nodeTypes = {\n\telement: 1,\n\ttext: 3,\n\tcdata: 4,\n\tcomment: 8\n};\n\nObject.keys(domLvl1).forEach(function(key) {\n\tvar shorthand = domLvl1[key];\n\tObject.defineProperty(NodePrototype, key, {\n\t\tget: function() {\n\t\t\treturn this[shorthand] || null;\n\t\t},\n\t\tset: function(val) {\n\t\t\tthis[shorthand] = val;\n\t\t\treturn val;\n\t\t}\n\t});\n});\n","// DOM-Level-1-compliant structure\nvar NodePrototype = require('./node');\nvar ElementPrototype = module.exports = Object.create(NodePrototype);\n\nvar domLvl1 = {\n\ttagName: \"name\"\n};\n\nObject.keys(domLvl1).forEach(function(key) {\n\tvar shorthand = domLvl1[key];\n\tObject.defineProperty(ElementPrototype, key, {\n\t\tget: function() {\n\t\t\treturn this[shorthand] || null;\n\t\t},\n\t\tset: function(val) {\n\t\t\tthis[shorthand] = val;\n\t\t\treturn val;\n\t\t}\n\t});\n});\n","var ElementType = require(\"domelementtype\");\n\nvar re_whitespace = /\\s+/g;\nvar NodePrototype = require(\"./lib/node\");\nvar ElementPrototype = require(\"./lib/element\");\n\nfunction DomHandler(callback, options, elementCB){\n\tif(typeof callback === \"object\"){\n\t\telementCB = options;\n\t\toptions = callback;\n\t\tcallback = null;\n\t} else if(typeof options === \"function\"){\n\t\telementCB = options;\n\t\toptions = defaultOpts;\n\t}\n\tthis._callback = callback;\n\tthis._options = options || defaultOpts;\n\tthis._elementCB = elementCB;\n\tthis.dom = [];\n\tthis._done = false;\n\tthis._tagStack = [];\n}\n\n//default options\nvar defaultOpts = {\n\tnormalizeWhitespace: false //Replace all whitespace with single spaces\n};\n\n//Resets the handler back to starting state\nDomHandler.prototype.onreset = function(){\n\tDomHandler.call(this, this._callback, this._options, this._elementCB);\n};\n\n//Signals the handler that parsing is done\nDomHandler.prototype.onend = function(){\n\tif(this._done) return;\n\tthis._done = true;\n\tthis._handleCallback(null);\n};\n\nDomHandler.prototype._handleCallback =\nDomHandler.prototype.onerror = function(error){\n\tif(typeof this._callback === \"function\"){\n\t\tthis._callback(error, this.dom);\n\t} else {\n\t\tif(error) throw error;\n\t}\n};\n\nDomHandler.prototype.onclosetag = function(){\n\t//if(this._tagStack.pop().name !== name) this._handleCallback(Error(\"Tagname didn't match!\"));\n\tvar elem = this._tagStack.pop();\n\tif(this._elementCB) this._elementCB(elem);\n};\n\nDomHandler.prototype._addDomElement = function(element){\n\tvar parent = this._tagStack[this._tagStack.length - 1];\n\tvar siblings = parent ? parent.children : this.dom;\n\tvar previousSibling = siblings[siblings.length - 1];\n\n\telement.next = null;\n\n\tif (this._options.withDomLvl1) {\n\t\telement.__proto__ = element.type === \"tag\" ? ElementPrototype : NodePrototype;\n\t}\n\n\tif(previousSibling){\n\t\telement.prev = previousSibling;\n\t\tpreviousSibling.next = element;\n\t} else {\n\t\telement.prev = null;\n\t}\n\n\tsiblings.push(element);\n\telement.parent = parent || null;\n};\n\nDomHandler.prototype.onopentag = function(name, attribs){\n\tvar element = {\n\t\ttype: name === \"script\" ? ElementType.Script : name === \"style\" ? ElementType.Style : ElementType.Tag,\n\t\tname: name,\n\t\tattribs: attribs,\n\t\tchildren: []\n\t};\n\n\tthis._addDomElement(element);\n\n\tthis._tagStack.push(element);\n};\n\nDomHandler.prototype.ontext = function(data){\n\t//the ignoreWhitespace is officially dropped, but for now,\n\t//it's an alias for normalizeWhitespace\n\tvar normalize = this._options.normalizeWhitespace || this._options.ignoreWhitespace;\n\n\tvar lastTag;\n\n\tif(!this._tagStack.length && this.dom.length && (lastTag = this.dom[this.dom.length-1]).type === ElementType.Text){\n\t\tif(normalize){\n\t\t\tlastTag.data = (lastTag.data + data).replace(re_whitespace, \" \");\n\t\t} else {\n\t\t\tlastTag.data += data;\n\t\t}\n\t} else {\n\t\tif(\n\t\t\tthis._tagStack.length &&\n\t\t\t(lastTag = this._tagStack[this._tagStack.length - 1]) &&\n\t\t\t(lastTag = lastTag.children[lastTag.children.length - 1]) &&\n\t\t\tlastTag.type === ElementType.Text\n\t\t){\n\t\t\tif(normalize){\n\t\t\t\tlastTag.data = (lastTag.data + data).replace(re_whitespace, \" \");\n\t\t\t} else {\n\t\t\t\tlastTag.data += data;\n\t\t\t}\n\t\t} else {\n\t\t\tif(normalize){\n\t\t\t\tdata = data.replace(re_whitespace, \" \");\n\t\t\t}\n\n\t\t\tthis._addDomElement({\n\t\t\t\tdata: data,\n\t\t\t\ttype: ElementType.Text\n\t\t\t});\n\t\t}\n\t}\n};\n\nDomHandler.prototype.oncomment = function(data){\n\tvar lastTag = this._tagStack[this._tagStack.length - 1];\n\n\tif(lastTag && lastTag.type === ElementType.Comment){\n\t\tlastTag.data += data;\n\t\treturn;\n\t}\n\n\tvar element = {\n\t\tdata: data,\n\t\ttype: ElementType.Comment\n\t};\n\n\tthis._addDomElement(element);\n\tthis._tagStack.push(element);\n};\n\nDomHandler.prototype.oncdatastart = function(){\n\tvar element = {\n\t\tchildren: [{\n\t\t\tdata: \"\",\n\t\t\ttype: ElementType.Text\n\t\t}],\n\t\ttype: ElementType.CDATA\n\t};\n\n\tthis._addDomElement(element);\n\tthis._tagStack.push(element);\n};\n\nDomHandler.prototype.oncommentend = DomHandler.prototype.oncdataend = function(){\n\tthis._tagStack.pop();\n};\n\nDomHandler.prototype.onprocessinginstruction = function(name, data){\n\tthis._addDomElement({\n\t\tname: name,\n\t\tdata: data,\n\t\ttype: ElementType.Directive\n\t});\n};\n\nmodule.exports = DomHandler;\n","var index = require(\"./index.js\"),\n    DomHandler = index.DomHandler,\n\tDomUtils = index.DomUtils;\n\n//TODO: make this a streamable handler\nfunction FeedHandler(callback, options){\n\tthis.init(callback, options);\n}\n\nrequire(\"util\").inherits(FeedHandler, DomHandler);\n\nFeedHandler.prototype.init = DomHandler;\n\nfunction getElements(what, where){\n\treturn DomUtils.getElementsByTagName(what, where, true);\n}\nfunction getOneElement(what, where){\n\treturn DomUtils.getElementsByTagName(what, where, true, 1)[0];\n}\nfunction fetch(what, where, recurse){\n\treturn DomUtils.getText(\n\t\tDomUtils.getElementsByTagName(what, where, recurse, 1)\n\t).trim();\n}\n\nfunction addConditionally(obj, prop, what, where, recurse){\n\tvar tmp = fetch(what, where, recurse);\n\tif(tmp) obj[prop] = tmp;\n}\n\nvar isValidFeed = function(value) {\n\treturn value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n};\n\nFeedHandler.prototype.onend = function() {\n\tvar feed = {},\n\t\tfeedRoot = getOneElement(isValidFeed, this.dom),\n\t\ttmp, childs;\n\n\tif(feedRoot){\n\t\tif(feedRoot.name === \"feed\"){\n\t\t\tchilds = feedRoot.children;\n\n\t\t\tfeed.type = \"atom\";\n\t\t\taddConditionally(feed, \"id\", \"id\", childs);\n\t\t\taddConditionally(feed, \"title\", \"title\", childs);\n\t\t\tif((tmp = getOneElement(\"link\", childs)) && (tmp = tmp.attribs) && (tmp = tmp.href)) feed.link = tmp;\n\t\t\taddConditionally(feed, \"description\", \"subtitle\", childs);\n\t\t\tif((tmp = fetch(\"updated\", childs))) feed.updated = new Date(tmp);\n\t\t\taddConditionally(feed, \"author\", \"email\", childs, true);\n\n\t\t\tfeed.items = getElements(\"entry\", childs).map(function(item){\n\t\t\t\tvar entry = {}, tmp;\n\n\t\t\t\titem = item.children;\n\n\t\t\t\taddConditionally(entry, \"id\", \"id\", item);\n\t\t\t\taddConditionally(entry, \"title\", \"title\", item);\n\t\t\t\tif((tmp = getOneElement(\"link\", item)) && (tmp = tmp.attribs) && (tmp = tmp.href)) entry.link = tmp;\n\t\t\t\taddConditionally(entry, \"description\", \"summary\", item);\n\t\t\t\tif((tmp = fetch(\"updated\", item))) entry.pubDate = new Date(tmp);\n\t\t\t\treturn entry;\n\t\t\t});\n\t\t} else {\n\t\t\tchilds = getOneElement(\"channel\", feedRoot.children).children;\n\n\t\t\tfeed.type = feedRoot.name.substr(0, 3);\n\t\t\tfeed.id = \"\";\n\t\t\taddConditionally(feed, \"title\", \"title\", childs);\n\t\t\taddConditionally(feed, \"link\", \"link\", childs);\n\t\t\taddConditionally(feed, \"description\", \"description\", childs);\n\t\t\tif((tmp = fetch(\"lastBuildDate\", childs))) feed.updated = new Date(tmp);\n\t\t\taddConditionally(feed, \"author\", \"managingEditor\", childs, true);\n\n\t\t\tfeed.items = getElements(\"item\", feedRoot.children).map(function(item){\n\t\t\t\tvar entry = {}, tmp;\n\n\t\t\t\titem = item.children;\n\n\t\t\t\taddConditionally(entry, \"id\", \"guid\", item);\n\t\t\t\taddConditionally(entry, \"title\", \"title\", item);\n\t\t\t\taddConditionally(entry, \"link\", \"link\", item);\n\t\t\t\taddConditionally(entry, \"description\", \"description\", item);\n\t\t\t\tif((tmp = fetch(\"pubDate\", item))) entry.pubDate = new Date(tmp);\n\t\t\t\treturn entry;\n\t\t\t});\n\t\t}\n\t}\n\tthis.dom = feed;\n\tDomHandler.prototype._handleCallback.call(\n\t\tthis, feedRoot ? null : Error(\"couldn't find root of feed\")\n\t);\n};\n\nmodule.exports = FeedHandler;\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","import {Buffer} from 'buffer';\n\nexport default BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return Buffer.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = Buffer.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport {Buffer} from 'buffer';\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nexport function StringDecoder(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","'use strict';\n\n\nReadable.ReadableState = ReadableState;\nimport EventEmitter from 'events';\nimport {inherits, debuglog} from 'util';\nimport BufferList from './buffer-list';\nimport {StringDecoder} from 'string_decoder';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\n\nvar debug = debuglog('stream');\ninherits(Readable, EventEmitter);\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event])\n      emitter.on(event, fn);\n    else if (Array.isArray(emitter._events[event]))\n      emitter._events[event].unshift(fn);\n    else\n      emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\nfunction listenerCount (emitter, type) {\n  return emitter.listeners(type).length;\n}\nfunction ReadableState(options, stream) {\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nexport default Readable;\nexport function Readable(options) {\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options && typeof options.read === 'function') this._read = options.read;\n\n  EventEmitter.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n\n  if (!state.objectMode && typeof chunk === 'string') {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = Buffer.from(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var _e = new Error('stream.unshift() after end event');\n      stream.emit('error', _e);\n    } else {\n      var skipAdd;\n      if (state.decoder && !addToFront && !encoding) {\n        chunk = state.decoder.write(chunk);\n        skipAdd = !state.objectMode && chunk.length === 0;\n      }\n\n      if (!addToFront) state.reading = false;\n\n      // Don't add to the buffer if we've decoded to an empty string chunk and\n      // we're not in object mode\n      if (!skipAdd) {\n        // if we want the data now, just emit it.\n        if (state.flowing && state.length === 0 && !state.sync) {\n          stream.emit('data', chunk);\n          stream.read(0);\n        } else {\n          // update the buffer info.\n          state.length += state.objectMode ? 1 : chunk.length;\n          if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n          if (state.needReadable) emitReadable(stream);\n        }\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false);\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted) nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (listenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && src.listeners('data').length) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var _i = 0; _i < len; _i++) {\n      dests[_i].emit('unpipe', this);\n    }return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1) return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = EventEmitter.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function (ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n\nimport {inherits, deprecate} from 'util';\nimport {Buffer} from 'buffer';\nWritable.WritableState = WritableState;\nimport {EventEmitter} from 'events';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\ninherits(Writable, EventEmitter);\n\nfunction nop() {}\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\nfunction WritableState(options, stream) {\n  Object.defineProperty(this, 'buffer', {\n    get: deprecate(function () {\n      return this.getBuffer();\n    }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.')\n  });\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function writableStateGetBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\nexport default Writable;\nexport function Writable(options) {\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex)) return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n  }\n\n  EventEmitter.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  nextTick(cb, er);\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n  // Always throw error if a null is written\n  // if we are not in object mode then throw\n  // if it is not a buffer, string, or undefined.\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) nextTick(cb, er);else cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n        nextTick(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n        afterWrite(stream, state, finished, cb);\n      }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    while (entry) {\n      buffer[count] = entry;\n      entry = entry.next;\n      count += 1;\n    }\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else {\n      prefinish(stream, state);\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function (err) {\n    var entry = _this.entry;\n    _this.entry = null;\n    while (entry) {\n      var cb = entry.callback;\n      state.pendingcb--;\n      cb(err);\n      entry = entry.next;\n    }\n    if (state.corkedRequestsFree) {\n      state.corkedRequestsFree.next = _this;\n    } else {\n      state.corkedRequestsFree = _this;\n    }\n  };\n}\n","\nimport {inherits} from 'util';\nimport {nextTick} from 'process';\nimport {Readable} from './readable';\nimport {Writable} from './writable';\n\n\ninherits(Duplex, Readable);\n\nvar keys = Object.keys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\nexport default Duplex;\nexport function Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n","// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n\nimport {Duplex} from './duplex';\n\n\nimport {inherits} from 'util';\ninherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\nexport default Transform;\nexport function Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er) {\n      done(stream, er);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('Not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nfunction done(stream, er) {\n  if (er) return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","\nimport {Transform} from './transform';\n\nimport {inherits} from 'util';\ninherits(PassThrough, Transform);\nexport default PassThrough;\nexport function PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","import EE from 'events';\nimport {inherits} from 'util';\n\nimport {Duplex} from './readable-stream/duplex.js';\nimport {Readable} from './readable-stream/readable.js';\nimport {Writable} from './readable-stream/writable.js';\nimport {Transform} from './readable-stream/transform.js';\nimport {PassThrough} from './readable-stream/passthrough.js';\ninherits(Stream, EE);\nStream.Readable = Readable;\nStream.Writable = Writable;\nStream.Duplex = Duplex;\nStream.Transform = Transform;\nStream.PassThrough = PassThrough;\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\nexport default Stream;\nexport {Readable,Writable,Duplex,Transform,PassThrough,Stream}\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nif (!process.browser && process.env.READABLE_STREAM === 'disable') {\n  module.exports = require('stream');\n}\n","module.exports = Stream;\n\nvar Parser = require(\"./Parser.js\"),\n    WritableStream = require(\"stream\").Writable || require(\"readable-stream\").Writable;\n\nfunction Stream(cbs, options){\n\tvar parser = this._parser = new Parser(cbs, options);\n\n\tWritableStream.call(this, {decodeStrings: false});\n\n\tthis.once(\"finish\", function(){\n\t\tparser.end();\n\t});\n}\n\nrequire(\"util\").inherits(Stream, WritableStream);\n\nWritableStream.prototype._write = function(chunk, encoding, cb){\n\tthis._parser.write(chunk);\n\tcb();\n};","module.exports = Stream;\n\nvar Parser = require(\"./WritableStream.js\");\n\nfunction Stream(options){\n\tParser.call(this, new Cbs(this), options);\n}\n\nrequire(\"util\").inherits(Stream, Parser);\n\nStream.prototype.readable = true;\n\nfunction Cbs(scope){\n\tthis.scope = scope;\n}\n\nvar EVENTS = require(\"../\").EVENTS;\n\nObject.keys(EVENTS).forEach(function(name){\n\tif(EVENTS[name] === 0){\n\t\tCbs.prototype[\"on\" + name] = function(){\n\t\t\tthis.scope.emit(name);\n\t\t};\n\t} else if(EVENTS[name] === 1){\n\t\tCbs.prototype[\"on\" + name] = function(a){\n\t\t\tthis.scope.emit(name, a);\n\t\t};\n\t} else if(EVENTS[name] === 2){\n\t\tCbs.prototype[\"on\" + name] = function(a, b){\n\t\t\tthis.scope.emit(name, a, b);\n\t\t};\n\t} else {\n\t\tthrow Error(\"wrong number of arguments!\");\n\t}\n});","module.exports = ProxyHandler;\n\nfunction ProxyHandler(cbs){\n\tthis._cbs = cbs || {};\n}\n\nvar EVENTS = require(\"./\").EVENTS;\nObject.keys(EVENTS).forEach(function(name){\n\tif(EVENTS[name] === 0){\n\t\tname = \"on\" + name;\n\t\tProxyHandler.prototype[name] = function(){\n\t\t\tif(this._cbs[name]) this._cbs[name]();\n\t\t};\n\t} else if(EVENTS[name] === 1){\n\t\tname = \"on\" + name;\n\t\tProxyHandler.prototype[name] = function(a){\n\t\t\tif(this._cbs[name]) this._cbs[name](a);\n\t\t};\n\t} else if(EVENTS[name] === 2){\n\t\tname = \"on\" + name;\n\t\tProxyHandler.prototype[name] = function(a, b){\n\t\t\tif(this._cbs[name]) this._cbs[name](a, b);\n\t\t};\n\t} else {\n\t\tthrow Error(\"wrong number of arguments\");\n\t}\n});","//Types of elements found in the DOM\nmodule.exports = {\n\tText: \"text\", //Text\n\tDirective: \"directive\", //<? ... ?>\n\tComment: \"comment\", //<!-- ... -->\n\tScript: \"script\", //<script> tags\n\tStyle: \"style\", //<style> tags\n\tTag: \"tag\", //Any tag\n\tCDATA: \"cdata\", //<![CDATA[ ... ]]>\n\n\tisTag: function(elem){\n\t\treturn elem.type === \"tag\" || elem.type === \"script\" || elem.type === \"style\";\n\t}\n};","var inverseXML = getInverseObj(require(\"../maps/xml.json\")),\n    xmlReplacer = getInverseReplacer(inverseXML);\n\nexports.XML = getInverse(inverseXML, xmlReplacer);\n\nvar inverseHTML = getInverseObj(require(\"../maps/entities.json\")),\n    htmlReplacer = getInverseReplacer(inverseHTML);\n\nexports.HTML = getInverse(inverseHTML, htmlReplacer);\n\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function(inverse, name) {\n            inverse[obj[name]] = \"&\" + name + \";\";\n            return inverse;\n        }, {});\n}\n\nfunction getInverseReplacer(inverse) {\n    var single = [],\n        multiple = [];\n\n    Object.keys(inverse).forEach(function(k) {\n        if (k.length === 1) {\n            single.push(\"\\\\\" + k);\n        } else {\n            multiple.push(k);\n        }\n    });\n\n    //TODO add ranges\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\n\nvar re_nonASCII = /[^\\0-\\x7F]/g,\n    re_astralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction singleCharReplacer(c) {\n    return (\n        \"&#x\" +\n        c\n            .charCodeAt(0)\n            .toString(16)\n            .toUpperCase() +\n        \";\"\n    );\n}\n\nfunction astralReplacer(c) {\n    // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n    var high = c.charCodeAt(0);\n    var low = c.charCodeAt(1);\n    var codePoint = (high - 0xd800) * 0x400 + low - 0xdc00 + 0x10000;\n    return \"&#x\" + codePoint.toString(16).toUpperCase() + \";\";\n}\n\nfunction getInverse(inverse, re) {\n    function func(name) {\n        return inverse[name];\n    }\n\n    return function(data) {\n        return data\n            .replace(re, func)\n            .replace(re_astralSymbols, astralReplacer)\n            .replace(re_nonASCII, singleCharReplacer);\n    };\n}\n\nvar re_xmlChars = getInverseReplacer(inverseXML);\n\nfunction escapeXML(data) {\n    return data\n        .replace(re_xmlChars, singleCharReplacer)\n        .replace(re_astralSymbols, astralReplacer)\n        .replace(re_nonASCII, singleCharReplacer);\n}\n\nexports.escape = escapeXML;\n","var decodeMap = require(\"../maps/decode.json\");\n\nmodule.exports = decodeCodePoint;\n\n// modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n\n    if (codePoint in decodeMap) {\n        codePoint = decodeMap[codePoint];\n    }\n\n    var output = \"\";\n\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n\n    output += String.fromCharCode(codePoint);\n    return output;\n}\n","var entityMap = require(\"../maps/entities.json\"),\n    legacyMap = require(\"../maps/legacy.json\"),\n    xmlMap = require(\"../maps/xml.json\"),\n    decodeCodePoint = require(\"./decode_codepoint.js\");\n\nvar decodeXMLStrict = getStrictDecoder(xmlMap),\n    decodeHTMLStrict = getStrictDecoder(entityMap);\n\nfunction getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\"),\n        replace = getReplacer(map);\n\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n\n    return function(str) {\n        return String(str).replace(re, replace);\n    };\n}\n\nvar decodeHTML = (function() {\n    var legacy = Object.keys(legacyMap).sort(sorter);\n\n    var keys = Object.keys(entityMap).sort(sorter);\n\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        } else {\n            keys[i] += \";\";\n        }\n    }\n\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\"),\n        replace = getReplacer(entityMap);\n\n    function replacer(str) {\n        if (str.substr(-1) !== \";\") str += \";\";\n        return replace(str);\n    }\n\n    //TODO consider creating a merged map\n    return function(str) {\n        return String(str).replace(re, replacer);\n    };\n})();\n\nfunction sorter(a, b) {\n    return a < b ? 1 : -1;\n}\n\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            if (str.charAt(2) === \"X\" || str.charAt(2) === \"x\") {\n                return decodeCodePoint(parseInt(str.substr(3), 16));\n            }\n            return decodeCodePoint(parseInt(str.substr(2), 10));\n        }\n        return map[str.slice(1, -1)];\n    };\n}\n\nmodule.exports = {\n    XML: decodeXMLStrict,\n    HTML: decodeHTML,\n    HTMLStrict: decodeHTMLStrict\n};\n","var encode = require(\"./lib/encode.js\"),\n    decode = require(\"./lib/decode.js\");\n\nexports.decode = function(data, level) {\n    return (!level || level <= 0 ? decode.XML : decode.HTML)(data);\n};\n\nexports.decodeStrict = function(data, level) {\n    return (!level || level <= 0 ? decode.XML : decode.HTMLStrict)(data);\n};\n\nexports.encode = function(data, level) {\n    return (!level || level <= 0 ? encode.XML : encode.HTML)(data);\n};\n\nexports.encodeXML = encode.XML;\n\nexports.encodeHTML4 = exports.encodeHTML5 = exports.encodeHTML = encode.HTML;\n\nexports.decodeXML = exports.decodeXMLStrict = decode.XML;\n\nexports.decodeHTML4 = exports.decodeHTML5 = exports.decodeHTML = decode.HTML;\n\nexports.decodeHTML4Strict = exports.decodeHTML5Strict = exports.decodeHTMLStrict = decode.HTMLStrict;\n\nexports.escape = encode.escape;\n","/*\n  Module dependencies\n*/\nvar ElementType = require('domelementtype');\nvar entities = require('entities');\n\n/*\n  Boolean Attributes\n*/\nvar booleanAttributes = {\n  __proto__: null,\n  allowfullscreen: true,\n  async: true,\n  autofocus: true,\n  autoplay: true,\n  checked: true,\n  controls: true,\n  default: true,\n  defer: true,\n  disabled: true,\n  hidden: true,\n  ismap: true,\n  loop: true,\n  multiple: true,\n  muted: true,\n  open: true,\n  readonly: true,\n  required: true,\n  reversed: true,\n  scoped: true,\n  seamless: true,\n  selected: true,\n  typemustmatch: true\n};\n\nvar unencodedElements = {\n  __proto__: null,\n  style: true,\n  script: true,\n  xmp: true,\n  iframe: true,\n  noembed: true,\n  noframes: true,\n  plaintext: true,\n  noscript: true\n};\n\n/*\n  Format attributes\n*/\nfunction formatAttrs(attributes, opts) {\n  if (!attributes) return;\n\n  var output = '',\n      value;\n\n  // Loop through the attributes\n  for (var key in attributes) {\n    value = attributes[key];\n    if (output) {\n      output += ' ';\n    }\n\n    if (!value && booleanAttributes[key]) {\n      output += key;\n    } else {\n      output += key + '=\"' + (opts.decodeEntities ? entities.encodeXML(value) : value) + '\"';\n    }\n  }\n\n  return output;\n}\n\n/*\n  Self-enclosing tags (stolen from node-htmlparser)\n*/\nvar singleTag = {\n  __proto__: null,\n  area: true,\n  base: true,\n  basefont: true,\n  br: true,\n  col: true,\n  command: true,\n  embed: true,\n  frame: true,\n  hr: true,\n  img: true,\n  input: true,\n  isindex: true,\n  keygen: true,\n  link: true,\n  meta: true,\n  param: true,\n  source: true,\n  track: true,\n  wbr: true,\n\n  //common self closing svg elements\n  path: true,\n  circle: true,\n  ellipse: true,\n  line: true,\n  rect: true,\n  use: true\n};\n\nvar render = module.exports = function(dom, opts) {\n  if (!Array.isArray(dom) && !dom.cheerio) dom = [dom];\n  opts = opts || {};\n\n  var output = '';\n\n  for(var i = 0; i < dom.length; i++){\n    var elem = dom[i];\n\n    if (elem.type === 'root')\n      output += render(elem.children, opts);\n    else if (ElementType.isTag(elem))\n      output += renderTag(elem, opts);\n    else if (elem.type === ElementType.Directive)\n      output += renderDirective(elem);\n    else if (elem.type === ElementType.Comment)\n      output += renderComment(elem);\n    else if (elem.type === ElementType.CDATA)\n      output += renderCdata(elem);\n    else\n      output += renderText(elem, opts);\n  }\n\n  return output;\n};\n\nfunction renderTag(elem, opts) {\n  var tag = '<' + elem.name,\n      attribs = formatAttrs(elem.attribs, opts);\n\n  if (attribs) {\n    tag += ' ' + attribs;\n  }\n\n  if (\n    opts.xmlMode &&\n    (!elem.children || elem.children.length === 0)\n  ) {\n    tag += '/>';\n  } else {\n    tag += '>';\n    tag += render(elem.children, opts);\n\n    if (!singleTag[elem.name] || opts.xmlMode) {\n      tag += '</' + elem.name + '>';\n    }\n  }\n\n\n\n  return tag;\n}\n\nfunction renderDirective(elem) {\n  return '<' + elem.data + '>';\n}\n\nfunction renderText(elem, opts) {\n  var data = elem.data || '';\n\n  // if entities weren't decoded, no need to encode them back\n  if (opts.decodeEntities && !(elem.parent && elem.parent.name in unencodedElements)) {\n    data = entities.encodeXML(data);\n  }\n\n  return data;\n}\n\nfunction renderCdata(elem) {\n  return '<![CDATA[' + elem.children[0].data + ']]>';\n}\n\nfunction renderComment(elem) {\n  return '<!--' + elem.data + '-->';\n}\n","var ElementType = require(\"domelementtype\"),\n    getOuterHTML = require(\"dom-serializer\"),\n    isTag = ElementType.isTag;\n\nmodule.exports = {\n\tgetInnerHTML: getInnerHTML,\n\tgetOuterHTML: getOuterHTML,\n\tgetText: getText\n};\n\nfunction getInnerHTML(elem, opts){\n\treturn elem.children ? elem.children.map(function(elem){\n\t\treturn getOuterHTML(elem, opts);\n\t}).join(\"\") : \"\";\n}\n\nfunction getText(elem){\n\tif(Array.isArray(elem)) return elem.map(getText).join(\"\");\n\tif(isTag(elem) || elem.type === ElementType.CDATA) return getText(elem.children);\n\tif(elem.type === ElementType.Text) return elem.data;\n\treturn \"\";\n}\n","var getChildren = exports.getChildren = function(elem){\n\treturn elem.children;\n};\n\nvar getParent = exports.getParent = function(elem){\n\treturn elem.parent;\n};\n\nexports.getSiblings = function(elem){\n\tvar parent = getParent(elem);\n\treturn parent ? getChildren(parent) : [elem];\n};\n\nexports.getAttributeValue = function(elem, name){\n\treturn elem.attribs && elem.attribs[name];\n};\n\nexports.hasAttrib = function(elem, name){\n\treturn !!elem.attribs && hasOwnProperty.call(elem.attribs, name);\n};\n\nexports.getName = function(elem){\n\treturn elem.name;\n};\n","exports.removeElement = function(elem){\n\tif(elem.prev) elem.prev.next = elem.next;\n\tif(elem.next) elem.next.prev = elem.prev;\n\n\tif(elem.parent){\n\t\tvar childs = elem.parent.children;\n\t\tchilds.splice(childs.lastIndexOf(elem), 1);\n\t}\n};\n\nexports.replaceElement = function(elem, replacement){\n\tvar prev = replacement.prev = elem.prev;\n\tif(prev){\n\t\tprev.next = replacement;\n\t}\n\n\tvar next = replacement.next = elem.next;\n\tif(next){\n\t\tnext.prev = replacement;\n\t}\n\n\tvar parent = replacement.parent = elem.parent;\n\tif(parent){\n\t\tvar childs = parent.children;\n\t\tchilds[childs.lastIndexOf(elem)] = replacement;\n\t}\n};\n\nexports.appendChild = function(elem, child){\n\tchild.parent = elem;\n\n\tif(elem.children.push(child) !== 1){\n\t\tvar sibling = elem.children[elem.children.length - 2];\n\t\tsibling.next = child;\n\t\tchild.prev = sibling;\n\t\tchild.next = null;\n\t}\n};\n\nexports.append = function(elem, next){\n\tvar parent = elem.parent,\n\t\tcurrNext = elem.next;\n\n\tnext.next = currNext;\n\tnext.prev = elem;\n\telem.next = next;\n\tnext.parent = parent;\n\n\tif(currNext){\n\t\tcurrNext.prev = next;\n\t\tif(parent){\n\t\t\tvar childs = parent.children;\n\t\t\tchilds.splice(childs.lastIndexOf(currNext), 0, next);\n\t\t}\n\t} else if(parent){\n\t\tparent.children.push(next);\n\t}\n};\n\nexports.prepend = function(elem, prev){\n\tvar parent = elem.parent;\n\tif(parent){\n\t\tvar childs = parent.children;\n\t\tchilds.splice(childs.lastIndexOf(elem), 0, prev);\n\t}\n\n\tif(elem.prev){\n\t\telem.prev.next = prev;\n\t}\n\t\n\tprev.parent = parent;\n\tprev.prev = elem.prev;\n\tprev.next = elem;\n\telem.prev = prev;\n};\n\n\n","var isTag = require(\"domelementtype\").isTag;\n\nmodule.exports = {\n\tfilter: filter,\n\tfind: find,\n\tfindOneChild: findOneChild,\n\tfindOne: findOne,\n\texistsOne: existsOne,\n\tfindAll: findAll\n};\n\nfunction filter(test, element, recurse, limit){\n\tif(!Array.isArray(element)) element = [element];\n\n\tif(typeof limit !== \"number\" || !isFinite(limit)){\n\t\tlimit = Infinity;\n\t}\n\treturn find(test, element, recurse !== false, limit);\n}\n\nfunction find(test, elems, recurse, limit){\n\tvar result = [], childs;\n\n\tfor(var i = 0, j = elems.length; i < j; i++){\n\t\tif(test(elems[i])){\n\t\t\tresult.push(elems[i]);\n\t\t\tif(--limit <= 0) break;\n\t\t}\n\n\t\tchilds = elems[i].children;\n\t\tif(recurse && childs && childs.length > 0){\n\t\t\tchilds = find(test, childs, recurse, limit);\n\t\t\tresult = result.concat(childs);\n\t\t\tlimit -= childs.length;\n\t\t\tif(limit <= 0) break;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction findOneChild(test, elems){\n\tfor(var i = 0, l = elems.length; i < l; i++){\n\t\tif(test(elems[i])) return elems[i];\n\t}\n\n\treturn null;\n}\n\nfunction findOne(test, elems){\n\tvar elem = null;\n\n\tfor(var i = 0, l = elems.length; i < l && !elem; i++){\n\t\tif(!isTag(elems[i])){\n\t\t\tcontinue;\n\t\t} else if(test(elems[i])){\n\t\t\telem = elems[i];\n\t\t} else if(elems[i].children.length > 0){\n\t\t\telem = findOne(test, elems[i].children);\n\t\t}\n\t}\n\n\treturn elem;\n}\n\nfunction existsOne(test, elems){\n\tfor(var i = 0, l = elems.length; i < l; i++){\n\t\tif(\n\t\t\tisTag(elems[i]) && (\n\t\t\t\ttest(elems[i]) || (\n\t\t\t\t\telems[i].children.length > 0 &&\n\t\t\t\t\texistsOne(test, elems[i].children)\n\t\t\t\t)\n\t\t\t)\n\t\t){\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction findAll(test, elems){\n\tvar result = [];\n\tfor(var i = 0, j = elems.length; i < j; i++){\n\t\tif(!isTag(elems[i])) continue;\n\t\tif(test(elems[i])) result.push(elems[i]);\n\n\t\tif(elems[i].children.length > 0){\n\t\t\tresult = result.concat(findAll(test, elems[i].children));\n\t\t}\n\t}\n\treturn result;\n}\n","var ElementType = require(\"domelementtype\");\nvar isTag = exports.isTag = ElementType.isTag;\n\nexports.testElement = function(options, element){\n\tfor(var key in options){\n\t\tif(!options.hasOwnProperty(key));\n\t\telse if(key === \"tag_name\"){\n\t\t\tif(!isTag(element) || !options.tag_name(element.name)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if(key === \"tag_type\"){\n\t\t\tif(!options.tag_type(element.type)) return false;\n\t\t} else if(key === \"tag_contains\"){\n\t\t\tif(isTag(element) || !options.tag_contains(element.data)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if(!element.attribs || !options[key](element.attribs[key])){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\nvar Checks = {\n\ttag_name: function(name){\n\t\tif(typeof name === \"function\"){\n\t\t\treturn function(elem){ return isTag(elem) && name(elem.name); };\n\t\t} else if(name === \"*\"){\n\t\t\treturn isTag;\n\t\t} else {\n\t\t\treturn function(elem){ return isTag(elem) && elem.name === name; };\n\t\t}\n\t},\n\ttag_type: function(type){\n\t\tif(typeof type === \"function\"){\n\t\t\treturn function(elem){ return type(elem.type); };\n\t\t} else {\n\t\t\treturn function(elem){ return elem.type === type; };\n\t\t}\n\t},\n\ttag_contains: function(data){\n\t\tif(typeof data === \"function\"){\n\t\t\treturn function(elem){ return !isTag(elem) && data(elem.data); };\n\t\t} else {\n\t\t\treturn function(elem){ return !isTag(elem) && elem.data === data; };\n\t\t}\n\t}\n};\n\nfunction getAttribCheck(attrib, value){\n\tif(typeof value === \"function\"){\n\t\treturn function(elem){ return elem.attribs && value(elem.attribs[attrib]); };\n\t} else {\n\t\treturn function(elem){ return elem.attribs && elem.attribs[attrib] === value; };\n\t}\n}\n\nfunction combineFuncs(a, b){\n\treturn function(elem){\n\t\treturn a(elem) || b(elem);\n\t};\n}\n\nexports.getElements = function(options, element, recurse, limit){\n\tvar funcs = Object.keys(options).map(function(key){\n\t\tvar value = options[key];\n\t\treturn key in Checks ? Checks[key](value) : getAttribCheck(key, value);\n\t});\n\n\treturn funcs.length === 0 ? [] : this.filter(\n\t\tfuncs.reduce(combineFuncs),\n\t\telement, recurse, limit\n\t);\n};\n\nexports.getElementById = function(id, element, recurse){\n\tif(!Array.isArray(element)) element = [element];\n\treturn this.findOne(getAttribCheck(\"id\", id), element, recurse !== false);\n};\n\nexports.getElementsByTagName = function(name, element, recurse, limit){\n\treturn this.filter(Checks.tag_name(name), element, recurse, limit);\n};\n\nexports.getElementsByTagType = function(type, element, recurse, limit){\n\treturn this.filter(Checks.tag_type(type), element, recurse, limit);\n};\n","// removeSubsets\n// Given an array of nodes, remove any member that is contained by another.\nexports.removeSubsets = function(nodes) {\n\tvar idx = nodes.length, node, ancestor, replace;\n\n\t// Check if each node (or one of its ancestors) is already contained in the\n\t// array.\n\twhile (--idx > -1) {\n\t\tnode = ancestor = nodes[idx];\n\n\t\t// Temporarily remove the node under consideration\n\t\tnodes[idx] = null;\n\t\treplace = true;\n\n\t\twhile (ancestor) {\n\t\t\tif (nodes.indexOf(ancestor) > -1) {\n\t\t\t\treplace = false;\n\t\t\t\tnodes.splice(idx, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tancestor = ancestor.parent;\n\t\t}\n\n\t\t// If the node has been found to be unique, re-insert it.\n\t\tif (replace) {\n\t\t\tnodes[idx] = node;\n\t\t}\n\t}\n\n\treturn nodes;\n};\n\n// Source: http://dom.spec.whatwg.org/#dom-node-comparedocumentposition\nvar POSITION = {\n\tDISCONNECTED: 1,\n\tPRECEDING: 2,\n\tFOLLOWING: 4,\n\tCONTAINS: 8,\n\tCONTAINED_BY: 16\n};\n\n// Compare the position of one node against another node in any other document.\n// The return value is a bitmask with the following values:\n//\n// document order:\n// > There is an ordering, document order, defined on all the nodes in the\n// > document corresponding to the order in which the first character of the\n// > XML representation of each node occurs in the XML representation of the\n// > document after expansion of general entities. Thus, the document element\n// > node will be the first node. Element nodes occur before their children.\n// > Thus, document order orders element nodes in order of the occurrence of\n// > their start-tag in the XML (after expansion of entities). The attribute\n// > nodes of an element occur after the element and before its children. The\n// > relative order of attribute nodes is implementation-dependent./\n// Source:\n// http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n//\n// @argument {Node} nodaA The first node to use in the comparison\n// @argument {Node} nodeB The second node to use in the comparison\n//\n// @return {Number} A bitmask describing the input nodes' relative position.\n//         See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n//         a description of these values.\nvar comparePos = exports.compareDocumentPosition = function(nodeA, nodeB) {\n\tvar aParents = [];\n\tvar bParents = [];\n\tvar current, sharedParent, siblings, aSibling, bSibling, idx;\n\n\tif (nodeA === nodeB) {\n\t\treturn 0;\n\t}\n\n\tcurrent = nodeA;\n\twhile (current) {\n\t\taParents.unshift(current);\n\t\tcurrent = current.parent;\n\t}\n\tcurrent = nodeB;\n\twhile (current) {\n\t\tbParents.unshift(current);\n\t\tcurrent = current.parent;\n\t}\n\n\tidx = 0;\n\twhile (aParents[idx] === bParents[idx]) {\n\t\tidx++;\n\t}\n\n\tif (idx === 0) {\n\t\treturn POSITION.DISCONNECTED;\n\t}\n\n\tsharedParent = aParents[idx - 1];\n\tsiblings = sharedParent.children;\n\taSibling = aParents[idx];\n\tbSibling = bParents[idx];\n\n\tif (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n\t\tif (sharedParent === nodeB) {\n\t\t\treturn POSITION.FOLLOWING | POSITION.CONTAINED_BY;\n\t\t}\n\t\treturn POSITION.FOLLOWING;\n\t} else {\n\t\tif (sharedParent === nodeA) {\n\t\t\treturn POSITION.PRECEDING | POSITION.CONTAINS;\n\t\t}\n\t\treturn POSITION.PRECEDING;\n\t}\n};\n\n// Sort an array of nodes based on their relative position in the document and\n// remove any duplicate nodes. If the array contains nodes that do not belong\n// to the same document, sort order is unspecified.\n//\n// @argument {Array} nodes Array of DOM nodes\n//\n// @returns {Array} collection of unique nodes, sorted in document order\nexports.uniqueSort = function(nodes) {\n\tvar idx = nodes.length, node, position;\n\n\tnodes = nodes.slice();\n\n\twhile (--idx > -1) {\n\t\tnode = nodes[idx];\n\t\tposition = nodes.indexOf(node);\n\t\tif (position > -1 && position < idx) {\n\t\t\tnodes.splice(idx, 1);\n\t\t}\n\t}\n\tnodes.sort(function(a, b) {\n\t\tvar relative = comparePos(a, b);\n\t\tif (relative & POSITION.PRECEDING) {\n\t\t\treturn -1;\n\t\t} else if (relative & POSITION.FOLLOWING) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t});\n\n\treturn nodes;\n};\n","var DomUtils = module.exports;\n\n[\n\trequire(\"./lib/stringify\"),\n\trequire(\"./lib/traversal\"),\n\trequire(\"./lib/manipulation\"),\n\trequire(\"./lib/querying\"),\n\trequire(\"./lib/legacy\"),\n\trequire(\"./lib/helpers\")\n].forEach(function(ext){\n\tObject.keys(ext).forEach(function(key){\n\t\tDomUtils[key] = ext[key].bind(DomUtils);\n\t});\n});\n","module.exports = CollectingHandler;\n\nfunction CollectingHandler(cbs){\n\tthis._cbs = cbs || {};\n\tthis.events = [];\n}\n\nvar EVENTS = require(\"./\").EVENTS;\nObject.keys(EVENTS).forEach(function(name){\n\tif(EVENTS[name] === 0){\n\t\tname = \"on\" + name;\n\t\tCollectingHandler.prototype[name] = function(){\n\t\t\tthis.events.push([name]);\n\t\t\tif(this._cbs[name]) this._cbs[name]();\n\t\t};\n\t} else if(EVENTS[name] === 1){\n\t\tname = \"on\" + name;\n\t\tCollectingHandler.prototype[name] = function(a){\n\t\t\tthis.events.push([name, a]);\n\t\t\tif(this._cbs[name]) this._cbs[name](a);\n\t\t};\n\t} else if(EVENTS[name] === 2){\n\t\tname = \"on\" + name;\n\t\tCollectingHandler.prototype[name] = function(a, b){\n\t\t\tthis.events.push([name, a, b]);\n\t\t\tif(this._cbs[name]) this._cbs[name](a, b);\n\t\t};\n\t} else {\n\t\tthrow Error(\"wrong number of arguments\");\n\t}\n});\n\nCollectingHandler.prototype.onreset = function(){\n\tthis.events = [];\n\tif(this._cbs.onreset) this._cbs.onreset();\n};\n\nCollectingHandler.prototype.restart = function(){\n\tif(this._cbs.onreset) this._cbs.onreset();\n\n\tfor(var i = 0, len = this.events.length; i < len; i++){\n\t\tif(this._cbs[this.events[i][0]]){\n\n\t\t\tvar num = this.events[i].length;\n\n\t\t\tif(num === 1){\n\t\t\t\tthis._cbs[this.events[i][0]]();\n\t\t\t} else if(num === 2){\n\t\t\t\tthis._cbs[this.events[i][0]](this.events[i][1]);\n\t\t\t} else {\n\t\t\t\tthis._cbs[this.events[i][0]](this.events[i][1], this.events[i][2]);\n\t\t\t}\n\t\t}\n\t}\n};\n","var Parser = require(\"./Parser.js\"),\n    DomHandler = require(\"domhandler\");\n\nfunction defineProp(name, value){\n\tdelete module.exports[name];\n\tmodule.exports[name] = value;\n\treturn value;\n}\n\nmodule.exports = {\n\tParser: Parser,\n\tTokenizer: require(\"./Tokenizer.js\"),\n\tElementType: require(\"domelementtype\"),\n\tDomHandler: DomHandler,\n\tget FeedHandler(){\n\t\treturn defineProp(\"FeedHandler\", require(\"./FeedHandler.js\"));\n\t},\n\tget Stream(){\n\t\treturn defineProp(\"Stream\", require(\"./Stream.js\"));\n\t},\n\tget WritableStream(){\n\t\treturn defineProp(\"WritableStream\", require(\"./WritableStream.js\"));\n\t},\n\tget ProxyHandler(){\n\t\treturn defineProp(\"ProxyHandler\", require(\"./ProxyHandler.js\"));\n\t},\n\tget DomUtils(){\n\t\treturn defineProp(\"DomUtils\", require(\"domutils\"));\n\t},\n\tget CollectingHandler(){\n\t\treturn defineProp(\"CollectingHandler\", require(\"./CollectingHandler.js\"));\n\t},\n\t// For legacy support\n\tDefaultHandler: DomHandler,\n\tget RssHandler(){\n\t\treturn defineProp(\"RssHandler\", this.FeedHandler);\n\t},\n\t//helper methods\n\tparseDOM: function(data, options) {\n\t\tvar handler = new DomHandler(options);\n\t\tnew Parser(handler, options).end(data);\n\t\treturn handler.dom;\n\t},\n\tparseFeed: function(feed, options){\n\t\tvar handler = new module.exports.FeedHandler(options);\n\t\tnew Parser(handler, options).end(feed);\n\t\treturn handler.dom;\n\t},\n\tcreateDomStream: function(cb, options, elementCb){\n\t\tvar handler = new DomHandler(cb, options, elementCb);\n\t\treturn new Parser(handler, options);\n\t},\n\t// List of all events that the parser emits\n\tEVENTS: { /* Format: eventname: number of arguments */\n\t\tattribute: 2,\n\t\tcdatastart: 0,\n\t\tcdataend: 0,\n\t\ttext: 1,\n\t\tprocessinginstruction: 2,\n\t\tcomment: 1,\n\t\tcommentend: 0,\n\t\tclosetag: 1,\n\t\topentag: 2,\n\t\topentagname: 1,\n\t\terror: 1,\n\t\tend: 0\n\t}\n};\n","/**\n * HTML Tags\n */\n\nvar tags = { tag: true, script: true, style: true };\n\n/**\n * Check if the DOM element is a tag\n *\n * isTag(type) includes <script> and <style> tags\n */\n\nexports.isTag = function(type) {\n  if (type.type) type = type.type;\n  return tags[type] || false;\n};\n\n/**\n * Convert a string to camel case notation.\n * @param  {String} str String to be converted.\n * @return {String}     String in camel case notation.\n */\n\nexports.camelCase = function(str) {\n  return str.replace(/[_.-](\\w|$)/g, function(_, x) {\n    return x.toUpperCase();\n  });\n};\n\n/**\n * Convert a string from camel case to \"CSS case\", where word boundaries are\n * described by hyphens (\"-\") and all characters are lower-case.\n * @param  {String} str String to be converted.\n * @return {string}     String in \"CSS case\".\n */\nexports.cssCase = function(str) {\n  return str.replace(/[A-Z]/g, '-$&').toLowerCase();\n};\n\n/**\n * Iterate over each DOM element without creating intermediary Cheerio instances.\n *\n * This is indented for use internally to avoid otherwise unnecessary memory pressure introduced\n * by _make.\n */\n\nexports.domEach = function(cheerio, fn) {\n  var i = 0, len = cheerio.length;\n  while (i < len && fn(i, cheerio[i]) !== false) ++i;\n  return cheerio;\n};\n","/*\n  Module Dependencies\n*/\nvar htmlparser = require('htmlparser2'),\n    utils = require('./utils');\n\n/*\n  Parser\n*/\nexports = module.exports = function(content, options) {\n  var dom = evaluate(content, options);\n\n  // Generic root element\n  var root = {\n    type: 'root',\n    name: 'root',\n    parent: null,\n    prev: null,\n    next: null,\n    children: []\n  };\n\n  // Update the dom using the root\n  update(dom, root);\n\n  return root;\n};\n\nvar evaluate = exports.evaluate = function(content, options) {\n  // options = options || $.fn.options;\n\n  var dom;\n\n  if (typeof content === 'string' || Buffer.isBuffer(content)) {\n    dom = htmlparser.parseDOM(content, options);\n  } else {\n    dom = content;\n  }\n\n  return dom;\n};\n\n/*\n  Update the dom structure, for one changed layer\n*/\nvar update = exports.update = function(arr, parent) {\n  // normalize\n  if (!Array.isArray(arr)) arr = [arr];\n\n  // Update parent\n  if (parent) {\n    parent.children = arr;\n  } else {\n    parent = null;\n  }\n\n  // Update neighbors\n  for (var i = 0; i < arr.length; i++) {\n    var node = arr[i];\n\n    // Cleanly remove existing nodes from their previous structures.\n    var oldParent = node.parent || node.root,\n        oldSiblings = oldParent && oldParent.children;\n    if (oldSiblings && oldSiblings !== arr) {\n      oldSiblings.splice(oldSiblings.indexOf(node), 1);\n      if (node.prev) {\n        node.prev.next = node.next;\n      }\n      if (node.next) {\n        node.next.prev = node.prev;\n      }\n    }\n\n    if (parent) {\n      node.prev = arr[i - 1] || null;\n      node.next = arr[i + 1] || null;\n    } else {\n      node.prev = node.next = null;\n    }\n\n    if (parent && parent.type === 'root') {\n      node.root = parent;\n      node.parent = null;\n    } else {\n      node.root = null;\n      node.parent = parent;\n    }\n  }\n\n  return parent;\n};\n\n// module.exports = $.extend(exports);\n","/**\n * @license\n * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -o ./dist/lodash.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to pool arrays and objects used internally */\n  var arrayPool = [],\n      objectPool = [];\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date + '';\n\n  /** Used as the size when optimizations are enabled for large arrays */\n  var largeArraySize = 75;\n\n  /** Used as the max size of the `arrayPool` and `objectPool` */\n  var maxPoolSize = 40;\n\n  /** Used to detect and test whitespace */\n  var whitespace = (\n    // whitespace\n    ' \\t\\x0B\\f\\xA0\\ufeff' +\n\n    // line terminators\n    '\\n\\r\\u2028\\u2029' +\n\n    // unicode category \"Zs\" space separators\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to match empty string literals in compiled template source */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /**\n   * Used to match ES6 template delimiters\n   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-literals-string-literals\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to detected named functions */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match leading whitespace and zeros to be removed */\n  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to detect functions containing a `this` reference */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** Used to assign default `context` object properties */\n  var contextProps = [\n    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object',\n    'RegExp', 'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN',\n    'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify */\n  var templateCounter = 0;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used as an internal `_.debounce` options object */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used as the property descriptor for `__bindData__` */\n  var descriptor = {\n    'configurable': false,\n    'enumerable': false,\n    'value': null,\n    'writable': false\n  };\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches\n   * or `fromIndex` constraints.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * An implementation of `_.contains` for cache objects that mimics the return\n   * signature of `_.indexOf` by returning `0` if the value is found, else `-1`.\n   *\n   * @private\n   * @param {Object} cache The cache object to inspect.\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `0` if `value` is found, else `-1`.\n   */\n  function cacheIndexOf(cache, value) {\n    var type = typeof value;\n    cache = cache.cache;\n\n    if (type == 'boolean' || value == null) {\n      return cache[value] ? 0 : -1;\n    }\n    if (type != 'number' && type != 'string') {\n      type = 'object';\n    }\n    var key = type == 'number' ? value : keyPrefix + value;\n    cache = (cache = cache[type]) && cache[key];\n\n    return type == 'object'\n      ? (cache && baseIndexOf(cache, value) > -1 ? 0 : -1)\n      : (cache ? 0 : -1);\n  }\n\n  /**\n   * Adds a given value to the corresponding cache object.\n   *\n   * @private\n   * @param {*} value The value to add to the cache.\n   */\n  function cachePush(value) {\n    var cache = this.cache,\n        type = typeof value;\n\n    if (type == 'boolean' || value == null) {\n      cache[value] = true;\n    } else {\n      if (type != 'number' && type != 'string') {\n        type = 'object';\n      }\n      var key = type == 'number' ? value : keyPrefix + value,\n          typeCache = cache[type] || (cache[type] = {});\n\n      if (type == 'object') {\n        (typeCache[key] || (typeCache[key] = [])).push(value);\n      } else {\n        typeCache[key] = true;\n      }\n    }\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback when a given\n   * collection is a string value.\n   *\n   * @private\n   * @param {string} value The character to inspect.\n   * @returns {number} Returns the code unit of given character.\n   */\n  function charAtCallback(value) {\n    return value.charCodeAt(0);\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` elements, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ac = a.criteria,\n        bc = b.criteria,\n        index = -1,\n        length = ac.length;\n\n    while (++index < length) {\n      var value = ac[index],\n          other = bc[index];\n\n      if (value !== other) {\n        if (value > other || typeof value == 'undefined') {\n          return 1;\n        }\n        if (value < other || typeof other == 'undefined') {\n          return -1;\n        }\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to return the same value for\n    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See http://code.google.com/p/v8/issues/detail?id=90\n    return a.index - b.index;\n  }\n\n  /**\n   * Creates a cache object to optimize linear searches of large arrays.\n   *\n   * @private\n   * @param {Array} [array=[]] The array to search.\n   * @returns {null|Object} Returns the cache object or `null` if caching should not be used.\n   */\n  function createCache(array) {\n    var index = -1,\n        length = array.length,\n        first = array[0],\n        mid = array[(length / 2) | 0],\n        last = array[length - 1];\n\n    if (first && typeof first == 'object' &&\n        mid && typeof mid == 'object' && last && typeof last == 'object') {\n      return false;\n    }\n    var cache = getObject();\n    cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;\n\n    var result = getObject();\n    result.array = array;\n    result.cache = cache;\n    result.push = cachePush;\n\n    while (++index < length) {\n      result.push(array[index]);\n    }\n    return result;\n  }\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Gets an array from the array pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Array} The array from the pool.\n   */\n  function getArray() {\n    return arrayPool.pop() || [];\n  }\n\n  /**\n   * Gets an object from the object pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Object} The object from the pool.\n   */\n  function getObject() {\n    return objectPool.pop() || {\n      'array': null,\n      'cache': null,\n      'criteria': null,\n      'false': false,\n      'index': 0,\n      'null': false,\n      'number': null,\n      'object': null,\n      'push': null,\n      'string': null,\n      'true': false,\n      'undefined': false,\n      'value': null\n    };\n  }\n\n  /**\n   * Releases the given array back to the array pool.\n   *\n   * @private\n   * @param {Array} [array] The array to release.\n   */\n  function releaseArray(array) {\n    array.length = 0;\n    if (arrayPool.length < maxPoolSize) {\n      arrayPool.push(array);\n    }\n  }\n\n  /**\n   * Releases the given object back to the object pool.\n   *\n   * @private\n   * @param {Object} [object] The object to release.\n   */\n  function releaseObject(object) {\n    var cache = object.cache;\n    if (cache) {\n      releaseObject(cache);\n    }\n    object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;\n    if (objectPool.length < maxPoolSize) {\n      objectPool.push(object);\n    }\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new `lodash` function using the given context object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns the `lodash` function.\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See http://es5.github.io/#x11.1.5.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references */\n    var Array = context.Array,\n        Boolean = context.Boolean,\n        Date = context.Date,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /**\n     * Used for `Array` method references.\n     *\n     * Normally `Array.prototype` would suffice, however, using an array literal\n     * avoids issues in Narwhal.\n     */\n    var arrayRef = [];\n\n    /** Used for native method references */\n    var objectProto = Object.prototype;\n\n    /** Used to restore the original `_` reference in `noConflict` */\n    var oldDash = context._;\n\n    /** Used to resolve the internal [[Class]] of values */\n    var toString = objectProto.toString;\n\n    /** Used to detect if a method is native */\n    var reNative = RegExp('^' +\n      String(toString)\n        .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n        .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n    );\n\n    /** Native method shortcuts */\n    var ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        fnToString = Function.prototype.toString,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        hasOwnProperty = objectProto.hasOwnProperty,\n        push = arrayRef.push,\n        setTimeout = context.setTimeout,\n        splice = arrayRef.splice,\n        unshift = arrayRef.unshift;\n\n    /** Used to set meta data on functions */\n    var defineProperty = (function() {\n      // IE 8 only accepts DOM elements\n      try {\n        var o = {},\n            func = isNative(func = Object.defineProperty) && func,\n            result = func(o, o, o) && func;\n      } catch(e) { }\n      return result;\n    }());\n\n    /* Native method shortcuts for methods with the same name as other `lodash` methods */\n    var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeIsFinite = context.isFinite,\n        nativeIsNaN = context.isNaN,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used to lookup a built-in constructor by [[Class]] */\n    var ctorByClass = {};\n    ctorByClass[arrayClass] = Array;\n    ctorByClass[boolClass] = Boolean;\n    ctorByClass[dateClass] = Date;\n    ctorByClass[funcClass] = Function;\n    ctorByClass[objectClass] = Object;\n    ctorByClass[numberClass] = Number;\n    ctorByClass[regexpClass] = RegExp;\n    ctorByClass[stringClass] = String;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps the given value to enable intuitive\n     * method chaining.\n     *\n     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n     * and `unshift`\n     *\n     * Chaining is supported in custom builds as long as the `value` method is\n     * implicitly or explicitly included in the build.\n     *\n     * The chainable wrapper functions are:\n     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n     * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n     * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n     * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n     * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n     * and `zip`\n     *\n     * The non-chainable wrapper functions are:\n     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n     * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n     * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n     * `template`, `unescape`, `uniqueId`, and `value`\n     *\n     * The wrapper functions `first` and `last` return wrapped values when `n` is\n     * provided, otherwise they return unwrapped values.\n     *\n     * Explicit chaining can be enabled by using the `_.chain` method.\n     *\n     * @name _\n     * @constructor\n     * @category Chaining\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns a `lodash` instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(num) {\n     *   return num * num;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor\n      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))\n       ? value\n       : new lodashWrapper(value);\n    }\n\n    /**\n     * A fast path for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @param {boolean} chainAll A flag to enable chaining for all methods\n     * @returns {Object} Returns a `lodash` instance.\n     */\n    function lodashWrapper(value, chainAll) {\n      this.__chain__ = !!chainAll;\n      this.__wrapped__ = value;\n    }\n    // ensure `new lodashWrapper` is an instance of `lodash`\n    lodashWrapper.prototype = lodash.prototype;\n\n    /**\n     * An object used to flag environments features.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * Detect if functions can be decompiled by `Function#toString`\n     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);\n\n    /**\n     * Detect if `Function#name` is supported (all but IE).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcNames = typeof Function.name == 'string';\n\n    /**\n     * By default, the template delimiters used by Lo-Dash are similar to those in\n     * embedded Ruby (ERB). Change the following template settings to use alternative\n     * delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': /<%-([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': /<%([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The base implementation of `_.bind` that creates the bound function and\n     * sets its meta data.\n     *\n     * @private\n     * @param {Array} bindData The bind data array.\n     * @returns {Function} Returns the new bound function.\n     */\n    function baseBind(bindData) {\n      var func = bindData[0],\n          partialArgs = bindData[2],\n          thisArg = bindData[4];\n\n      function bound() {\n        // `Function#bind` spec\n        // http://es5.github.io/#x15.3.4.5\n        if (partialArgs) {\n          // avoid `arguments` object deoptimizations by using `slice` instead\n          // of `Array.prototype.slice.call` and not assigning `arguments` to a\n          // variable as a ternary expression\n          var args = slice(partialArgs);\n          push.apply(args, arguments);\n        }\n        // mimic the constructor's `return` behavior\n        // http://es5.github.io/#x13.2.2\n        if (this instanceof bound) {\n          // ensure `new bound` is an instance of `func`\n          var thisBinding = baseCreate(func.prototype),\n              result = func.apply(thisBinding, args || arguments);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisArg, args || arguments);\n      }\n      setBindData(bound, bindData);\n      return bound;\n    }\n\n    /**\n     * The base implementation of `_.clone` without argument juggling or support\n     * for `thisArg` binding.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep=false] Specify a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, callback, stackA, stackB) {\n      if (callback) {\n        var result = callback(value);\n        if (typeof result != 'undefined') {\n          return result;\n        }\n      }\n      // inspect [[Class]]\n      var isObj = isObject(value);\n      if (isObj) {\n        var className = toString.call(value);\n        if (!cloneableClasses[className]) {\n          return value;\n        }\n        var ctor = ctorByClass[className];\n        switch (className) {\n          case boolClass:\n          case dateClass:\n            return new ctor(+value);\n\n          case numberClass:\n          case stringClass:\n            return new ctor(value);\n\n          case regexpClass:\n            result = ctor(value.source, reFlags.exec(value));\n            result.lastIndex = value.lastIndex;\n            return result;\n        }\n      } else {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isDeep) {\n        // check for circular references and return corresponding clone\n        var initedStack = !stackA;\n        stackA || (stackA = getArray());\n        stackB || (stackB = getArray());\n\n        var length = stackA.length;\n        while (length--) {\n          if (stackA[length] == value) {\n            return stackB[length];\n          }\n        }\n        result = isArr ? ctor(value.length) : {};\n      }\n      else {\n        result = isArr ? slice(value) : assign({}, value);\n      }\n      // add array properties assigned by `RegExp#exec`\n      if (isArr) {\n        if (hasOwnProperty.call(value, 'index')) {\n          result.index = value.index;\n        }\n        if (hasOwnProperty.call(value, 'input')) {\n          result.input = value.input;\n        }\n      }\n      // exit for shallow clone\n      if (!isDeep) {\n        return result;\n      }\n      // add the source value to the stack of traversed objects\n      // and associate it with its clone\n      stackA.push(value);\n      stackB.push(result);\n\n      // recursively populate clone (susceptible to call stack limits)\n      (isArr ? forEach : forOwn)(value, function(objValue, key) {\n        result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);\n      });\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    function baseCreate(prototype, properties) {\n      return isObject(prototype) ? nativeCreate(prototype) : {};\n    }\n    // fallback for browsers without `Object.create`\n    if (!nativeCreate) {\n      baseCreate = (function() {\n        function Object() {}\n        return function(prototype) {\n          if (isObject(prototype)) {\n            Object.prototype = prototype;\n            var result = new Object;\n            Object.prototype = null;\n          }\n          return result || context.Object();\n        };\n      }());\n    }\n\n    /**\n     * The base implementation of `_.createCallback` without support for creating\n     * \"_.pluck\" or \"_.where\" style callbacks.\n     *\n     * @private\n     * @param {*} [func=identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of the created callback.\n     * @param {number} [argCount] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     */\n    function baseCreateCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      // exit early for no `thisArg` or already bound by `Function#bind`\n      if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n        return func;\n      }\n      var bindData = func.__bindData__;\n      if (typeof bindData == 'undefined') {\n        if (support.funcNames) {\n          bindData = !func.name;\n        }\n        bindData = bindData || !support.funcDecomp;\n        if (!bindData) {\n          var source = fnToString.call(func);\n          if (!support.funcNames) {\n            bindData = !reFuncName.test(source);\n          }\n          if (!bindData) {\n            // checks if `func` references the `this` keyword and stores the result\n            bindData = reThis.test(source);\n            setBindData(func, bindData);\n          }\n        }\n      }\n      // exit early if there are no `this` references or `func` is bound\n      if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 2: return function(a, b) {\n          return func.call(thisArg, a, b);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n      }\n      return bind(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `createWrapper` that creates the wrapper and\n     * sets its meta data.\n     *\n     * @private\n     * @param {Array} bindData The bind data array.\n     * @returns {Function} Returns the new function.\n     */\n    function baseCreateWrapper(bindData) {\n      var func = bindData[0],\n          bitmask = bindData[1],\n          partialArgs = bindData[2],\n          partialRightArgs = bindData[3],\n          thisArg = bindData[4],\n          arity = bindData[5];\n\n      var isBind = bitmask & 1,\n          isBindKey = bitmask & 2,\n          isCurry = bitmask & 4,\n          isCurryBound = bitmask & 8,\n          key = func;\n\n      function bound() {\n        var thisBinding = isBind ? thisArg : this;\n        if (partialArgs) {\n          var args = slice(partialArgs);\n          push.apply(args, arguments);\n        }\n        if (partialRightArgs || isCurry) {\n          args || (args = slice(arguments));\n          if (partialRightArgs) {\n            push.apply(args, partialRightArgs);\n          }\n          if (isCurry && args.length < arity) {\n            bitmask |= 16 & ~32;\n            return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n          }\n        }\n        args || (args = arguments);\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (this instanceof bound) {\n          thisBinding = baseCreate(func.prototype);\n          var result = func.apply(thisBinding, args);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisBinding, args);\n      }\n      setBindData(bound, bindData);\n      return bound;\n    }\n\n    /**\n     * The base implementation of `_.difference` that accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to process.\n     * @param {Array} [values] The array of values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          isLarge = length >= largeArraySize && indexOf === baseIndexOf,\n          result = [];\n\n      if (isLarge) {\n        var cache = createCache(values);\n        if (cache) {\n          indexOf = cacheIndexOf;\n          values = cache;\n        } else {\n          isLarge = false;\n        }\n      }\n      while (++index < length) {\n        var value = array[index];\n        if (indexOf(values, value) < 0) {\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseObject(values);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` without support for callback\n     * shorthands or `thisArg` binding.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n     * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.\n     * @param {number} [fromIndex=0] The index to start from.\n     * @returns {Array} Returns a new flattened array.\n     */\n    function baseFlatten(array, isShallow, isStrict, fromIndex) {\n      var index = (fromIndex || 0) - 1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (value && typeof value == 'object' && typeof value.length == 'number'\n            && (isArray(value) || isArguments(value))) {\n          // recursively flatten arrays (susceptible to call stack limits)\n          if (!isShallow) {\n            value = baseFlatten(value, isShallow, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length,\n              resIndex = result.length;\n\n          result.length += valLength;\n          while (++valIndex < valLength) {\n            result[resIndex++] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isEqual`, without support for `thisArg` binding,\n     * that allows partial \"_.where\" style comparisons.\n     *\n     * @private\n     * @param {*} a The value to compare.\n     * @param {*} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `a` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `b` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(a, b, callback, isWhere, stackA, stackB) {\n      // used to indicate that when comparing objects, `a` has at least the properties of `b`\n      if (callback) {\n        var result = callback(a, b);\n        if (typeof result != 'undefined') {\n          return !!result;\n        }\n      }\n      // exit early for identical values\n      if (a === b) {\n        // treat `+0` vs. `-0` as not equal\n        return a !== 0 || (1 / a == 1 / b);\n      }\n      var type = typeof a,\n          otherType = typeof b;\n\n      // exit early for unlike primitive values\n      if (a === a &&\n          !(a && objectTypes[type]) &&\n          !(b && objectTypes[otherType])) {\n        return false;\n      }\n      // exit early for `null` and `undefined` avoiding ES3's Function#call behavior\n      // http://es5.github.io/#x15.3.4.4\n      if (a == null || b == null) {\n        return a === b;\n      }\n      // compare [[Class]] names\n      var className = toString.call(a),\n          otherClass = toString.call(b);\n\n      if (className == argsClass) {\n        className = objectClass;\n      }\n      if (otherClass == argsClass) {\n        otherClass = objectClass;\n      }\n      if (className != otherClass) {\n        return false;\n      }\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          // coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal\n          return +a == +b;\n\n        case numberClass:\n          // treat `NaN` vs. `NaN` as equal\n          return (a != +a)\n            ? b != +b\n            // but treat `+0` vs. `-0` as not equal\n            : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n        case regexpClass:\n        case stringClass:\n          // coerce regexes to strings (http://es5.github.io/#x15.10.6.4)\n          // treat string primitives and their corresponding object instances as equal\n          return a == String(b);\n      }\n      var isArr = className == arrayClass;\n      if (!isArr) {\n        // unwrap any `lodash` wrapped values\n        var aWrapped = hasOwnProperty.call(a, '__wrapped__'),\n            bWrapped = hasOwnProperty.call(b, '__wrapped__');\n\n        if (aWrapped || bWrapped) {\n          return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, callback, isWhere, stackA, stackB);\n        }\n        // exit for functions and DOM nodes\n        if (className != objectClass) {\n          return false;\n        }\n        // in older versions of Opera, `arguments` objects have `Array` constructors\n        var ctorA = a.constructor,\n            ctorB = b.constructor;\n\n        // non `Object` object instances with different constructors are not equal\n        if (ctorA != ctorB &&\n              !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&\n              ('constructor' in a && 'constructor' in b)\n            ) {\n          return false;\n        }\n      }\n      // assume cyclic structures are equal\n      // the algorithm for detecting cyclic structures is adapted from ES 5.1\n      // section 15.12.3, abstract operation `JO` (http://es5.github.io/#x15.12.3)\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == a) {\n          return stackB[length] == b;\n        }\n      }\n      var size = 0;\n      result = true;\n\n      // add `a` and `b` to the stack of traversed objects\n      stackA.push(a);\n      stackB.push(b);\n\n      // recursively compare objects and arrays (susceptible to call stack limits)\n      if (isArr) {\n        // compare lengths to determine if a deep comparison is necessary\n        length = a.length;\n        size = b.length;\n        result = size == length;\n\n        if (result || isWhere) {\n          // deep compare the contents, ignoring non-numeric properties\n          while (size--) {\n            var index = length,\n                value = b[size];\n\n            if (isWhere) {\n              while (index--) {\n                if ((result = baseIsEqual(a[index], value, callback, isWhere, stackA, stackB))) {\n                  break;\n                }\n              }\n            } else if (!(result = baseIsEqual(a[size], value, callback, isWhere, stackA, stackB))) {\n              break;\n            }\n          }\n        }\n      }\n      else {\n        // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`\n        // which, in this case, is more costly\n        forIn(b, function(value, key, b) {\n          if (hasOwnProperty.call(b, key)) {\n            // count the number of properties.\n            size++;\n            // deep compare each property value.\n            return (result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, callback, isWhere, stackA, stackB));\n          }\n        });\n\n        if (result && !isWhere) {\n          // ensure both objects have the same number of properties\n          forIn(a, function(value, key, a) {\n            if (hasOwnProperty.call(a, key)) {\n              // `size` will be `-1` if `a` has more properties than `b`\n              return (result = --size > -1);\n            }\n          });\n        }\n      }\n      stackA.pop();\n      stackB.pop();\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.merge` without argument juggling or support\n     * for `thisArg` binding.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     */\n    function baseMerge(object, source, callback, stackA, stackB) {\n      (isArray(source) ? forEach : forOwn)(source, function(source, key) {\n        var found,\n            isArr,\n            result = source,\n            value = object[key];\n\n        if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n          // avoid merging previously merged cyclic sources\n          var stackLength = stackA.length;\n          while (stackLength--) {\n            if ((found = stackA[stackLength] == source)) {\n              value = stackB[stackLength];\n              break;\n            }\n          }\n          if (!found) {\n            var isShallow;\n            if (callback) {\n              result = callback(value, source);\n              if ((isShallow = typeof result != 'undefined')) {\n                value = result;\n              }\n            }\n            if (!isShallow) {\n              value = isArr\n                ? (isArray(value) ? value : [])\n                : (isPlainObject(value) ? value : {});\n            }\n            // add `source` and associated `value` to the stack of traversed objects\n            stackA.push(source);\n            stackB.push(value);\n\n            // recursively merge objects and arrays (susceptible to call stack limits)\n            if (!isShallow) {\n              baseMerge(value, source, callback, stackA, stackB);\n            }\n          }\n        }\n        else {\n          if (callback) {\n            result = callback(value, source);\n            if (typeof result == 'undefined') {\n              result = source;\n            }\n          }\n          if (typeof result != 'undefined') {\n            value = result;\n          }\n        }\n        object[key] = value;\n      });\n    }\n\n    /**\n     * The base implementation of `_.random` without argument juggling or support\n     * for returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns a random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * or `thisArg` binding.\n     *\n     * @private\n     * @param {Array} array The array to process.\n     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n     * @param {Function} [callback] The function called per iteration.\n     * @returns {Array} Returns a duplicate-value-free array.\n     */\n    function baseUniq(array, isSorted, callback) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          result = [];\n\n      var isLarge = !isSorted && length >= largeArraySize && indexOf === baseIndexOf,\n          seen = (callback || isLarge) ? getArray() : result;\n\n      if (isLarge) {\n        var cache = createCache(seen);\n        indexOf = cacheIndexOf;\n        seen = cache;\n      }\n      while (++index < length) {\n        var value = array[index],\n            computed = callback ? callback(value, index, array) : value;\n\n        if (isSorted\n              ? !index || seen[seen.length - 1] !== computed\n              : indexOf(seen, computed) < 0\n            ) {\n          if (callback || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseArray(seen.array);\n        releaseObject(seen);\n      } else if (callback) {\n        releaseArray(seen);\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an object composed\n     * of keys generated from the results of running each element of the collection\n     * through a callback. The given `setter` function sets the keys and values\n     * of the composed object.\n     *\n     * @private\n     * @param {Function} setter The setter function.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter) {\n      return function(collection, callback, thisArg) {\n        var result = {};\n        callback = lodash.createCallback(callback, thisArg, 3);\n\n        var index = -1,\n            length = collection ? collection.length : 0;\n\n        if (typeof length == 'number') {\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, callback(value, index, collection), collection);\n          }\n        } else {\n          forOwn(collection, function(value, key, collection) {\n            setter(result, value, callback(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, either curries or invokes `func`\n     * with an optional `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of method flags to compose.\n     *  The bitmask may be composed of the following flags:\n     *  1 - `_.bind`\n     *  2 - `_.bindKey`\n     *  4 - `_.curry`\n     *  8 - `_.curry` (bound)\n     *  16 - `_.partial`\n     *  32 - `_.partialRight`\n     * @param {Array} [partialArgs] An array of arguments to prepend to those\n     *  provided to the new function.\n     * @param {Array} [partialRightArgs] An array of arguments to append to those\n     *  provided to the new function.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new function.\n     */\n    function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n      var isBind = bitmask & 1,\n          isBindKey = bitmask & 2,\n          isCurry = bitmask & 4,\n          isCurryBound = bitmask & 8,\n          isPartial = bitmask & 16,\n          isPartialRight = bitmask & 32;\n\n      if (!isBindKey && !isFunction(func)) {\n        throw new TypeError;\n      }\n      if (isPartial && !partialArgs.length) {\n        bitmask &= ~16;\n        isPartial = partialArgs = false;\n      }\n      if (isPartialRight && !partialRightArgs.length) {\n        bitmask &= ~32;\n        isPartialRight = partialRightArgs = false;\n      }\n      var bindData = func && func.__bindData__;\n      if (bindData && bindData !== true) {\n        // clone `bindData`\n        bindData = slice(bindData);\n        if (bindData[2]) {\n          bindData[2] = slice(bindData[2]);\n        }\n        if (bindData[3]) {\n          bindData[3] = slice(bindData[3]);\n        }\n        // set `thisBinding` is not previously bound\n        if (isBind && !(bindData[1] & 1)) {\n          bindData[4] = thisArg;\n        }\n        // set if previously bound but not currently (subsequent curried functions)\n        if (!isBind && bindData[1] & 1) {\n          bitmask |= 8;\n        }\n        // set curried arity if not yet set\n        if (isCurry && !(bindData[1] & 4)) {\n          bindData[5] = arity;\n        }\n        // append partial left arguments\n        if (isPartial) {\n          push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n        }\n        // append partial right arguments\n        if (isPartialRight) {\n          unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n        }\n        // merge flags\n        bindData[1] |= bitmask;\n        return createWrapper.apply(null, bindData);\n      }\n      // fast path for `_.bind`\n      var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n      return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n    }\n\n    /**\n     * Used by `escape` to convert characters to HTML entities.\n     *\n     * @private\n     * @param {string} match The matched character to escape.\n     * @returns {string} Returns the escaped character.\n     */\n    function escapeHtmlChar(match) {\n      return htmlEscapes[match];\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized, this method returns the custom method, otherwise it returns\n     * the `baseIndexOf` function.\n     *\n     * @private\n     * @returns {Function} Returns the \"indexOf\" function.\n     */\n    function getIndexOf() {\n      var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n     */\n    function isNative(value) {\n      return typeof value == 'function' && reNative.test(value);\n    }\n\n    /**\n     * Sets `this` binding data on a given function.\n     *\n     * @private\n     * @param {Function} func The function to set data on.\n     * @param {Array} value The data array to set.\n     */\n    var setBindData = !defineProperty ? noop : function(func, value) {\n      descriptor.value = value;\n      defineProperty(func, '__bindData__', descriptor);\n      descriptor.value = null;\n    };\n\n    /**\n     * A fallback implementation of `isPlainObject` which checks if a given value\n     * is an object created by the `Object` constructor, assuming objects created\n     * by the `Object` constructor have no inherited enumerable properties and that\n     * there are no `Object.prototype` extensions.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var ctor,\n          result;\n\n      // avoid non Object objects, `arguments` objects, and DOM elements\n      if (!(value && toString.call(value) == objectClass) ||\n          (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {\n        return false;\n      }\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      forIn(value, function(value, key) {\n        result = key;\n      });\n      return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Used by `unescape` to convert HTML entities to characters.\n     *\n     * @private\n     * @param {string} match The matched character to unescape.\n     * @returns {string} Returns the unescaped character.\n     */\n    function unescapeHtmlChar(match) {\n      return htmlUnescapes[match];\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `value` is an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n     * @example\n     *\n     * (function() { return _.isArguments(arguments); })(1, 2, 3);\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        toString.call(value) == argsClass || false;\n    }\n\n    /**\n     * Checks if `value` is an array.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n     * @example\n     *\n     * (function() { return _.isArray(arguments); })();\n     * // => false\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     */\n    var isArray = nativeIsArray || function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        toString.call(value) == arrayClass || false;\n    };\n\n    /**\n     * A fallback implementation of `Object.keys` which produces an array of the\n     * given object's own enumerable property names.\n     *\n     * @private\n     * @type Function\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names.\n     */\n    var shimKeys = function(object) {\n      var index, iterable = object, result = [];\n      if (!iterable) return result;\n      if (!(objectTypes[typeof object])) return result;\n        for (index in iterable) {\n          if (hasOwnProperty.call(iterable, index)) {\n            result.push(index);\n          }\n        }\n      return result\n    };\n\n    /**\n     * Creates an array composed of the own enumerable property names of an object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names.\n     * @example\n     *\n     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (!isObject(object)) {\n        return [];\n      }\n      return nativeKeys(object);\n    };\n\n    /**\n     * Used to convert characters to HTML entities:\n     *\n     * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n     * don't require escaping in HTML and have no special meaning unless they're part\n     * of a tag or an unquoted attribute value.\n     * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n     */\n    var htmlEscapes = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    };\n\n    /** Used to convert HTML entities to characters */\n    var htmlUnescapes = invert(htmlEscapes);\n\n    /** Used to match HTML entities and HTML characters */\n    var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),\n        reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources will overwrite property assignments of previous\n     * sources. If a callback is provided it will be executed to produce the\n     * assigned values. The callback is bound to `thisArg` and invoked with two\n     * arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @alias extend\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param {Function} [callback] The function to customize assigning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n     * // => { 'name': 'fred', 'employer': 'slate' }\n     *\n     * var defaults = _.partialRight(_.assign, function(a, b) {\n     *   return typeof a == 'undefined' ? b : a;\n     * });\n     *\n     * var object = { 'name': 'barney' };\n     * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n     * // => { 'name': 'barney', 'employer': 'slate' }\n     */\n    var assign = function(object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n        var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n        callback = args[--argsLength];\n      }\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];\n        }\n        }\n      }\n      return result\n    };\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n     * be cloned, otherwise they will be assigned by reference. If a callback\n     * is provided it will be executed to produce the cloned values. If the\n     * callback returns `undefined` cloning will be handled by the method instead.\n     * The callback is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep=false] Specify a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * var shallow = _.clone(characters);\n     * shallow[0] === characters[0];\n     * // => true\n     *\n     * var deep = _.clone(characters, true);\n     * deep[0] === characters[0];\n     * // => false\n     *\n     * _.mixin({\n     *   'clone': _.partialRight(_.clone, function(value) {\n     *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n     *   })\n     * });\n     *\n     * var clone = _.clone(document.body);\n     * clone.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, callback, thisArg) {\n      // allows working with \"Collections\" methods without using their `index`\n      // and `collection` arguments for `isDeep` and `callback`\n      if (typeof isDeep != 'boolean' && isDeep != null) {\n        thisArg = callback;\n        callback = isDeep;\n        isDeep = false;\n      }\n      return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n    }\n\n    /**\n     * Creates a deep clone of `value`. If a callback is provided it will be\n     * executed to produce the cloned values. If the callback returns `undefined`\n     * cloning will be handled by the method instead. The callback is bound to\n     * `thisArg` and invoked with one argument; (value).\n     *\n     * Note: This method is loosely based on the structured clone algorithm. Functions\n     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and\n     * objects created by constructors other than `Object` are cloned to plain `Object` objects.\n     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * var deep = _.cloneDeep(characters);\n     * deep[0] === characters[0];\n     * // => false\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'node': element\n     * };\n     *\n     * var clone = _.cloneDeep(view, function(value) {\n     *   return _.isElement(value) ? value.cloneNode(true) : undefined;\n     * });\n     *\n     * clone.node == view.node;\n     * // => false\n     */\n    function cloneDeep(value, callback, thisArg) {\n      return baseClone(value, true, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n    }\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties ? assign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional defaults of the same property will be ignored.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param- {Object} [guard] Allows working with `_.reduce` without using its\n     *  `key` and `object` arguments as sources.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var object = { 'name': 'barney' };\n     * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });\n     * // => { 'name': 'barney', 'employer': 'slate' }\n     */\n    var defaults = function(object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (typeof result[index] == 'undefined') result[index] = iterable[index];\n        }\n        }\n      }\n      return result\n    };\n\n    /**\n     * This method is like `_.findIndex` except that it returns the key of the\n     * first element that passes the callback check, instead of the element itself.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [callback=identity] The function called per\n     *  iteration. If a property name or object is provided it will be used to\n     *  create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {string|undefined} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * var characters = {\n     *   'barney': {  'age': 36, 'blocked': false },\n     *   'fred': {    'age': 40, 'blocked': true },\n     *   'pebbles': { 'age': 1,  'blocked': false }\n     * };\n     *\n     * _.findKey(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (property order is not guaranteed across environments)\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findKey(characters, { 'age': 1 });\n     * // => 'pebbles'\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findKey(characters, 'blocked');\n     * // => 'fred'\n     */\n    function findKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forOwn(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [callback=identity] The function called per\n     *  iteration. If a property name or object is provided it will be used to\n     *  create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {string|undefined} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * var characters = {\n     *   'barney': {  'age': 36, 'blocked': true },\n     *   'fred': {    'age': 40, 'blocked': false },\n     *   'pebbles': { 'age': 1,  'blocked': true }\n     * };\n     *\n     * _.findLastKey(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles`, assuming `_.findKey` returns `barney`\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findLastKey(characters, { 'age': 40 });\n     * // => 'fred'\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findLastKey(characters, 'blocked');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forOwnRight(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object,\n     * executing the callback for each property. The callback is bound to `thisArg`\n     * and invoked with three arguments; (value, key, object). Callbacks may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * Shape.prototype.move = function(x, y) {\n     *   this.x += x;\n     *   this.y += y;\n     * };\n     *\n     * _.forIn(new Shape, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n     */\n    var forIn = function(collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n        for (index in iterable) {\n          if (callback(iterable[index], index, collection) === false) return result;\n        }\n      return result\n    };\n\n    /**\n     * This method is like `_.forIn` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * Shape.prototype.move = function(x, y) {\n     *   this.x += x;\n     *   this.y += y;\n     * };\n     *\n     * _.forInRight(new Shape, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'move', 'y', and 'x' assuming `_.forIn ` logs 'x', 'y', and 'move'\n     */\n    function forInRight(object, callback, thisArg) {\n      var pairs = [];\n\n      forIn(object, function(value, key) {\n        pairs.push(key, value);\n      });\n\n      var length = pairs.length;\n      callback = baseCreateCallback(callback, thisArg, 3);\n      while (length--) {\n        if (callback(pairs[length--], pairs[length], object) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Iterates over own enumerable properties of an object, executing the callback\n     * for each property. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, key, object). Callbacks may exit iteration early by\n     * explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   console.log(key);\n     * });\n     * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n     */\n    var forOwn = function(collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (callback(iterable[index], index, collection) === false) return result;\n        }\n      return result\n    };\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwnRight({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'length', '1', and '0' assuming `_.forOwn` logs '0', '1', and 'length'\n     */\n    function forOwnRight(object, callback, thisArg) {\n      var props = keys(object),\n          length = props.length;\n\n      callback = baseCreateCallback(callback, thisArg, 3);\n      while (length--) {\n        var key = props[length];\n        if (callback(object[key], key, object) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Creates a sorted array of property names of all enumerable properties,\n     * own and inherited, of `object` that have function values.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names that have function values.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n     */\n    function functions(object) {\n      var result = [];\n      forIn(object, function(value, key) {\n        if (isFunction(value)) {\n          result.push(key);\n        }\n      });\n      return result.sort();\n    }\n\n    /**\n     * Checks if the specified property name exists as a direct property of `object`,\n     * instead of an inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @param {string} key The name of the property to check.\n     * @returns {boolean} Returns `true` if key is a direct property, else `false`.\n     * @example\n     *\n     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n     * // => true\n     */\n    function has(object, key) {\n      return object ? hasOwnProperty.call(object, key) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of the given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the created inverted object.\n     * @example\n     *\n     * _.invert({ 'first': 'fred', 'second': 'barney' });\n     * // => { 'fred': 'first', 'barney': 'second' }\n     */\n    function invert(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        result[object[key]] = key;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a boolean value.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.\n     * @example\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        value && typeof value == 'object' && toString.call(value) == boolClass || false;\n    }\n\n    /**\n     * Checks if `value` is a date.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a date, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     */\n    function isDate(value) {\n      return value && typeof value == 'object' && toString.call(value) == dateClass || false;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     */\n    function isElement(value) {\n      return value && value.nodeType === 1 || false;\n    }\n\n    /**\n     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n     * length of `0` and objects with no own enumerable properties are considered\n     * \"empty\".\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({});\n     * // => true\n     *\n     * _.isEmpty('');\n     * // => true\n     */\n    function isEmpty(value) {\n      var result = true;\n      if (!value) {\n        return result;\n      }\n      var className = toString.call(value),\n          length = value.length;\n\n      if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n        return !length;\n      }\n      forOwn(value, function() {\n        return (result = false);\n      });\n      return result;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent to each other. If a callback is provided it will be executed\n     * to compare values. If the callback returns `undefined` comparisons will\n     * be handled by the method instead. The callback is bound to `thisArg` and\n     * invoked with two arguments; (a, b).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} a The value to compare.\n     * @param {*} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * var copy = { 'name': 'fred' };\n     *\n     * object == copy;\n     * // => false\n     *\n     * _.isEqual(object, copy);\n     * // => true\n     *\n     * var words = ['hello', 'goodbye'];\n     * var otherWords = ['hi', 'goodbye'];\n     *\n     * _.isEqual(words, otherWords, function(a, b) {\n     *   var reGreet = /^(?:hello|hi)$/i,\n     *       aGreet = _.isString(a) && reGreet.test(a),\n     *       bGreet = _.isString(b) && reGreet.test(b);\n     *\n     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n     * });\n     * // => true\n     */\n    function isEqual(a, b, callback, thisArg) {\n      return baseIsEqual(a, b, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 2));\n    }\n\n    /**\n     * Checks if `value` is, or can be coerced to, a finite number.\n     *\n     * Note: This is not the same as native `isFinite` which will return true for\n     * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is finite, else `false`.\n     * @example\n     *\n     * _.isFinite(-101);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => true\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite('');\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n    }\n\n    /**\n     * Checks if `value` is a function.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     */\n    function isFunction(value) {\n      return typeof value == 'function';\n    }\n\n    /**\n     * Checks if `value` is the language type of Object.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // check if the value is the ECMAScript language type of Object\n      // http://es5.github.io/#x8\n      // and avoid a V8 bug\n      // http://code.google.com/p/v8/issues/detail?id=2291\n      return !!(value && objectTypes[typeof value]);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * Note: This is not the same as native `isNaN` which will return `true` for\n     * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // `NaN` as a primitive is the only value that is not equal to itself\n      // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(undefined);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is a number.\n     *\n     * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4 * 5);\n     * // => true\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        value && typeof value == 'object' && toString.call(value) == numberClass || false;\n    }\n\n    /**\n     * Checks if `value` is an object created by the `Object` constructor.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * _.isPlainObject(new Shape);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && toString.call(value) == objectClass)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is a regular expression.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.\n     * @example\n     *\n     * _.isRegExp(/fred/);\n     * // => true\n     */\n    function isRegExp(value) {\n      return value && typeof value == 'object' && toString.call(value) == regexpClass || false;\n    }\n\n    /**\n     * Checks if `value` is a string.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('fred');\n     * // => true\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        value && typeof value == 'object' && toString.call(value) == stringClass || false;\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through the callback.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new object with values of the results of each `callback` execution.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2, 'c': 3} , function(num) { return num * 3; });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     *\n     * var characters = {\n     *   'fred': { 'name': 'fred', 'age': 40 },\n     *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.mapValues(characters, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 }\n     */\n    function mapValues(object, callback, thisArg) {\n      var result = {};\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      forOwn(object, function(value, key, object) {\n        result[key] = callback(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * will overwrite property assignments of previous sources. If a callback is\n     * provided it will be executed to produce the merged values of the destination\n     * and source properties. If the callback returns `undefined` merging will\n     * be handled by the method instead. The callback is bound to `thisArg` and\n     * invoked with two arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var names = {\n     *   'characters': [\n     *     { 'name': 'barney' },\n     *     { 'name': 'fred' }\n     *   ]\n     * };\n     *\n     * var ages = {\n     *   'characters': [\n     *     { 'age': 36 },\n     *     { 'age': 40 }\n     *   ]\n     * };\n     *\n     * _.merge(names, ages);\n     * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }\n     *\n     * var food = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var otherFood = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(food, otherFood, function(a, b) {\n     *   return _.isArray(a) ? a.concat(b) : undefined;\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n     */\n    function merge(object) {\n      var args = arguments,\n          length = 2;\n\n      if (!isObject(object)) {\n        return object;\n      }\n      // allows working with `_.reduce` and `_.reduceRight` without using\n      // their `index` and `collection` arguments\n      if (typeof args[2] != 'number') {\n        length = args.length;\n      }\n      if (length > 3 && typeof args[length - 2] == 'function') {\n        var callback = baseCreateCallback(args[--length - 1], args[length--], 2);\n      } else if (length > 2 && typeof args[length - 1] == 'function') {\n        callback = args[--length];\n      }\n      var sources = slice(arguments, 1, length),\n          index = -1,\n          stackA = getArray(),\n          stackB = getArray();\n\n      while (++index < length) {\n        baseMerge(object, sources[index], callback, stackA, stackB);\n      }\n      releaseArray(stackA);\n      releaseArray(stackB);\n      return object;\n    }\n\n    /**\n     * Creates a shallow clone of `object` excluding the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a callback is provided it will be executed for each\n     * property of `object` omitting the properties the callback returns truey\n     * for. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|...string|string[]} [callback] The properties to omit or the\n     *  function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object without the omitted properties.\n     * @example\n     *\n     * _.omit({ 'name': 'fred', 'age': 40 }, 'age');\n     * // => { 'name': 'fred' }\n     *\n     * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {\n     *   return typeof value == 'number';\n     * });\n     * // => { 'name': 'fred' }\n     */\n    function omit(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var props = [];\n        forIn(object, function(value, key) {\n          props.push(key);\n        });\n        props = baseDifference(props, baseFlatten(arguments, true, false, 1));\n\n        var index = -1,\n            length = props.length;\n\n        while (++index < length) {\n          var key = props[index];\n          result[key] = object[key];\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg, 3);\n        forIn(object, function(value, key, object) {\n          if (!callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates a two dimensional array of an object's key-value pairs,\n     * i.e. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a shallow clone of `object` composed of the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a callback is provided it will be executed for each\n     * property of `object` picking the properties the callback returns truey\n     * for. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|...string|string[]} [callback] The function called per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object composed of the picked properties.\n     * @example\n     *\n     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');\n     * // => { 'name': 'fred' }\n     *\n     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {\n     *   return key.charAt(0) != '_';\n     * });\n     * // => { 'name': 'fred' }\n     */\n    function pick(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var index = -1,\n            props = baseFlatten(arguments, true, false, 1),\n            length = isObject(object) ? props.length : 0;\n\n        while (++index < length) {\n          var key = props[index];\n          if (key in object) {\n            result[key] = object[key];\n          }\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg, 3);\n        forIn(object, function(value, key, object) {\n          if (callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * An alternative to `_.reduce` this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable properties through a callback, with each callback execution\n     * potentially mutating the `accumulator` object. The callback is bound to\n     * `thisArg` and invoked with four arguments; (accumulator, value, key, object).\n     * Callbacks may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var squares = _.transform([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], function(result, num) {\n     *   num *= num;\n     *   if (num % 2) {\n     *     return result.push(num) < 3;\n     *   }\n     * });\n     * // => [1, 9, 25]\n     *\n     * var mapped = _.transform({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     * });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function transform(object, callback, accumulator, thisArg) {\n      var isArr = isArray(object);\n      if (accumulator == null) {\n        if (isArr) {\n          accumulator = [];\n        } else {\n          var ctor = object && object.constructor,\n              proto = ctor && ctor.prototype;\n\n          accumulator = baseCreate(proto);\n        }\n      }\n      if (callback) {\n        callback = lodash.createCallback(callback, thisArg, 4);\n        (isArr ? forEach : forOwn)(object, function(value, index, object) {\n          return callback(accumulator, value, index, object);\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * Creates an array composed of the own enumerable property values of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property values.\n     * @example\n     *\n     * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => [1, 2, 3] (property order is not guaranteed across environments)\n     */\n    function values(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements from the specified indexes, or keys, of the\n     * `collection`. Indexes may be specified as individual arguments or as arrays\n     * of indexes.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [index] The indexes of `collection`\n     *   to retrieve, specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns a new array of elements corresponding to the\n     *  provided indexes.\n     * @example\n     *\n     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);\n     * // => ['a', 'c', 'e']\n     *\n     * _.at(['fred', 'barney', 'pebbles'], 0, 2);\n     * // => ['fred', 'pebbles']\n     */\n    function at(collection) {\n      var args = arguments,\n          index = -1,\n          props = baseFlatten(args, true, false, 1),\n          length = (args[2] && args[2][args[1]] === collection) ? 1 : props.length,\n          result = Array(length);\n\n      while(++index < length) {\n        result[index] = collection[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * Checks if a given value is present in a collection using strict equality\n     * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the\n     * offset from the end of the collection.\n     *\n     * @static\n     * @memberOf _\n     * @alias include\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {*} target The value to check for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {boolean} Returns `true` if the `target` element is found, else `false`.\n     * @example\n     *\n     * _.contains([1, 2, 3], 1);\n     * // => true\n     *\n     * _.contains([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.contains('pebbles', 'eb');\n     * // => true\n     */\n    function contains(collection, target, fromIndex) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = collection ? collection.length : 0,\n          result = false;\n\n      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;\n      if (isArray(collection)) {\n        result = indexOf(collection, target, fromIndex) > -1;\n      } else if (typeof length == 'number') {\n        result = (isString(collection) ? collection.indexOf(target, fromIndex) : indexOf(collection, target, fromIndex)) > -1;\n      } else {\n        forOwn(collection, function(value) {\n          if (++index >= fromIndex) {\n            return !(result = value === target);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through the callback. The corresponding value\n     * of each key is the number of times the key was returned by the callback.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n    });\n\n    /**\n     * Checks if the given callback returns truey value for **all** elements of\n     * a collection. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if all elements passed the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes']);\n     * // => false\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.every(characters, 'age');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.every(characters, { 'age': 36 });\n     * // => false\n     */\n    function every(collection, callback, thisArg) {\n      var result = true;\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (!(result = !!callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return (result = !!callback(value, index, collection));\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, returning an array of all elements\n     * the callback returns truey for. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that passed the callback check.\n     * @example\n     *\n     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [2, 4, 6]\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.filter(characters, 'blocked');\n     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.filter(characters, { 'age': 36 });\n     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n     */\n    function filter(collection, callback, thisArg) {\n      var result = [];\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, returning the first element that\n     * the callback returns truey for. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect, findWhere\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the found element, else `undefined`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': false },\n     *   { 'name': 'fred',    'age': 40, 'blocked': true },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n     * ];\n     *\n     * _.find(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => { 'name': 'barney', 'age': 36, 'blocked': false }\n     *\n     * // using \"_.where\" callback shorthand\n     * _.find(characters, { 'age': 1 });\n     * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.find(characters, 'blocked');\n     * // => { 'name': 'fred', 'age': 40, 'blocked': true }\n     */\n    function find(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            return value;\n          }\n        }\n      } else {\n        var result;\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result = value;\n            return false;\n          }\n        });\n        return result;\n      }\n    }\n\n    /**\n     * This method is like `_.find` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the found element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(num) {\n     *   return num % 2 == 1;\n     * });\n     * // => 3\n     */\n    function findLast(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forEachRight(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result = value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, executing the callback for each\n     * element. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection). Callbacks may exit iteration early by\n     * explicitly returning `false`.\n     *\n     * Note: As with other \"Collections\" methods, objects with a `length` property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n     * // => logs each number and returns '1,2,3'\n     *\n     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n     * // => logs each number and returns the object (property order is not guaranteed across environments)\n     */\n    function forEach(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (callback(collection[index], index, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, callback);\n      }\n      return collection;\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');\n     * // => logs each number from right to left and returns '3,2,1'\n     */\n    function forEachRight(collection, callback, thisArg) {\n      var length = collection ? collection.length : 0;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        while (length--) {\n          if (callback(collection[length], length, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        var props = keys(collection);\n        length = props.length;\n        forOwn(collection, function(value, key, collection) {\n          key = props ? props[--length] : --length;\n          return callback(collection[key], key, collection);\n        });\n      }\n      return collection;\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of a collection through the callback. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of the collection through the given callback. The corresponding\n     * value of each key is the last element responsible for generating the key.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keys = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keys, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method named by `methodName` on each element in the `collection`\n     * returning an array of the results of each invoked method. Additional arguments\n     * will be provided to each invoked method. If `methodName` is a function it\n     * will be invoked for, and `this` bound to, each element in the `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [arg] Arguments to invoke the method with.\n     * @returns {Array} Returns a new array of the results of each invoked method.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    function invoke(collection, methodName) {\n      var args = slice(arguments, 2),\n          index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an array of values by running each element in the collection\n     * through the callback. The callback is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of the results of each `callback` execution.\n     * @example\n     *\n     * _.map([1, 2, 3], function(num) { return num * 3; });\n     * // => [3, 6, 9]\n     *\n     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n     * // => [3, 6, 9] (property order is not guaranteed across environments)\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(characters, 'name');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        var result = Array(length);\n        while (++index < length) {\n          result[index] = callback(collection[index], index, collection);\n        }\n      } else {\n        result = [];\n        forOwn(collection, function(value, key, collection) {\n          result[++index] = callback(value, key, collection);\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the maximum value of a collection. If the collection is empty or\n     * falsey `-Infinity` is returned. If a callback is provided it will be executed\n     * for each value in the collection to generate the criterion by which the value\n     * is ranked. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(characters, function(chr) { return chr.age; });\n     * // => { 'name': 'fred', 'age': 40 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.max(characters, 'age');\n     * // => { 'name': 'fred', 'age': 40 };\n     */\n    function max(collection, callback, thisArg) {\n      var computed = -Infinity,\n          result = computed;\n\n      // allows working with functions like `_.map` without using\n      // their `index` argument as a callback\n      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n        callback = null;\n      }\n      if (callback == null && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value > result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (callback == null && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg, 3);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current > computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the minimum value of a collection. If the collection is empty or\n     * falsey `Infinity` is returned. If a callback is provided it will be executed\n     * for each value in the collection to generate the criterion by which the value\n     * is ranked. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(characters, function(chr) { return chr.age; });\n     * // => { 'name': 'barney', 'age': 36 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.min(characters, 'age');\n     * // => { 'name': 'barney', 'age': 36 };\n     */\n    function min(collection, callback, thisArg) {\n      var computed = Infinity,\n          result = computed;\n\n      // allows working with functions like `_.map` without using\n      // their `index` argument as a callback\n      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n        callback = null;\n      }\n      if (callback == null && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value < result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (callback == null && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg, 3);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current < computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the value of a specified property from all elements in the collection.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string} property The name of the property to pluck.\n     * @returns {Array} Returns a new array of property values.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(characters, 'name');\n     * // => ['barney', 'fred']\n     */\n    var pluck = map;\n\n    /**\n     * Reduces a collection to a value which is the accumulated result of running\n     * each element in the collection through the callback, where each successive\n     * callback execution consumes the return value of the previous execution. If\n     * `accumulator` is not provided the first element of the collection will be\n     * used as the initial `accumulator` value. The callback is bound to `thisArg`\n     * and invoked with four arguments; (accumulator, value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] Initial value of the accumulator.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var sum = _.reduce([1, 2, 3], function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function reduce(collection, callback, accumulator, thisArg) {\n      if (!collection) return accumulator;\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n\n      var index = -1,\n          length = collection.length;\n\n      if (typeof length == 'number') {\n        if (noaccum) {\n          accumulator = collection[++index];\n        }\n        while (++index < length) {\n          accumulator = callback(accumulator, collection[index], index, collection);\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          accumulator = noaccum\n            ? (noaccum = false, value)\n            : callback(accumulator, value, index, collection)\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] Initial value of the accumulator.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var list = [[0, 1], [2, 3], [4, 5]];\n     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, callback, accumulator, thisArg) {\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n      forEachRight(collection, function(value, index, collection) {\n        accumulator = noaccum\n          ? (noaccum = false, value)\n          : callback(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The opposite of `_.filter` this method returns the elements of a\n     * collection that the callback does **not** return truey for.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that failed the callback check.\n     * @example\n     *\n     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [1, 3, 5]\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.reject(characters, 'blocked');\n     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.reject(characters, { 'age': 36 });\n     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n     */\n    function reject(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg, 3);\n      return filter(collection, function(value, index, collection) {\n        return !callback(value, index, collection);\n      });\n    }\n\n    /**\n     * Retrieves a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Allows working with functions like `_.map`\n     *  without using their `index` arguments as `n`.\n     * @returns {Array} Returns the random sample(s) of `collection`.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (collection && typeof collection.length != 'number') {\n        collection = values(collection);\n      }\n      if (n == null || guard) {\n        return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(nativeMax(0, n), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the Fisher-Yates\n     * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns a new shuffled collection.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4, 5, 6]);\n     * // => [4, 1, 6, 3, 5, 2]\n     */\n    function shuffle(collection) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        var rand = baseRandom(0, ++index);\n        result[index] = result[rand];\n        result[rand] = value;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the size of the `collection` by returning `collection.length` for arrays\n     * and array-like objects or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns `collection.length` or number of own enumerable properties.\n     * @example\n     *\n     * _.size([1, 2]);\n     * // => 2\n     *\n     * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => 3\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return typeof length == 'number' ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if the callback returns a truey value for **any** element of a\n     * collection. The function returns as soon as it finds a passing value and\n     * does not iterate over the entire collection. The callback is bound to\n     * `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if any element passed the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.some(characters, 'blocked');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.some(characters, { 'age': 1 });\n     * // => false\n     */\n    function some(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if ((result = callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return !(result = callback(value, index, collection));\n        });\n      }\n      return !!result;\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through the callback. This method\n     * performs a stable sort, that is, it will preserve the original sort order\n     * of equal elements. The callback is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an array of property names is provided for `callback` the collection\n     * will be sorted by each property value.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of sorted elements.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n     * // => [3, 1, 2]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36 },\n     *   { 'name': 'fred',    'age': 40 },\n     *   { 'name': 'barney',  'age': 26 },\n     *   { 'name': 'fred',    'age': 30 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(_.sortBy(characters, 'age'), _.values);\n     * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]\n     *\n     * // sorting by multiple properties\n     * _.map(_.sortBy(characters, ['name', 'age']), _.values);\n     * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n     */\n    function sortBy(collection, callback, thisArg) {\n      var index = -1,\n          isArr = isArray(callback),\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      if (!isArr) {\n        callback = lodash.createCallback(callback, thisArg, 3);\n      }\n      forEach(collection, function(value, key, collection) {\n        var object = result[++index] = getObject();\n        if (isArr) {\n          object.criteria = map(callback, function(key) { return value[key]; });\n        } else {\n          (object.criteria = getArray())[0] = callback(value, key, collection);\n        }\n        object.index = index;\n        object.value = value;\n      });\n\n      length = result.length;\n      result.sort(compareAscending);\n      while (length--) {\n        var object = result[length];\n        result[length] = object.value;\n        if (!isArr) {\n          releaseArray(object.criteria);\n        }\n        releaseObject(object);\n      }\n      return result;\n    }\n\n    /**\n     * Converts the `collection` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to convert.\n     * @returns {Array} Returns the new converted array.\n     * @example\n     *\n     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n     * // => [2, 3, 4]\n     */\n    function toArray(collection) {\n      if (collection && typeof collection.length == 'number') {\n        return slice(collection);\n      }\n      return values(collection);\n    }\n\n    /**\n     * Performs a deep comparison of each element in a `collection` to the given\n     * `properties` object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Object} props The object of property values to filter by.\n     * @returns {Array} Returns a new array of elements that have the given properties.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },\n     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.where(characters, { 'age': 36 });\n     * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]\n     *\n     * _.where(characters, { 'pets': ['dino'] });\n     * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]\n     */\n    var where = filter;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using strict\n     * equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n     * // => [1, 3, 4]\n     */\n    function difference(array) {\n      return baseDifference(array, baseFlatten(arguments, true, true, 1));\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element that passes the callback check, instead of the element itself.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': false },\n     *   { 'name': 'fred',    'age': 40, 'blocked': true },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n     * ];\n     *\n     * _.findIndex(characters, function(chr) {\n     *   return chr.age < 20;\n     * });\n     * // => 2\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findIndex(characters, { 'age': 36 });\n     * // => 0\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findIndex(characters, 'blocked');\n     * // => 1\n     */\n    function findIndex(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (++index < length) {\n        if (callback(array[index], index, array)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': true },\n     *   { 'name': 'fred',    'age': 40, 'blocked': false },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': true }\n     * ];\n     *\n     * _.findLastIndex(characters, function(chr) {\n     *   return chr.age > 30;\n     * });\n     * // => 1\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findLastIndex(characters, { 'age': 36 });\n     * // => 0\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findLastIndex(characters, 'blocked');\n     * // => 2\n     */\n    function findLastIndex(array, callback, thisArg) {\n      var length = array ? array.length : 0;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (length--) {\n        if (callback(array[length], length, array)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the first element or first `n` elements of an array. If a callback\n     * is provided elements at the beginning of the array are returned as long\n     * as the callback returns truey. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head, take\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the first element(s) of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.first([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.first(characters, 'blocked');\n     * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');\n     * // => ['barney', 'fred']\n     */\n    function first(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = -1;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array ? array[0] : undefined;\n        }\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, n), length));\n    }\n\n    /**\n     * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n     * is truey, the array will only be flattened a single level. If a callback\n     * is provided each element of the array is passed through the callback before\n     * flattening. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2], [3, [[4]]]]);\n     * // => [1, 2, 3, 4];\n     *\n     * _.flatten([1, [2], [3, [[4]]]], true);\n     * // => [1, 2, 3, [[4]]];\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },\n     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.flatten(characters, 'pets');\n     * // => ['hoppy', 'baby puss', 'dino']\n     */\n    function flatten(array, isShallow, callback, thisArg) {\n      // juggle arguments\n      if (typeof isShallow != 'boolean' && isShallow != null) {\n        thisArg = callback;\n        callback = (typeof isShallow != 'function' && thisArg && thisArg[isShallow] === array) ? null : isShallow;\n        isShallow = false;\n      }\n      if (callback != null) {\n        array = map(array, callback, thisArg);\n      }\n      return baseFlatten(array, isShallow);\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found using\n     * strict equality for comparisons, i.e. `===`. If the array is already sorted\n     * providing `true` for `fromIndex` will run a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 1\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 4\n     *\n     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      if (typeof fromIndex == 'number') {\n        var length = array ? array.length : 0;\n        fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);\n      } else if (fromIndex) {\n        var index = sortedIndex(array, value);\n        return array[index] === value ? index : -1;\n      }\n      return baseIndexOf(array, value, fromIndex);\n    }\n\n    /**\n     * Gets all but the last element or last `n` elements of an array. If a\n     * callback is provided elements at the end of the array are excluded from\n     * the result as long as the callback returns truey. The callback is bound\n     * to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.initial([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.initial([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [1]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.initial(characters, 'blocked');\n     * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');\n     * // => ['barney', 'fred']\n     */\n    function initial(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : callback || n;\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n    }\n\n    /**\n     * Creates an array of unique values present in all provided arrays using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of shared values.\n     * @example\n     *\n     * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n     * // => [1, 2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = getArray(),\n          indexOf = getIndexOf(),\n          trustIndexOf = indexOf === baseIndexOf,\n          seen = getArray();\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArray(value) || isArguments(value)) {\n          args.push(value);\n          caches.push(trustIndexOf && value.length >= largeArraySize &&\n            createCache(argsIndex ? args[argsIndex] : seen));\n        }\n      }\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      outer:\n      while (++index < length) {\n        var cache = caches[0];\n        value = array[index];\n\n        if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {\n          argsIndex = argsLength;\n          (cache || seen).push(value);\n          while (--argsIndex) {\n            cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n      }\n      while (argsLength--) {\n        cache = caches[argsLength];\n        if (cache) {\n          releaseObject(cache);\n        }\n      }\n      releaseArray(caches);\n      releaseArray(seen);\n      return result;\n    }\n\n    /**\n     * Gets the last element or last `n` elements of an array. If a callback is\n     * provided elements at the end of the array are returned as long as the\n     * callback returns truey. The callback is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the last element(s) of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     *\n     * _.last([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.last([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.pluck(_.last(characters, 'blocked'), 'name');\n     * // => ['fred', 'pebbles']\n     *\n     * // using \"_.where\" callback shorthand\n     * _.last(characters, { 'employer': 'na' });\n     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n     */\n    function last(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array ? array[length - 1] : undefined;\n        }\n      }\n      return slice(array, nativeMax(0, length - n));\n    }\n\n    /**\n     * Gets the index at which the last occurrence of `value` is found using strict\n     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n     * as the offset from the end of the collection.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 4\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var index = array ? array.length : 0;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from the given array using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to modify.\n     * @param {...*} [value] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull(array) {\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = args.length,\n          length = array ? array.length : 0;\n\n      while (++argsIndex < argsLength) {\n        var index = -1,\n            value = args[argsIndex];\n        while (++index < length) {\n          if (array[index] === value) {\n            splice.call(array, index--, 1);\n            length--;\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to but not including `end`. If `start` is less than `stop` a\n     * zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns a new range array.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      start = +start || 0;\n      step = typeof step == 'number' ? step : (+step || 1);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      }\n      // use `Array(length)` so engines like Chakra and V8 avoid slower modes\n      // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n      var index = -1,\n          length = nativeMax(0, ceil((end - start) / (step || 1))),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Removes all elements from an array that the callback returns truey for\n     * and returns an array of removed elements. The callback is bound to `thisArg`\n     * and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4, 5, 6];\n     * var evens = _.remove(array, function(num) { return num % 2 == 0; });\n     *\n     * console.log(array);\n     * // => [1, 3, 5]\n     *\n     * console.log(evens);\n     * // => [2, 4, 6]\n     */\n    function remove(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (callback(value, index, array)) {\n          result.push(value);\n          splice.call(array, index--, 1);\n          length--;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.initial` this method gets all but the first element or\n     * first `n` elements of an array. If a callback function is provided elements\n     * at the beginning of the array are excluded from the result as long as the\n     * callback returns truey. The callback is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias drop, tail\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.rest([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.rest([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [3]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.pluck(_.rest(characters, 'blocked'), 'name');\n     * // => ['fred', 'pebbles']\n     *\n     * // using \"_.where\" callback shorthand\n     * _.rest(characters, { 'employer': 'slate' });\n     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n     */\n    function rest(array, callback, thisArg) {\n      if (typeof callback != 'number' && callback != null) {\n        var n = 0,\n            index = -1,\n            length = array ? array.length : 0;\n\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n      }\n      return slice(array, n);\n    }\n\n    /**\n     * Uses a binary search to determine the smallest index at which a value\n     * should be inserted into a given sorted array in order to maintain the sort\n     * order of the array. If a callback is provided it will be executed for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * callback is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([20, 30, 50], 40);\n     * // => 2\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 2\n     *\n     * var dict = {\n     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n     * };\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return dict.wordToNumber[word];\n     * });\n     * // => 2\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return this.wordToNumber[word];\n     * }, dict);\n     * // => 2\n     */\n    function sortedIndex(array, value, callback, thisArg) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      // explicitly reference `identity` for better inlining in Firefox\n      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;\n      value = callback(value);\n\n      while (low < high) {\n        var mid = (low + high) >>> 1;\n        (callback(array[mid]) < value)\n          ? low = mid + 1\n          : high = mid;\n      }\n      return low;\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of combined values.\n     * @example\n     *\n     * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n     * // => [1, 2, 3, 5, 4]\n     */\n    function union() {\n      return baseUniq(baseFlatten(arguments, true, true));\n    }\n\n    /**\n     * Creates a duplicate-value-free version of an array using strict equality\n     * for comparisons, i.e. `===`. If the array is sorted, providing\n     * `true` for `isSorted` will use a faster algorithm. If a callback is provided\n     * each element of `array` is passed through the callback before uniqueness\n     * is computed. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1, 3, 1]);\n     * // => [1, 2, 3]\n     *\n     * _.uniq([1, 1, 2, 2, 3], true);\n     * // => [1, 2, 3]\n     *\n     * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });\n     * // => ['A', 'b', 'C']\n     *\n     * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);\n     * // => [1, 2.5, 3]\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, callback, thisArg) {\n      // juggle arguments\n      if (typeof isSorted != 'boolean' && isSorted != null) {\n        thisArg = callback;\n        callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;\n        isSorted = false;\n      }\n      if (callback != null) {\n        callback = lodash.createCallback(callback, thisArg, 3);\n      }\n      return baseUniq(array, isSorted, callback);\n    }\n\n    /**\n     * Creates an array excluding all provided values using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to filter.\n     * @param {...*} [value] The values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n     * // => [2, 3, 4]\n     */\n    function without(array) {\n      return baseDifference(array, slice(arguments, 1));\n    }\n\n    /**\n     * Creates an array that is the symmetric difference of the provided arrays.\n     * See http://en.wikipedia.org/wiki/Symmetric_difference.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of values.\n     * @example\n     *\n     * _.xor([1, 2, 3], [5, 2, 1, 4]);\n     * // => [3, 5, 4]\n     *\n     * _.xor([1, 2, 5], [2, 3, 5], [3, 4, 5]);\n     * // => [1, 4, 5]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArray(array) || isArguments(array)) {\n          var result = result\n            ? baseUniq(baseDifference(result, array).concat(baseDifference(array, result)))\n            : array;\n        }\n      }\n      return result || [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second\n     * elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @alias unzip\n     * @category Arrays\n     * @param {...Array} [array] Arrays to process.\n     * @returns {Array} Returns a new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    function zip() {\n      var array = arguments.length > 1 ? arguments : arguments[0],\n          index = -1,\n          length = array ? max(pluck(array, 'length')) : 0,\n          result = Array(length < 0 ? 0 : length);\n\n      while (++index < length) {\n        result[index] = pluck(array, index);\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed from arrays of `keys` and `values`. Provide\n     * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`\n     * or two arrays, one of `keys` and one of corresponding `values`.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Arrays\n     * @param {Array} keys The array of keys.\n     * @param {Array} [values=[]] The array of values.\n     * @returns {Object} Returns an object composed of the given keys and\n     *  corresponding values.\n     * @example\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(keys, values) {\n      var index = -1,\n          length = keys ? keys.length : 0,\n          result = {};\n\n      if (!values && length && !isArray(keys[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = keys[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that executes `func`, with  the `this` binding and\n     * arguments of the created function, only after being called `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {number} n The number of times the function must be called before\n     *  `func` is executed.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('Done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'Done saving!', after all saves have completed\n     */\n    function after(n, func) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with the `this`\n     * binding of `thisArg` and prepends any additional `bind` arguments to those\n     * provided to the bound function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var func = function(greeting) {\n     *   return greeting + ' ' + this.name;\n     * };\n     *\n     * func = _.bind(func, { 'name': 'fred' }, 'hi');\n     * func();\n     * // => 'hi fred'\n     */\n    function bind(func, thisArg) {\n      return arguments.length > 2\n        ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n        : createWrapper(func, 1, null, null, thisArg);\n    }\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all the function properties\n     * of `object` will be bound.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...string} [methodName] The object method names to\n     *  bind, specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() { console.log('clicked ' + this.label); }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs', when the button is clicked\n     */\n    function bindAll(object) {\n      var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),\n          index = -1,\n          length = funcs.length;\n\n      while (++index < length) {\n        var key = funcs[index];\n        object[key] = createWrapper(object[key], 1, null, null, object);\n      }\n      return object;\n    }\n\n    /**\n     * Creates a function that, when called, invokes the method at `object[key]`\n     * and prepends any additional `bindKey` arguments to those provided to the bound\n     * function. This method differs from `_.bind` by allowing bound functions to\n     * reference methods that will be redefined or don't yet exist.\n     * See http://michaux.ca/articles/lazy-function-definition-pattern.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'name': 'fred',\n     *   'greet': function(greeting) {\n     *     return greeting + ' ' + this.name;\n     *   }\n     * };\n     *\n     * var func = _.bindKey(object, 'greet', 'hi');\n     * func();\n     * // => 'hi fred'\n     *\n     * object.greet = function(greeting) {\n     *   return greeting + 'ya ' + this.name + '!';\n     * };\n     *\n     * func();\n     * // => 'hiya fred!'\n     */\n    function bindKey(object, key) {\n      return arguments.length > 2\n        ? createWrapper(key, 19, slice(arguments, 2), null, object)\n        : createWrapper(key, 3, null, null, object);\n    }\n\n    /**\n     * Creates a function that is the composition of the provided functions,\n     * where each function consumes the return value of the function that follows.\n     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n     * Each function is executed with the `this` binding of the composed function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {...Function} [func] Functions to compose.\n     * @returns {Function} Returns the new composed function.\n     * @example\n     *\n     * var realNameMap = {\n     *   'pebbles': 'penelope'\n     * };\n     *\n     * var format = function(name) {\n     *   name = realNameMap[name.toLowerCase()] || name;\n     *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();\n     * };\n     *\n     * var greet = function(formatted) {\n     *   return 'Hiya ' + formatted + '!';\n     * };\n     *\n     * var welcome = _.compose(greet, format);\n     * welcome('pebbles');\n     * // => 'Hiya Penelope!'\n     */\n    function compose() {\n      var funcs = arguments,\n          length = funcs.length;\n\n      while (length--) {\n        if (!isFunction(funcs[length])) {\n          throw new TypeError;\n        }\n      }\n      return function() {\n        var args = arguments,\n            length = funcs.length;\n\n        while (length--) {\n          args = [funcs[length].apply(this, args)];\n        }\n        return args[0];\n      };\n    }\n\n    /**\n     * Creates a function which accepts one or more arguments of `func` that when\n     * invoked either executes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` can be specified\n     * if `func.length` is not sufficient.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var curried = _.curry(function(a, b, c) {\n     *   console.log(a + b + c);\n     * });\n     *\n     * curried(1)(2)(3);\n     * // => 6\n     *\n     * curried(1, 2)(3);\n     * // => 6\n     *\n     * curried(1, 2, 3);\n     * // => 6\n     */\n    function curry(func, arity) {\n      arity = typeof arity == 'number' ? arity : (+arity || func.length);\n      return createWrapper(func, 4, null, null, null, arity);\n    }\n\n    /**\n     * Creates a function that will delay the execution of `func` until after\n     * `wait` milliseconds have elapsed since the last time it was invoked.\n     * Provide an options object to indicate that `func` should be invoked on\n     * the leading and/or trailing edge of the `wait` timeout. Subsequent calls\n     * to the debounced function will return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true` `func` will be called\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to debounce.\n     * @param {number} wait The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.\n     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * var lazyLayout = _.debounce(calculateLayout, 150);\n     * jQuery(window).on('resize', lazyLayout);\n     *\n     * // execute `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * });\n     *\n     * // ensure `batchLog` is executed once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * source.addEventListener('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }, false);\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      wait = nativeMax(0, wait) || 0;\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      var delayed = function() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      };\n\n      var maxDelayed = function() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      };\n\n      return function() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Defers executing the `func` function until the current call stack has cleared.\n     * Additional arguments will be provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to defer.\n     * @param {...*} [arg] Arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) { console.log(text); }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    function defer(func) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var args = slice(arguments, 1);\n      return setTimeout(function() { func.apply(undefined, args); }, 1);\n    }\n\n    /**\n     * Executes the `func` function after `wait` milliseconds. Additional arguments\n     * will be provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay execution.\n     * @param {...*} [arg] Arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) { console.log(text); }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    function delay(func, wait) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var args = slice(arguments, 2);\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it will be used to determine the cache key for storing the result\n     * based on the arguments provided to the memoized function. By default, the\n     * first argument provided to the memoized function is used as the cache key.\n     * The `func` is executed with the `this` binding of the memoized function.\n     * The result cache is exposed as the `cache` property on the memoized function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] A function used to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var fibonacci = _.memoize(function(n) {\n     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n     * });\n     *\n     * fibonacci(9)\n     * // => 34\n     *\n     * var data = {\n     *   'fred': { 'name': 'fred', 'age': 40 },\n     *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // modifying the result cache\n     * var get = _.memoize(function(name) { return data[name]; }, _.identity);\n     * get('pebbles');\n     * // => { 'name': 'pebbles', 'age': 1 }\n     *\n     * get.cache.pebbles.name = 'penelope';\n     * get('pebbles');\n     * // => { 'name': 'penelope', 'age': 1 }\n     */\n    function memoize(func, resolver) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var memoized = function() {\n        var cache = memoized.cache,\n            key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];\n\n        return hasOwnProperty.call(cache, key)\n          ? cache[key]\n          : (cache[key] = func.apply(this, arguments));\n      }\n      memoized.cache = {};\n      return memoized;\n    }\n\n    /**\n     * Creates a function that is restricted to execute `func` once. Repeat calls to\n     * the function will return the value of the first call. The `func` is executed\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` executes `createApplication` once\n     */\n    function once(func) {\n      var ran,\n          result;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      return function() {\n        if (ran) {\n          return result;\n        }\n        ran = true;\n        result = func.apply(this, arguments);\n\n        // clear the `func` variable so the function may be garbage collected\n        func = null;\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with any additional\n     * `partial` arguments prepended to those provided to the new function. This\n     * method is similar to `_.bind` except it does **not** alter the `this` binding.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) { return greeting + ' ' + name; };\n     * var hi = _.partial(greet, 'hi');\n     * hi('fred');\n     * // => 'hi fred'\n     */\n    function partial(func) {\n      return createWrapper(func, 16, slice(arguments, 1));\n    }\n\n    /**\n     * This method is like `_.partial` except that `partial` arguments are\n     * appended to those provided to the new function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var defaultsDeep = _.partialRight(_.merge, _.defaults);\n     *\n     * var options = {\n     *   'variable': 'data',\n     *   'imports': { 'jq': $ }\n     * };\n     *\n     * defaultsDeep(options, _.templateSettings);\n     *\n     * options.variable\n     * // => 'data'\n     *\n     * options.imports\n     * // => { '_': _, 'jq': $ }\n     */\n    function partialRight(func) {\n      return createWrapper(func, 32, null, slice(arguments, 1));\n    }\n\n    /**\n     * Creates a function that, when executed, will only call the `func` function\n     * at most once per every `wait` milliseconds. Provide an options object to\n     * indicate that `func` should be invoked on the leading and/or trailing edge\n     * of the `wait` timeout. Subsequent calls to the throttled function will\n     * return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true` `func` will be called\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to throttle.\n     * @param {number} wait The number of milliseconds to throttle executions to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * var throttled = _.throttle(updatePosition, 100);\n     * jQuery(window).on('scroll', throttled);\n     *\n     * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? options.leading : leading;\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = wait;\n      debounceOptions.trailing = trailing;\n\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Additional arguments provided to the function are appended\n     * to those provided to the wrapper function. The wrapper is executed with\n     * the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('Fred, Wilma, & Pebbles');\n     * // => '<p>Fred, Wilma, &amp; Pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return createWrapper(wrapper, 16, [value]);\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * var getter = _.constant(object);\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Produces a callback bound to an optional `thisArg`. If `func` is a property\n     * name the created callback will return the property value for a given element.\n     * If `func` is an object the created callback will return `true` for elements\n     * that contain the equivalent object properties, otherwise it will return `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} [func=identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of the created callback.\n     * @param {number} [argCount] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n     *   return !match ? func(callback, thisArg) : function(object) {\n     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(characters, 'age__gt38');\n     * // => [{ 'name': 'fred', 'age': 40 }]\n     */\n    function createCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (func == null || type == 'function') {\n        return baseCreateCallback(func, thisArg, argCount);\n      }\n      // handle \"_.pluck\" style callback shorthands\n      if (type != 'object') {\n        return property(func);\n      }\n      var props = keys(func),\n          key = props[0],\n          a = func[key];\n\n      // handle \"_.where\" style callback shorthands\n      if (props.length == 1 && a === a && !isObject(a)) {\n        // fast path the common case of providing an object with a single\n        // property containing a primitive value\n        return function(object) {\n          var b = object[key];\n          return a === b && (a !== 0 || (1 / a == 1 / b));\n        };\n      }\n      return function(object) {\n        var length = props.length,\n            result = false;\n\n        while (length--) {\n          if (!(result = baseIsEqual(object[props[length]], func[props[length]], null, true))) {\n            break;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n     * corresponding HTML entities.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} string The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('Fred, Wilma, & Pebbles');\n     * // => 'Fred, Wilma, &amp; Pebbles'\n     */\n    function escape(string) {\n      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Adds function properties of a source object to the destination object.\n     * If `object` is a function methods will be added to its prototype as well.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Function|Object} [object=lodash] object The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.\n     * @example\n     *\n     * function capitalize(string) {\n     *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n     * }\n     *\n     * _.mixin({ 'capitalize': capitalize });\n     * _.capitalize('fred');\n     * // => 'Fred'\n     *\n     * _('fred').capitalize().value();\n     * // => 'Fred'\n     *\n     * _.mixin({ 'capitalize': capitalize }, { 'chain': false });\n     * _('fred').capitalize();\n     * // => 'Fred'\n     */\n    function mixin(object, source, options) {\n      var chain = true,\n          methodNames = source && functions(source);\n\n      if (!source || (!options && !methodNames.length)) {\n        if (options == null) {\n          options = source;\n        }\n        ctor = lodashWrapper;\n        source = object;\n        object = lodash;\n        methodNames = functions(source);\n      }\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      var ctor = object,\n          isFunc = isFunction(ctor);\n\n      forEach(methodNames, function(methodName) {\n        var func = object[methodName] = source[methodName];\n        if (isFunc) {\n          ctor.prototype[methodName] = function() {\n            var chainAll = this.__chain__,\n                value = this.__wrapped__,\n                args = [value];\n\n            push.apply(args, arguments);\n            var result = func.apply(object, args);\n            if (chain || chainAll) {\n              if (value === result && isObject(result)) {\n                return this;\n              }\n              result = new ctor(result);\n              result.__chain__ = chainAll;\n            }\n            return result;\n          };\n        }\n      });\n    }\n\n    /**\n     * Reverts the '_' variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // no operation performed\n    }\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @example\n     *\n     * var stamp = _.now();\n     * _.defer(function() { console.log(_.now() - stamp); });\n     * // => logs the number of milliseconds it took for the deferred function to be called\n     */\n    var now = isNative(now = Date.now) && now || function() {\n      return new Date().getTime();\n    };\n\n    /**\n     * Converts the given value into an integer of the specified radix.\n     * If `radix` is `undefined` or `0` a `radix` of `10` is used unless the\n     * `value` is a hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * Note: This method avoids differences in native ES3 and ES5 `parseInt`\n     * implementations. See http://es5.github.io/#E.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} value The value to parse.\n     * @param {number} [radix] The radix used to interpret the value to parse.\n     * @returns {number} Returns the new integer value.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     */\n    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {\n      // Firefox < 21 and Opera < 15 follow the ES3 specified implementation of `parseInt`\n      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);\n    };\n\n    /**\n     * Creates a \"_.pluck\" style function, which returns the `key` value of a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} key The name of the property to retrieve.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'fred',   'age': 40 },\n     *   { 'name': 'barney', 'age': 36 }\n     * ];\n     *\n     * var getName = _.property('name');\n     *\n     * _.map(characters, getName);\n     * // => ['barney', 'fred']\n     *\n     * _.sortBy(characters, getName);\n     * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]\n     */\n    function property(key) {\n      return function(object) {\n        return object[key];\n      };\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number will be\n     * returned. If `floating` is truey or either `min` or `max` are floats a\n     * floating-point number will be returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating=false] Specify returning a floating-point number.\n     * @returns {number} Returns a random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (typeof min == 'boolean' && noMax) {\n          floating = min;\n          min = 1;\n        }\n        else if (!noMax && typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand +'').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /**\n     * Resolves the value of property `key` on `object`. If `key` is a function\n     * it will be invoked with the `this` binding of `object` and its result returned,\n     * else the property value is returned. If `object` is falsey then `undefined`\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Object} object The object to inspect.\n     * @param {string} key The name of the property to resolve.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = {\n     *   'cheese': 'crumpets',\n     *   'stuff': function() {\n     *     return 'nonsense';\n     *   }\n     * };\n     *\n     * _.result(object, 'cheese');\n     * // => 'crumpets'\n     *\n     * _.result(object, 'stuff');\n     * // => 'nonsense'\n     */\n    function result(object, key) {\n      if (object) {\n        var value = object[key];\n        return isFunction(value) ? object[key]() : value;\n      }\n    }\n\n    /**\n     * A micro-templating method that handles arbitrary delimiters, preserves\n     * whitespace, and correctly escapes quotes within interpolated code.\n     *\n     * Note: In the development build, `_.template` utilizes sourceURLs for easier\n     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n     *\n     * For more information on precompiling templates see:\n     * https://lodash.com/custom-builds\n     *\n     * For more information on Chrome extension sandboxes see:\n     * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} text The template text.\n     * @param {Object} data The data object used to populate the text.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as local variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [variable] The data object variable name.\n     * @returns {Function|string} Returns a compiled function when no `data` object\n     *  is given, else it returns the interpolated text.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= name %>');\n     * compiled({ 'name': 'fred' });\n     * // => 'hello fred'\n     *\n     * // using the \"escape\" delimiter to escape HTML in data property values\n     * _.template('<b><%- value %></b>', { 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to generate HTML\n     * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';\n     * _.template(list, { 'people': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n     * _.template('hello ${ name }', { 'name': 'pebbles' });\n     * // => 'hello pebbles'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * _.template('<% print(\"hello \" + name); %>!', { 'name': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using a custom template delimiters\n     * _.templateSettings = {\n     *   'interpolate': /{{([\\s\\S]+?)}}/g\n     * };\n     *\n     * _.template('hello {{ name }}!', { 'name': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using the `imports` option to import jQuery\n     * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';\n     * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     *   var __t, __p = '', __e = _.escape;\n     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n     *   return __p;\n     * }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(text, data, options) {\n      // based on John Resig's `tmpl` implementation\n      // http://ejohn.org/blog/javascript-micro-templating/\n      // and Laura Doktorova's doT.js\n      // https://github.com/olado/doT\n      var settings = lodash.templateSettings;\n      text = String(text || '');\n\n      // avoid missing dependencies when `iteratorTemplate` is not defined\n      options = defaults({}, options, settings);\n\n      var imports = defaults({}, options.imports, settings.imports),\n          importsKeys = keys(imports),\n          importsValues = values(imports);\n\n      var isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // compile the regexp to match each delimiter\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // escape characters that cannot be included in string literals\n        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // replace delimiters with snippets\n        if (escapeValue) {\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // the JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // if `variable` is not specified, wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain\n      var variable = options.variable,\n          hasVariable = variable;\n\n      if (!hasVariable) {\n        variable = 'obj';\n        source = 'with (' + variable + ') {\\n' + source + '\\n}\\n';\n      }\n      // cleanup code by stripping empty strings\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // frame code as the function body\n      source = 'function(' + variable + ') {\\n' +\n        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\\n') +\n        \"var __t, __p = '', __e = _.escape\" +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      // Use a sourceURL for easier debugging.\n      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n      var sourceURL = '\\n/*\\n//# sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\\n*/';\n\n      try {\n        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);\n      } catch(e) {\n        e.source = source;\n        throw e;\n      }\n      if (data) {\n        return result(data);\n      }\n      // provide the compiled function's source by its `toString` method, in\n      // supported environments, or the `source` property as a convenience for\n      // inlining compiled templates during the build process\n      result.source = source;\n      return result;\n    }\n\n    /**\n     * Executes the callback `n` times, returning an array of the results\n     * of each callback execution. The callback is bound to `thisArg` and invoked\n     * with one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {number} n The number of times to execute the callback.\n     * @param {Function} callback The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns an array of the results of each `callback` execution.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) { mage.castSpell(n); });\n     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) { this.cast(n); }, mage);\n     * // => also calls `mage.castSpell(n)` three times\n     */\n    function times(n, callback, thisArg) {\n      n = (n = +n) > -1 ? n : 0;\n      var index = -1,\n          result = Array(n);\n\n      callback = baseCreateCallback(callback, thisArg, 1);\n      while (++index < n) {\n        result[index] = callback(index);\n      }\n      return result;\n    }\n\n    /**\n     * The inverse of `_.escape` this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n     * corresponding characters.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} string The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('Fred, Barney &amp; Pebbles');\n     * // => 'Fred, Barney & Pebbles'\n     */\n    function unescape(string) {\n      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID will be appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return String(prefix == null ? '' : prefix) + id;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps the given value with explicit\n     * method chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36 },\n     *   { 'name': 'fred',    'age': 40 },\n     *   { 'name': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(characters)\n     *     .sortBy('age')\n     *     .map(function(chr) { return chr.name + ' is ' + chr.age; })\n     *     .first()\n     *     .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      value = new lodashWrapper(value);\n      value.__chain__ = true;\n      return value;\n    }\n\n    /**\n     * Invokes `interceptor` with the `value` as the first argument and then\n     * returns `value`. The purpose of this method is to \"tap into\" a method\n     * chain in order to perform operations on intermediate results within\n     * the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3, 4])\n     *  .tap(function(array) { array.pop(); })\n     *  .reverse()\n     *  .value();\n     * // => [3, 2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chaining\n     * @returns {*} Returns the wrapper object.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(characters).first();\n     * // => { 'name': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(characters).chain()\n     *   .first()\n     *   .pick('age')\n     *   .value();\n     * // => { 'age': 36 }\n     */\n    function wrapperChain() {\n      this.__chain__ = true;\n      return this;\n    }\n\n    /**\n     * Produces the `toString` result of the wrapped value.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chaining\n     * @returns {string} Returns the string result.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return String(this.__wrapped__);\n    }\n\n    /**\n     * Extracts the wrapped value.\n     *\n     * @name valueOf\n     * @memberOf _\n     * @alias value\n     * @category Chaining\n     * @returns {*} Returns the wrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).valueOf();\n     * // => [1, 2, 3]\n     */\n    function wrapperValueOf() {\n      return this.__wrapped__;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return wrapped values when chaining\n    lodash.after = after;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.chain = chain;\n    lodash.compact = compact;\n    lodash.compose = compose;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.createCallback = createCallback;\n    lodash.curry = curry;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.map = map;\n    lodash.mapValues = mapValues;\n    lodash.max = max;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.min = min;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.pull = pull;\n    lodash.range = range;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.shuffle = shuffle;\n    lodash.sortBy = sortBy;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.values = values;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // add aliases\n    lodash.collect = map;\n    lodash.drop = rest;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n    lodash.unzip = zip;\n\n    // add functions to `lodash.prototype`\n    mixin(lodash);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return unwrapped values when chaining\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.contains = contains;\n    lodash.escape = escape;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.indexOf = indexOf;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isNaN = isNaN;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isUndefined = isUndefined;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.mixin = mixin;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.template = template;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n\n    // add aliases\n    lodash.all = every;\n    lodash.any = some;\n    lodash.detect = find;\n    lodash.findWhere = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.include = contains;\n    lodash.inject = reduce;\n\n    mixin(function() {\n      var source = {}\n      forOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }(), false);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions capable of returning wrapped and unwrapped values when chaining\n    lodash.first = first;\n    lodash.last = last;\n    lodash.sample = sample;\n\n    // add aliases\n    lodash.take = first;\n    lodash.head = first;\n\n    forOwn(lodash, function(func, methodName) {\n      var callbackable = methodName !== 'sample';\n      if (!lodash.prototype[methodName]) {\n        lodash.prototype[methodName]= function(n, guard) {\n          var chainAll = this.__chain__,\n              result = func(this.__wrapped__, n, guard);\n\n          return !chainAll && (n == null || (guard && !(callbackable && typeof n == 'function')))\n            ? result\n            : new lodashWrapper(result, chainAll);\n        };\n      }\n    });\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = '2.4.2';\n\n    // add \"Chaining\" functions to the wrapper\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.value = wrapperValueOf;\n    lodash.prototype.valueOf = wrapperValueOf;\n\n    // add `Array` functions that return unwrapped values\n    forEach(['join', 'pop', 'shift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        var chainAll = this.__chain__,\n            result = func.apply(this.__wrapped__, arguments);\n\n        return chainAll\n          ? new lodashWrapper(result, chainAll)\n          : result;\n      };\n    });\n\n    // add `Array` functions that return the existing wrapped value\n    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        func.apply(this.__wrapped__, arguments);\n        return this;\n      };\n    });\n\n    // add `Array` functions that return new wrapped values\n    forEach(['concat', 'slice', 'splice'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        return new lodashWrapper(func.apply(this.__wrapped__, arguments), this.__chain__);\n      };\n    });\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose Lo-Dash\n  var _ = runInContext();\n\n  // some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash is loaded with a RequireJS shim config.\n    // See http://requirejs.org/docs/api.html#config-shim\n    root._ = _;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return _;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // in Narwhal or Rhino -require\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    root._ = _;\n  }\n}.call(this));\n","var _ = require('lodash'),\n  utils = require('../utils'),\n  isTag = utils.isTag,\n  domEach = utils.domEach,\n  hasOwn = Object.prototype.hasOwnProperty,\n  camelCase = utils.camelCase,\n  cssCase = utils.cssCase,\n  rspace = /\\s+/,\n  dataAttrPrefix = 'data-',\n\n  // Lookup table for coercing string data-* attributes to their corresponding\n  // JavaScript primitives\n  primitives = {\n    null: null,\n    true: true,\n    false: false\n  },\n\n  // Attributes that are booleans\n  rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\n  // Matches strings that look like JSON objects or arrays\n  rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;\n\n\nvar getAttr = function(elem, name) {\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.attribs) {\n    elem.attribs = {};\n  }\n\n  // Return the entire attribs object if no attribute specified\n  if (!name) {\n    return elem.attribs;\n  }\n\n  if (hasOwn.call(elem.attribs, name)) {\n    // Get the (decoded) attribute\n    return elem.attribs[name];\n  }\n};\n\nvar setAttr = function(el, name, value) {\n\n  if (value === null) {\n    removeAttribute(el, name);\n  } else {\n    el.attribs[name] = value+'';\n  }\n};\n\nvar attr = exports.attr = function(name, value) {\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      return domEach(this, function(i, el) {\n        setAttr(el, name, value.call(el, i, el.attribs[name]));\n      });\n    }\n    return domEach(this, function(i, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n        _.each(name, function(name, key) {\n          el.attribs[key] = name+'';\n        });\n      } else {\n        setAttr(el, name, value);\n      }\n    });\n  }\n\n  return getAttr(this[0], name);\n};\n\nvar setData = function(el, name, value) {\n  if (typeof name === 'object') return _.extend(el.data, name);\n  if (typeof name === 'string' && value !== undefined) {\n    el.data[name] = value;\n  } else if (typeof name === 'object') {\n    _.exend(el.data, name);\n  }\n};\n\n// Read the specified attribute from the equivalent HTML5 `data-*` attribute,\n// and (if present) cache the value in the node's internal data store. If no\n// attribute name is specified, read *all* HTML5 `data-*` attributes in this\n// manner.\nvar readData = function(el, name) {\n  var readAll = arguments.length === 1;\n  var domNames, domName, jsNames, jsName, value, idx, length;\n\n  if (readAll) {\n    domNames = Object.keys(el.attribs).filter(function(attrName) {\n      return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;\n    });\n    jsNames = domNames.map(function(domName) {\n      return camelCase(domName.slice(dataAttrPrefix.length));\n    });\n  } else {\n    domNames = [dataAttrPrefix + cssCase(name)];\n    jsNames = [name];\n  }\n\n  for (idx = 0, length = domNames.length; idx < length; ++idx) {\n    domName = domNames[idx];\n    jsName = jsNames[idx];\n    if (hasOwn.call(el.attribs, domName)) {\n      value = el.attribs[domName];\n\n      if (hasOwn.call(primitives, value)) {\n        value = primitives[value];\n      } else if (value === String(Number(value))) {\n        value = Number(value);\n      } else if (rbrace.test(value)) {\n        value = JSON.parse(value);\n      }\n\n      el.data[jsName] = value;\n    }\n  }\n\n  return readAll ? el.data : value;\n};\n\nvar data = exports.data = function(name, value) {\n  var elem = this[0];\n\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.data) {\n    elem.data = {};\n  }\n\n  // Return the entire data object if no data specified\n  if (!name) {\n    return readData(elem);\n  }\n\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    domEach(this, function(i, el) {\n      setData(el, name, value);\n    });\n    return this;\n  } else if (hasOwn.call(elem.data, name)) {\n    return elem.data[name];\n  }\n\n  return readData(elem, name);\n};\n\n/**\n * Get the value of an element\n */\n\nvar val = exports.val = function(value) {\n  var querying = arguments.length === 0,\n      element = this[0];\n\n  if(!element) return;\n\n  switch (element.name) {\n    case 'textarea':\n      return this.text(value);\n    case 'input':\n      switch (this.attr('type')) {\n        case 'radio':\n          var queryString = 'input[type=radio][name=' + this.attr('name') + ']:checked';\n          var parentEl, root;\n\n          // Go up until we hit a form or root\n          parentEl = this.closest('form');\n          if (parentEl.length === 0) {\n            root = (this.parents().last()[0] || this[0]).root;\n            parentEl = this._make(root);\n          }\n\n          if (querying) {\n            return parentEl.find(queryString).attr('value');\n          } else {\n            parentEl.find(':checked').removeAttr('checked');\n            parentEl.find('input[type=radio][value=\"' + value + '\"]').attr('checked', '');\n            return this;\n          }\n          break;\n        default:\n          return this.attr('value', value);\n      }\n      return;\n    case 'select':\n      var option = this.find('option:selected'),\n          returnValue;\n      if (option === undefined) return undefined;\n      if (!querying) {\n        if (!this.attr().hasOwnProperty('multiple') && typeof value == 'object') {\n          return this;\n        }\n        if (typeof value != 'object') {\n          value = [value];\n        }\n        this.find('option').removeAttr('selected');\n        for (var i = 0; i < value.length; i++) {\n          this.find('option[value=\"' + value[i] + '\"]').attr('selected', '');\n        }\n        return this;\n      }\n      returnValue = option.attr('value');\n      if (this.attr().hasOwnProperty('multiple')) {\n        returnValue = [];\n        domEach(option, function(i, el) {\n          returnValue.push(el.attribs.value);\n        });\n      }\n      return returnValue;\n    case 'option':\n      if (!querying) {\n        this.attr('value', value);\n        return this;\n      }\n      return this.attr('value');\n  }\n};\n\n/**\n * Remove an attribute\n */\n\nvar removeAttribute = function(elem, name) {\n  if (!elem.attribs || !hasOwn.call(elem.attribs, name))\n    return;\n\n  if (name === elem.attribs[name] && rboolean.test(elem.attribs[name]))\n    elem.attribs[name] = false;\n  else\n    delete elem.attribs[name];\n};\n\n\nvar removeAttr = exports.removeAttr = function(name) {\n  domEach(this, function(i, elem) {\n    removeAttribute(elem, name);\n  });\n\n  return this;\n};\n\nvar hasClass = exports.hasClass = function(className) {\n  return _.any(this, function(elem) {\n    var attrs = elem.attribs,\n        clazz = attrs && attrs['class'],\n        idx = -1,\n        end;\n\n    if (clazz) {\n      while ((idx = clazz.indexOf(className, idx+1)) > -1) {\n        end = idx + className.length;\n\n        if ((idx === 0 || rspace.test(clazz[idx-1]))\n            && (end === clazz.length || rspace.test(clazz[end]))) {\n          return true;\n        }\n      }\n    }\n  });\n};\n\nvar addClass = exports.addClass = function(value) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      var className = el.attribs['class'] || '';\n      addClass.call([el], value.call(el, i, className));\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace),\n      numElements = this.length;\n\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    // If we don't already have classes\n    var className = getAttr(this[i], 'class'),\n        numClasses,\n        setClass;\n\n    if (!className) {\n      setAttr(this[i], 'class', classNames.join(' ').trim());\n    } else {\n      setClass = ' ' + className + ' ';\n      numClasses = classNames.length;\n\n      // Check if class already exists\n      for (var j = 0; j < numClasses; j++) {\n        var appendClass = classNames[j] + ' ';\n        if (!~setClass.indexOf(' ' + appendClass))\n          setClass += appendClass;\n      }\n\n      setAttr(this[i], 'class', setClass.trim());\n    }\n  }\n\n  return this;\n};\n\nvar splitClass = function(className) {\n  return className ? className.trim().split(rspace) : [];\n};\n\nvar removeClass = exports.removeClass = function(value) {\n  var classes,\n      numClasses,\n      removeAll;\n\n  // Handle if value is a function\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      removeClass.call([el], value.call(el, i, el.attribs['class'] || ''));\n    });\n  }\n\n  classes = splitClass(value);\n  numClasses = classes.length;\n  removeAll = arguments.length === 0;\n\n  return domEach(this, function(i, el) {\n    if (!isTag(el)) return;\n\n    if (removeAll) {\n      // Short circuit the remove all case as this is the nice one\n      el.attribs.class = '';\n    } else {\n      var elClasses = splitClass(el.attribs.class),\n          index,\n          changed;\n\n      for (var j = 0; j < numClasses; j++) {\n        index = elClasses.indexOf(classes[j]);\n\n        if (index >= 0) {\n          elClasses.splice(index, 1);\n          changed = true;\n\n          // We have to do another pass to ensure that there are not duplicate\n          // classes listed\n          j--;\n        }\n      }\n      if (changed) {\n        el.attribs.class = elClasses.join(' ');\n      }\n    }\n  });\n};\n\nvar toggleClass = exports.toggleClass = function(value, stateVal) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      toggleClass.call([el], value.call(el, i, el.attribs['class'] || '', stateVal), stateVal);\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace),\n    numClasses = classNames.length,\n    state = typeof stateVal === 'boolean' ? stateVal ? 1 : -1 : 0,\n    numElements = this.length,\n    elementClasses,\n    index;\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    elementClasses = splitClass(this[i].attribs.class);\n\n    // Check if class already exists\n    for (var j = 0; j < numClasses; j++) {\n      // Check if the class name is currently defined\n      index = elementClasses.indexOf(classNames[j]);\n\n      // Add if stateValue === true or we are toggling and there is no value\n      if (state >= 0 && index < 0) {\n        elementClasses.push(classNames[j]);\n      } else if (state <= 0 && index >= 0) {\n        // Otherwise remove but only if the item exists\n        elementClasses.splice(index, 1);\n      }\n    }\n\n    this[i].attribs.class = elementClasses.join(' ');\n  }\n\n  return this;\n};\n\nvar is = exports.is = function (selector) {\n  if (selector) {\n    return this.filter(selector).length > 0;\n  }\n  return false;\n};\n\n","var ElementType = require(\"domelementtype\"),\n    isTag = ElementType.isTag;\n\nmodule.exports = {\n\tgetInnerHTML: getInnerHTML,\n\tgetOuterHTML: getOuterHTML,\n\tgetText: getText\n};\n\nfunction getInnerHTML(elem){\n\treturn elem.children ? elem.children.map(getOuterHTML).join(\"\") : \"\";\n}\n\n//boolean attributes without a value (taken from MatthewMueller/cheerio)\nvar booleanAttribs = {\n\t__proto__: null,\n\tasync: true,\n\tautofocus: true,\n\tautoplay: true,\n\tchecked: true,\n\tcontrols: true,\n\tdefer: true,\n\tdisabled: true,\n\thidden: true,\n\tloop: true,\n\tmultiple: true,\n\topen: true,\n\treadonly: true,\n\trequired: true,\n\tscoped: true,\n\tselected: true\n};\n\nvar emptyTags = {\n\t__proto__: null,\n\tarea: true,\n\tbase: true,\n\tbasefont: true,\n\tbr: true,\n\tcol: true,\n\tframe: true,\n\thr: true,\n\timg: true,\n\tinput: true,\n\tisindex: true,\n\tlink: true,\n\tmeta: true,\n\tparam: true,\n\tembed: true\n};\n\nfunction getOuterHTML(elem){\n\tswitch(elem.type){\n\tcase ElementType.Text:\n\t\treturn elem.data;\n\tcase ElementType.Comment:\n\t\treturn \"<!--\" + elem.data + \"-->\";\n\tcase ElementType.Directive:\n\t\treturn \"<\" + elem.data + \">\";\n\tcase ElementType.CDATA:\n\t\treturn \"<!CDATA \" + getInnerHTML(elem) + \"]]>\";\n\t}\n\n\tvar ret = \"<\" + elem.name;\n\tif(\"attribs\" in elem){\n\t\tfor(var attr in elem.attribs){\n\t\t\tif(elem.attribs.hasOwnProperty(attr)){\n\t\t\t\tret += \" \" + attr;\n\t\t\t\tvar value = elem.attribs[attr];\n\t\t\t\tif(value == null){\n\t\t\t\t\tif( !(attr in booleanAttribs) ){\n\t\t\t\t\t\tret += \"=\\\"\\\"\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tret += \"=\\\"\" + value + \"\\\"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (elem.name in emptyTags && elem.children.length === 0) {\n\t\treturn ret + \" />\";\n\t} else {\n\t\treturn ret + \">\" + getInnerHTML(elem) + \"</\" + elem.name + \">\";\n\t}\n}\n\nfunction getText(elem){\n\tif(Array.isArray(elem)) return elem.map(getText).join(\"\");\n\tif(isTag(elem) || elem.type === ElementType.CDATA) return getText(elem.children);\n\tif(elem.type === ElementType.Text) return elem.data;\n\treturn \"\";\n}","var getChildren = exports.getChildren = function(elem){\n\treturn elem.children;\n};\n\nvar getParent = exports.getParent = function(elem){\n\treturn elem.parent;\n};\n\nexports.getSiblings = function(elem){\n\tvar parent = getParent(elem);\n\treturn parent ? getChildren(parent) : [elem];\n};\n\nexports.getAttributeValue = function(elem, name){\n\treturn elem.attribs && elem.attribs[name];\n};\n\nexports.hasAttrib = function(elem, name){\n\treturn hasOwnProperty.call(elem.attribs, name);\n};\n\nexports.getName = function(elem){\n\treturn elem.name;\n};\n","exports.removeElement = function(elem){\n\tif(elem.prev) elem.prev.next = elem.next;\n\tif(elem.next) elem.next.prev = elem.prev;\n\n\tif(elem.parent){\n\t\tvar childs = elem.parent.children;\n\t\tchilds.splice(childs.lastIndexOf(elem), 1);\n\t}\n};\n\nexports.replaceElement = function(elem, replacement){\n\tvar prev = replacement.prev = elem.prev;\n\tif(prev){\n\t\tprev.next = replacement;\n\t}\n\n\tvar next = replacement.next = elem.next;\n\tif(next){\n\t\tnext.prev = replacement;\n\t}\n\n\tvar parent = replacement.parent = elem.parent;\n\tif(parent){\n\t\tvar childs = parent.children;\n\t\tchilds[childs.lastIndexOf(elem)] = replacement;\n\t}\n};\n\nexports.appendChild = function(elem, child){\n\tchild.parent = elem;\n\n\tif(elem.children.push(child) !== 1){\n\t\tvar sibling = elem.children[elem.children.length - 2];\n\t\tsibling.next = child;\n\t\tchild.prev = sibling;\n\t\tchild.next = null;\n\t}\n};\n\nexports.append = function(elem, next){\n\tvar parent = elem.parent,\n\t\tcurrNext = elem.next;\n\n\tnext.next = currNext;\n\tnext.prev = elem;\n\telem.next = next;\n\tnext.parent = parent;\n\n\tif(currNext){\n\t\tcurrNext.prev = next;\n\t\tif(parent){\n\t\t\tvar childs = parent.children;\n\t\t\tchilds.splice(childs.lastIndexOf(currNext), 0, next);\n\t\t}\n\t} else if(parent){\n\t\tparent.children.push(next);\n\t}\n};\n\nexports.prepend = function(elem, prev){\n\tvar parent = elem.parent;\n\tif(parent){\n\t\tvar childs = parent.children;\n\t\tchilds.splice(childs.lastIndexOf(elem), 0, prev);\n\t}\n\n\tif(elem.prev){\n\t\telem.prev.next = prev;\n\t}\n\t\n\tprev.parent = parent;\n\tprev.prev = elem.prev;\n\tprev.next = elem;\n\telem.prev = prev;\n};\n\n\n","var isTag = require(\"domelementtype\").isTag;\n\nmodule.exports = {\n\tfilter: filter,\n\tfind: find,\n\tfindOneChild: findOneChild,\n\tfindOne: findOne,\n\texistsOne: existsOne,\n\tfindAll: findAll\n};\n\nfunction filter(test, element, recurse, limit){\n\tif(!Array.isArray(element)) element = [element];\n\n\tif(typeof limit !== \"number\" || !isFinite(limit)){\n\t\tlimit = Infinity;\n\t}\n\treturn find(test, element, recurse !== false, limit);\n}\n\nfunction find(test, elems, recurse, limit){\n\tvar result = [], childs;\n\n\tfor(var i = 0, j = elems.length; i < j; i++){\n\t\tif(test(elems[i])){\n\t\t\tresult.push(elems[i]);\n\t\t\tif(--limit <= 0) break;\n\t\t}\n\n\t\tchilds = elems[i].children;\n\t\tif(recurse && childs && childs.length > 0){\n\t\t\tchilds = find(test, childs, recurse, limit);\n\t\t\tresult = result.concat(childs);\n\t\t\tlimit -= childs.length;\n\t\t\tif(limit <= 0) break;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction findOneChild(test, elems){\n\tfor(var i = 0, l = elems.length; i < l; i++){\n\t\tif(test(elems[i])) return elems[i];\n\t}\n\n\treturn null;\n}\n\nfunction findOne(test, elems){\n\tvar elem = null;\n\n\tfor(var i = 0, l = elems.length; i < l && !elem; i++){\n\t\tif(!isTag(elems[i])){\n\t\t\tcontinue;\n\t\t} else if(test(elems[i])){\n\t\t\telem = elems[i];\n\t\t} else if(elems[i].children.length > 0){\n\t\t\telem = findOne(test, elems[i].children);\n\t\t}\n\t}\n\n\treturn elem;\n}\n\nfunction existsOne(test, elems){\n\tfor(var i = 0, l = elems.length; i < l; i++){\n\t\tif(\n\t\t\tisTag(elems[i]) && (\n\t\t\t\ttest(elems[i]) || (\n\t\t\t\t\telems[i].children.length > 0 &&\n\t\t\t\t\texistsOne(test, elems[i].children)\n\t\t\t\t)\n\t\t\t)\n\t\t){\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction findAll(test, elems){\n\tvar result = [];\n\tfor(var i = 0, j = elems.length; i < j; i++){\n\t\tif(!isTag(elems[i])) continue;\n\t\tif(test(elems[i])) result.push(elems[i]);\n\n\t\tif(elems[i].children.length > 0){\n\t\t\tresult = result.concat(findAll(test, elems[i].children));\n\t\t}\n\t}\n\treturn result;\n}\n","var ElementType = require(\"domelementtype\");\nvar isTag = exports.isTag = ElementType.isTag;\n\nexports.testElement = function(options, element){\n\tfor(var key in options){\n\t\tif(!options.hasOwnProperty(key));\n\t\telse if(key === \"tag_name\"){\n\t\t\tif(!isTag(element) || !options.tag_name(element.name)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if(key === \"tag_type\"){\n\t\t\tif(!options.tag_type(element.type)) return false;\n\t\t} else if(key === \"tag_contains\"){\n\t\t\tif(isTag(element) || !options.tag_contains(element.data)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if(!element.attribs || !options[key](element.attribs[key])){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\nvar Checks = {\n\ttag_name: function(name){\n\t\tif(typeof name === \"function\"){\n\t\t\treturn function(elem){ return isTag(elem) && name(elem.name); };\n\t\t} else if(name === \"*\"){\n\t\t\treturn isTag;\n\t\t} else {\n\t\t\treturn function(elem){ return isTag(elem) && elem.name === name; };\n\t\t}\n\t},\n\ttag_type: function(type){\n\t\tif(typeof type === \"function\"){\n\t\t\treturn function(elem){ return type(elem.type); };\n\t\t} else {\n\t\t\treturn function(elem){ return elem.type === type; };\n\t\t}\n\t},\n\ttag_contains: function(data){\n\t\tif(typeof data === \"function\"){\n\t\t\treturn function(elem){ return !isTag(elem) && data(elem.data); };\n\t\t} else {\n\t\t\treturn function(elem){ return !isTag(elem) && elem.data === data; };\n\t\t}\n\t}\n};\n\nfunction getAttribCheck(attrib, value){\n\tif(typeof value === \"function\"){\n\t\treturn function(elem){ return elem.attribs && value(elem.attribs[attrib]); };\n\t} else {\n\t\treturn function(elem){ return elem.attribs && elem.attribs[attrib] === value; };\n\t}\n}\n\nfunction combineFuncs(a, b){\n\treturn function(elem){\n\t\treturn a(elem) || b(elem);\n\t};\n}\n\nexports.getElements = function(options, element, recurse, limit){\n\tvar funcs = Object.keys(options).map(function(key){\n\t\tvar value = options[key];\n\t\treturn key in Checks ? Checks[key](value) : getAttribCheck(key, value);\n\t});\n\n\treturn funcs.length === 0 ? [] : this.filter(\n\t\tfuncs.reduce(combineFuncs),\n\t\telement, recurse, limit\n\t);\n};\n\nexports.getElementById = function(id, element, recurse){\n\tif(!Array.isArray(element)) element = [element];\n\treturn this.findOne(getAttribCheck(\"id\", id), element, recurse !== false);\n};\n\nexports.getElementsByTagName = function(name, element, recurse, limit){\n\treturn this.filter(Checks.tag_name(name), element, recurse, limit);\n};\n\nexports.getElementsByTagType = function(type, element, recurse, limit){\n\treturn this.filter(Checks.tag_type(type), element, recurse, limit);\n};\n","// removeSubsets\n// Given an array of nodes, remove any member that is contained by another.\nexports.removeSubsets = function(nodes) {\n\tvar idx = nodes.length, node, ancestor, replace;\n\n\t// Check if each node (or one of its ancestors) is already contained in the\n\t// array.\n\twhile (--idx > -1) {\n\t\tnode = ancestor = nodes[idx];\n\n\t\t// Temporarily remove the node under consideration\n\t\tnodes[idx] = null;\n\t\treplace = true;\n\n\t\twhile (ancestor) {\n\t\t\tif (nodes.indexOf(ancestor) > -1) {\n\t\t\t\treplace = false;\n\t\t\t\tnodes.splice(idx, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tancestor = ancestor.parent;\n\t\t}\n\n\t\t// If the node has been found to be unique, re-insert it.\n\t\tif (replace) {\n\t\t\tnodes[idx] = node;\n\t\t}\n\t}\n\n\treturn nodes;\n};\n","var DomUtils = module.exports;\n\n[\n\trequire(\"./lib/stringify\"),\n\trequire(\"./lib/traversal\"),\n\trequire(\"./lib/manipulation\"),\n\trequire(\"./lib/querying\"),\n\trequire(\"./lib/legacy\"),\n\trequire(\"./lib/helpers\")\n].forEach(function(ext){\n\tObject.keys(ext).forEach(function(key){\n\t\tDomUtils[key] = ext[key].bind(DomUtils);\n\t});\n});\n","module.exports = {\n\ttrueFunc: function trueFunc(){\n\t\treturn true;\n\t},\n\tfalseFunc: function falseFunc(){\n\t\treturn false;\n\t}\n};","var BaseFuncs = require(\"./basefunctions.js\"),\n    trueFunc  = BaseFuncs.trueFunc,\n    falseFunc = BaseFuncs.falseFunc;\n\nmodule.exports = function nthCheck(formula){\n\treturn compile(parse(formula));\n};\n\nmodule.exports.parse = parse;\nmodule.exports.compile = compile;\n\n//following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\n\n//[ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\nvar re_nthElement = /^([+\\-]?\\d*n)?\\s*(?:([+\\-]?)\\s*(\\d+))?$/;\n\n/*\n\tparses a nth-check formula, returns an array of two numbers\n*/\nfunction parse(formula){\n\tformula = formula.trim().toLowerCase();\n\n\tif(formula === \"even\"){\n\t\treturn [2, 0];\n\t} else if(formula === \"odd\"){\n\t\treturn [2, 1];\n\t} else {\n\t\tvar parsed = formula.match(re_nthElement);\n\n\t\tif(!parsed){\n\t\t\tthrow new SyntaxError(\"n-th rule couldn't be parsed ('\" + formula + \"')\");\n\t\t}\n\n\t\tvar a;\n\n\t\tif(parsed[1]){\n\t\t\ta = parseInt(parsed[1], 10);\n\t\t\tif(!a){\n\t\t\t\tif(parsed[1].charAt(0) === \"-\") a = -1;\n\t\t\t\telse a = 1;\n\t\t\t}\n\t\t} else a = 0;\n\n\t\treturn [\n\t\t\ta,\n\t\t\tparsed[3] ? parseInt((parsed[2] || \"\") + parsed[3], 10) : 0\n\t\t];\n\t}\n}\n\n/*\n\treturns a function that checks if an elements index matches the given rule\n\thighly optimized to return the fastest solution\n*/\nfunction compile(parsed){\n\tvar a = parsed[0],\n\t    b = parsed[1] - 1;\n\n\t//when b <= 0, a*n won't be possible for any matches when a < 0\n\t//besides, the specification says that no element is matched when a and b are 0\n\tif(b < 0 && a <= 0) return falseFunc;\n\n\t//when a is in the range -1..1, it matches any element (so only b is checked)\n\tif(a ===-1) return function(pos){ return pos <= b; };\n\tif(a === 0) return function(pos){ return pos === b; };\n\t//when b <= 0 and a === 1, they match any element\n\tif(a === 1) return b < 0 ? trueFunc : function(pos){ return pos >= b; };\n\n\t//when a > 0, modulo can be used to check if there is a match\n\tvar bMod = b % a;\n\tif(bMod < 0) bMod += a;\n\n\tif(a > 1){\n\t\treturn function(pos){\n\t\t\treturn pos >= b && pos % a === bMod;\n\t\t};\n\t}\n\n\ta *= -1; //make `a` positive\n\n\treturn function(pos){\n\t\treturn pos <= b && pos % a === bMod;\n\t};\n}","var DomUtils  = require(\"domutils\"),\n    hasAttrib = DomUtils.hasAttrib,\n    getAttributeValue = DomUtils.getAttributeValue,\n    falseFunc = require(\"./basefunctions.js\").falseFunc;\n\n//https://github.com/slevithan/XRegExp/blob/master/src/xregexp.js#L469\nvar reChars = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\n\n/*\n\tattribute selectors\n*/\n\nvar attributeRules = {\n\t__proto__: null,\n\tequals: function(next, data){\n\t\tvar name  = data.name,\n\t\t    value = data.value;\n\n\t\tif(data.ignoreCase){\n\t\t\tvalue = value.toLowerCase();\n\n\t\t\treturn function equalsIC(elem){\n\t\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\t\treturn attr != null && attr.toLowerCase() === value && next(elem);\n\t\t\t};\n\t\t}\n\n\t\treturn function equals(elem){\n\t\t\treturn getAttributeValue(elem, name) === value && next(elem);\n\t\t};\n\t},\n\thyphen: function(next, data){\n\t\tvar name  = data.name,\n\t\t    value = data.value,\n\t\t    len = value.length;\n\n\t\tif(data.ignoreCase){\n\t\t\tvalue = value.toLowerCase();\n\n\t\t\treturn function hyphenIC(elem){\n\t\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\t\treturn attr != null &&\n\t\t\t\t\t\t(attr.length === len || attr.charAt(len) === \"-\") &&\n\t\t\t\t\t\tattr.substr(0, len).toLowerCase() === value &&\n\t\t\t\t\t\tnext(elem);\n\t\t\t};\n\t\t}\n\n\t\treturn function hyphen(elem){\n\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\treturn attr != null &&\n\t\t\t\t\tattr.substr(0, len) === value &&\n\t\t\t\t\t(attr.length === len || attr.charAt(len) === \"-\") &&\n\t\t\t\t\tnext(elem);\n\t\t};\n\t},\n\telement: function(next, data){\n\t\tvar name = data.name,\n\t\t    value = data.value;\n\n\t\tif(/\\s/.test(value)){\n\t\t\treturn falseFunc;\n\t\t}\n\n\t\tvalue = value.replace(reChars, \"\\\\$&\");\n\n\t\tvar pattern = \"(?:^|\\\\s)\" + value + \"(?:$|\\\\s)\",\n\t\t    flags = data.ignoreCase ? \"i\" : \"\",\n\t\t    regex = new RegExp(pattern, flags);\n\n\t\treturn function element(elem){\n\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\treturn attr != null && regex.test(attr) && next(elem);\n\t\t};\n\t},\n\texists: function(next, data){\n\t\tvar name = data.name;\n\t\treturn function exists(elem){\n\t\t\treturn hasAttrib(elem, name) && next(elem);\n\t\t};\n\t},\n\tstart: function(next, data){\n\t\tvar name  = data.name,\n\t\t    value = data.value,\n\t\t    len = value.length;\n\n\t\tif(len === 0){\n\t\t\treturn falseFunc;\n\t\t}\n\t\t\n\t\tif(data.ignoreCase){\n\t\t\tvalue = value.toLowerCase();\n\n\t\t\treturn function startIC(elem){\n\t\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\t\treturn attr != null && attr.substr(0, len).toLowerCase() === value && next(elem);\n\t\t\t};\n\t\t}\n\n\t\treturn function start(elem){\n\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\treturn attr != null && attr.substr(0, len) === value && next(elem);\n\t\t};\n\t},\n\tend: function(next, data){\n\t\tvar name  = data.name,\n\t\t    value = data.value,\n\t\t    len   = -value.length;\n\n\t\tif(len === 0){\n\t\t\treturn falseFunc;\n\t\t}\n\n\t\tif(data.ignoreCase){\n\t\t\tvalue = value.toLowerCase();\n\n\t\t\treturn function endIC(elem){\n\t\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\t\treturn attr != null && attr.substr(len).toLowerCase() === value && next(elem);\n\t\t\t};\n\t\t}\n\n\t\treturn function end(elem){\n\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\treturn attr != null && attr.substr(len) === value && next(elem);\n\t\t};\n\t},\n\tany: function(next, data){\n\t\tvar name  = data.name,\n\t\t    value = data.value;\n\n\t\tif(value === \"\"){\n\t\t\treturn falseFunc;\n\t\t}\n\n\t\tif(data.ignoreCase){\n\t\t\tvar regex = new RegExp(value.replace(reChars, \"\\\\$&\"), \"i\");\n\n\t\t\treturn function anyIC(elem){\n\t\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\t\treturn attr != null && regex.test(attr) && next(elem);\n\t\t\t};\n\t\t}\n\n\t\treturn function any(elem){\n\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\treturn attr != null && attr.indexOf(value) >= 0 && next(elem);\n\t\t};\n\t},\n\tnot: function(next, data){\n\t\tvar name  = data.name,\n\t\t    value = data.value;\n\n\t\tif(value === \"\"){\n\t\t\treturn function notEmpty(elem){\n\t\t\t\treturn !!getAttributeValue(elem, name) && next(elem);\n\t\t\t};\n\t\t} else if(data.ignoreCase){\n\t\t\tvalue = value.toLowerCase();\n\n\t\t\treturn function notIC(elem){\n\t\t\t\tvar attr = getAttributeValue(elem, name);\n\t\t\t\treturn attr != null && attr.toLowerCase() !== value && next(elem);\n\t\t\t};\n\t\t}\n\n\t\treturn function not(elem){\n\t\t\treturn getAttributeValue(elem, name) !== value && next(elem);\n\t\t};\n\t}\n};\n\nmodule.exports = {\n\tcompile: function(next, data){\n\t\treturn attributeRules[data.action](next, data);\n\t},\n\trules: attributeRules\n};\n","/*\n\tpseudo selectors\n\t\n\t---\n\t\n\tthey are available in two forms:\n\t* filters called when the selector \n\t  is compiled and return a function\n\t  that needs to return next()\n\t* pseudos get called on execution\n\t  they need to return a boolean\n*/\n\nvar DomUtils    = require(\"domutils\"),\n    isTag       = DomUtils.isTag,\n    getText     = DomUtils.getText,\n    getParent   = DomUtils.getParent,\n    getChildren = DomUtils.getChildren,\n    getSiblings = DomUtils.getSiblings,\n    hasAttrib   = DomUtils.hasAttrib,\n    getName     = DomUtils.getName,\n    getAttribute= DomUtils.getAttributeValue,\n    getNCheck   = require(\"./nth-check.js\"),\n    checkAttrib = require(\"./attributes.js\").rules.equals,\n    BaseFuncs   = require(\"./basefunctions.js\"),\n    trueFunc    = BaseFuncs.trueFunc,\n    falseFunc   = BaseFuncs.falseFunc;\n\n//helper methods\nfunction getFirstElement(elems){\n\tfor(var i = 0; elems && i < elems.length; i++){\n\t\tif(isTag(elems[i])) return elems[i];\n\t}\n}\n\nfunction getAttribFunc(name, value){\n\tvar data = {name: name, value: value};\n\treturn function attribFunc(next){\n\t\treturn checkAttrib(next, data);\n\t};\n}\n\nfunction getChildFunc(next){\n\treturn function(elem){\n\t\treturn !!getParent(elem) && next(elem);\n\t};\n}\n\nvar filters = {\n\tcontains: function(next, text){\n\t\tif(\n\t\t\t(text.charAt(0) === \"\\\"\" || text.charAt(0) === \"'\") &&\n\t\t\ttext.charAt(0) === text.substr(-1)\n\t\t){\n\t\t\ttext = text.slice(1, -1);\n\t\t}\n\t\treturn function contains(elem){\n\t\t\treturn getText(elem).indexOf(text) >= 0 && next(elem);\n\t\t};\n\t},\n\n\t//location specific methods\n\t//first- and last-child methods return as soon as they find another element\n\t\"first-child\": function(next){\n\t\treturn function firstChild(elem){\n\t\t\treturn getFirstElement(getSiblings(elem)) === elem && next(elem);\n\t\t};\n\t},\n\t\"last-child\": function(next){\n\t\treturn function lastChild(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var i = siblings.length - 1; i >= 0; i--){\n\t\t\t\tif(siblings[i] === elem) return next(elem);\n\t\t\t\tif(isTag(siblings[i])) break;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t},\n\t\"first-of-type\": function(next){\n\t\treturn function firstOfType(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var i = 0; i < siblings.length; i++){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) return next(elem);\n\t\t\t\t\tif(getName(siblings[i]) === getName(elem)) break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t},\n\t\"last-of-type\": function(next){\n\t\treturn function lastOfType(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var i = siblings.length-1; i >= 0; i--){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) return next(elem);\n\t\t\t\t\tif(getName(siblings[i]) === getName(elem)) break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t},\n\t\"only-of-type\": function(next){\n\t\treturn function onlyOfType(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var i = 0, j = siblings.length; i < j; i++){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) continue;\n\t\t\t\t\tif(getName(siblings[i]) === getName(elem)) return false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn next(elem);\n\t\t};\n\t},\n\t\"only-child\": function(next){\n\t\treturn function onlyChild(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var i = 0; i < siblings.length; i++){\n\t\t\t\tif(isTag(siblings[i]) && siblings[i] !== elem) return false;\n\t\t\t}\n\n\t\t\treturn next(elem);\n\t\t};\n\t},\n\t\"nth-child\": function(next, rule){\n\t\tvar func = getNCheck(rule);\n\n\t\tif(func === falseFunc) return func;\n\t\tif(func === trueFunc)  return getChildFunc(next);\n\n\t\treturn function nthChild(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var i = 0, pos = 0; i < siblings.length; i++){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) break;\n\t\t\t\t\telse pos++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn func(pos) && next(elem);\n\t\t};\n\t},\n\t\"nth-last-child\": function(next, rule){\n\t\tvar func = getNCheck(rule);\n\n\t\tif(func === falseFunc) return func;\n\t\tif(func === trueFunc)  return getChildFunc(next);\n\n\t\treturn function nthLastChild(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var pos = 0, i = siblings.length - 1; i >= 0; i--){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) break;\n\t\t\t\t\telse pos++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn func(pos) && next(elem);\n\t\t};\n\t},\n\t\"nth-of-type\": function(next, rule){\n\t\tvar func = getNCheck(rule);\n\n\t\tif(func === falseFunc) return func;\n\t\tif(func === trueFunc)  return getChildFunc(next);\n\n\t\treturn function nthOfType(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var pos = 0, i = 0; i < siblings.length; i++){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) break;\n\t\t\t\t\tif(getName(siblings[i]) === getName(elem)) pos++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn func(pos) && next(elem);\n\t\t};\n\t},\n\t\"nth-last-of-type\": function(next, rule){\n\t\tvar func = getNCheck(rule);\n\n\t\tif(func === falseFunc) return func;\n\t\tif(func === trueFunc)  return getChildFunc(next);\n\n\t\treturn function nthLastOfType(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var pos = 0, i = siblings.length - 1; i >= 0; i--){\n\t\t\t\tif(siblings[i] === elem) break;\n\t\t\t\tif(getName(siblings[i]) === getName(elem)) pos++;\n\t\t\t}\n\n\t\t\treturn func(pos) && next(elem);\n\t\t};\n\t},\n\n\t//jQuery extensions (others follow as pseudos)\n\tcheckbox: getAttribFunc(\"type\", \"checkbox\"),\n\tfile: getAttribFunc(\"type\", \"file\"),\n\tpassword: getAttribFunc(\"type\", \"password\"),\n\tradio: getAttribFunc(\"type\", \"radio\"),\n\treset: getAttribFunc(\"type\", \"reset\"),\n\timage: getAttribFunc(\"type\", \"image\"),\n\tsubmit: getAttribFunc(\"type\", \"submit\")\n};\n\n//while filters are precompiled, pseudos get called when they are needed\nvar pseudos = {\n\troot: function(elem){\n\t\treturn !getParent(elem);\n\t},\n\tempty: function(elem){\n\t\treturn !getChildren(elem).some(function(elem){\n\t\t\treturn isTag(elem) || elem.type === \"text\";\n\t\t});\n\t},\n\n\t//forms\n\t//to consider: :target, :enabled\n\tselected: function(elem){\n\t\tif(hasAttrib(elem, \"selected\")) return true;\n\t\telse if(getName(elem) !== \"option\") return false;\n\n\t\t//the first <option> in a <select> is also selected\n\t\tvar parent = getParent(elem);\n\n\t\tif(!parent || getName(parent) !== \"select\") return false;\n\n\t\tvar siblings = getChildren(parent),\n\t\t\tsawElem  = false;\n\n\t\tfor(var i = 0; i < siblings.length; i++){\n\t\t\tif(isTag(siblings[i])){\n\t\t\t\tif(siblings[i] === elem){\n\t\t\t\t\tsawElem = true;\n\t\t\t\t} else if(!sawElem){\n\t\t\t\t\treturn false;\n\t\t\t\t} else if(hasAttrib(siblings[i], \"selected\")){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn sawElem;\n\t},\n\tdisabled: function(elem){\n\t\treturn hasAttrib(elem, \"disabled\");\n\t},\n\tenabled: function(elem){\n\t\treturn !hasAttrib(elem, \"disabled\");\n\t},\n\tchecked: function(elem){\n\t\treturn hasAttrib(elem, \"checked\") || pseudos.selected(elem);\n\t},\n\n\t//jQuery extensions\n\n\t//:parent is the inverse of :empty\n\tparent: function(elem){\n\t\treturn !pseudos.empty(elem);\n\t},\n\theader: function(elem){\n\t\tvar name = getName(elem);\n\t\treturn name === \"h1\" ||\n\t\t       name === \"h2\" ||\n\t\t       name === \"h3\" ||\n\t\t       name === \"h4\" ||\n\t\t       name === \"h5\" ||\n\t\t       name === \"h6\";\n\t},\n\n\tbutton: function(elem){\n\t\tvar name = getName(elem);\n\t\treturn name === \"button\" ||\n\t\t       name === \"input\" &&\n\t\t       getAttribute(elem, \"type\") === \"button\";\n\t},\n\tinput: function(elem){\n\t\tvar name = getName(elem);\n\t\treturn name === \"input\" ||\n\t\t       name === \"textarea\" ||\n\t\t       name === \"select\" ||\n\t\t       name === \"button\";\n\t},\n\ttext: function(elem){\n\t\tvar attr;\n\t\treturn getName(elem) === \"input\" && (\n\t\t\t!(attr = getAttribute(elem, \"type\")) ||\n\t\t\tattr.toLowerCase() === \"text\"\n\t\t);\n\t}\n};\n\nfunction verifyArgs(func, name, subselect){\n\tif(subselect === null){\n\t\tif(func.length > 1){\n\t\t\tthrow new SyntaxError(\"pseudo-selector :\" + name + \" requires an argument\");\n\t\t}\n\t} else {\n\t\tif(func.length === 1){\n\t\t\tthrow new SyntaxError(\"pseudo-selector :\" + name + \" doesn't have any arguments\");\n\t\t}\t\n\t}\n}\n\nmodule.exports = {\n\tcompile: function(next, data){\n\t\tvar name = data.name,\n\t\t\tsubselect = data.data;\n\n\t\tif(typeof filters[name] === \"function\"){\n\t\t\tverifyArgs(filters[name], name,  subselect);\n\t\t\treturn filters[name](next, subselect);\n\t\t} else if(typeof pseudos[name] === \"function\"){\n\t\t\tvar func = pseudos[name];\n\t\t\tverifyArgs(func, name, subselect);\n\t\t\treturn function pseudoArgs(elem){\n\t\t\t\treturn func(elem, subselect) && next(elem);\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new SyntaxError(\"unmatched pseudo-class :\" + name);\n\t\t}\n\t},\n\tfilters: filters,\n\tpseudos: pseudos\n};\n","\"use strict\";\n\nmodule.exports = parse;\n\nvar re_ws = /^\\s/,\n    re_name = /^(?:\\\\.|[\\w\\-\\u00c0-\\uFFFF])+/,\n    re_escape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/ig,\n    //modified version of https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L87\n    re_attr = /^\\s*((?:\\\\.|[\\w\\u00c0-\\uFFFF\\-])+)\\s*(?:(\\S?)=\\s*(?:(['\"])(.*?)\\3|(#?(?:\\\\.|[\\w\\u00c0-\\uFFFF\\-])*)|)|)\\s*(i)?\\]/;\n\nvar actionTypes = {\n\t__proto__: null,\n\t\"undefined\": \"exists\",\n\t\"\":  \"equals\",\n\t\"~\": \"element\",\n\t\"^\": \"start\",\n\t\"$\": \"end\",\n\t\"*\": \"any\",\n\t\"!\": \"not\",\n\t\"|\": \"hyphen\"\n};\n\nvar simpleSelectors = {\n\t__proto__: null,\n\t\">\": \"child\",\n\t\"<\": \"parent\",\n\t\"~\": \"sibling\",\n\t\"+\": \"adjacent\"\n};\n\nvar attribSelectors = {\n\t__proto__: null,\n\t\"#\": [\"id\", \"equals\"],\n\t\".\": [\"class\", \"element\"]\n};\n\n//unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L139\nfunction funescape( _, escaped, escapedWhitespace ) {\n\tvar high = \"0x\" + escaped - 0x10000;\n\t// NaN means non-codepoint\n\t// Support: Firefox\n\t// Workaround erroneous numeric interpretation of +\"0x\"\n\treturn high !== high || escapedWhitespace ?\n\t\tescaped :\n\t\t// BMP codepoint\n\t\thigh < 0 ?\n\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n}\n\nfunction unescapeCSS(str){\n\treturn str.replace(re_escape, funescape);\n}\n\nfunction getClosingPos(selector){\n\tvar pos = 1, counter = 1, len = selector.length;\n\n\tfor(; counter > 0 && pos < len; pos++){\n\t\tif(selector.charAt(pos) === \"(\") counter++;\n\t\telse if(selector.charAt(pos) === \")\") counter--;\n\t}\n\n\treturn pos;\n}\n\nfunction parse(selector, options){\n\tselector = (selector + \"\").trimLeft();\n\n\tvar subselects = [],\n\t    tokens = [],\n\t    sawWS = false,\n\t    data, firstChar, name;\n\t\n\tfunction getName(){\n\t\tvar sub = selector.match(re_name)[0];\n\t\tselector = selector.substr(sub.length);\n\t\treturn unescapeCSS(sub);\n\t}\n\n\twhile(selector !== \"\"){\n\t\tif(re_name.test(selector)){\n\t\t\tif(sawWS){\n\t\t\t\ttokens.push({type: \"descendant\"});\n\t\t\t\tsawWS = false;\n\t\t\t}\n\n\t\t\tname = getName();\n\n\t\t\tif(!options || (\"lowerCaseTags\" in options ? options.lowerCaseTags : !options.xmlMode)){\n\t\t\t\tname = name.toLowerCase();\n\t\t\t}\n\n\t\t\ttokens.push({type: \"tag\", name: name});\n\t\t} else if(re_ws.test(selector)){\n\t\t\tsawWS = true;\n\t\t\tselector = selector.trimLeft();\n\t\t} else {\n\t\t\tfirstChar = selector.charAt(0);\n\t\t\tselector = selector.substr(1);\n\n\t\t\tif(firstChar in simpleSelectors){\n\t\t\t\ttokens.push({type: simpleSelectors[firstChar]});\n\t\t\t\tselector = selector.trimLeft();\n\t\t\t\tsawWS = false;\n\t\t\t\tcontinue;\n\t\t\t} else if(firstChar === \",\"){\n\t\t\t\tif(tokens.length === 0){\n\t\t\t\t\tthrow new SyntaxError(\"empty sub-selector\");\n\t\t\t\t}\n\t\t\t\tsubselects.push(tokens);\n\t\t\t\ttokens = [];\n\n\t\t\t\tselector = selector.trimLeft();\n\t\t\t\tsawWS = false;\n\t\t\t\tcontinue;\n\t\t\t} else if(sawWS){\n\t\t\t\ttokens.push({type: \"descendant\"});\n\t\t\t\tsawWS = false;\n\t\t\t}\n\n\t\t\tif(firstChar === \"*\"){\n\t\t\t\ttokens.push({type: \"universal\"});\n\t\t\t} else if(firstChar in attribSelectors){\n\t\t\t\ttokens.push({\n\t\t\t\t\ttype: \"attribute\",\n\t\t\t\t\tname: attribSelectors[firstChar][0],\n\t\t\t\t\taction: attribSelectors[firstChar][1],\n\t\t\t\t\tvalue: getName(),\n\t\t\t\t\tignoreCase: false\n\t\t\t\t});\n\t\t\t} else if(firstChar === \"[\"){\n\t\t\t\tdata = selector.match(re_attr);\n\t\t\t\tif(!data){\n\t\t\t\t\tthrow new SyntaxError(\"Malformed attribute selector: \" + selector);\n\t\t\t\t}\n\t\t\t\tselector = selector.substr(data[0].length);\n\t\t\t\tname = unescapeCSS(data[1]);\n\n\t\t\t\tif(\n\t\t\t\t\t!options || (\n\t\t\t\t\t\t\"lowerCaseAttributeNames\" in options ?\n\t\t\t\t\t\t\toptions.lowerCaseAttributeNames :\n\t\t\t\t\t\t\t!options.xmlMode\n\t\t\t\t\t)\n\t\t\t\t){\n\t\t\t\t\tname = name.toLowerCase();\n\t\t\t\t}\n\n\t\t\t\ttokens.push({\n\t\t\t\t\ttype: \"attribute\",\n\t\t\t\t\tname: name,\n\t\t\t\t\taction: actionTypes[data[2]],\n\t\t\t\t\tvalue: unescapeCSS(data[4] || data[5] || \"\"),\n\t\t\t\t\tignoreCase: !!data[6]\n\t\t\t\t});\n\t\t\t\t\n\t\t\t} else if(firstChar === \":\"){\n\t\t\t\t//if(selector.charAt(0) === \":\"){} //TODO pseudo-element\n\t\t\t\tname = getName().toLowerCase();\n\t\t\t\tdata = null;\n\t\t\t\t\n\t\t\t\tif(selector.charAt(0) === \"(\"){\n\t\t\t\t\tvar pos = getClosingPos(selector);\n\t\t\t\t\tdata = selector.substr(1, pos - 2);\n\t\t\t\t\tselector = selector.substr(pos);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttokens.push({type: \"pseudo\", name: name, data: data});\n\t\t\t} else {\n\t\t\t\t//otherwise, the parser needs to throw or it would enter an infinite loop\n\t\t\t\tthrow new SyntaxError(\"Unmatched selector: \" + firstChar + selector);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif(subselects.length > 0 && tokens.length === 0){\n\t\tthrow new SyntaxError(\"empty sub-selector\");\n\t}\n\tsubselects.push(tokens);\n\treturn subselects;\n}","var DomUtils    = require(\"domutils\"),\n    isTag       = DomUtils.isTag,\n    getParent   = DomUtils.getParent,\n    getChildren = DomUtils.getChildren,\n    getSiblings = DomUtils.getSiblings,\n    getName     = DomUtils.getName;\n\n/*\n\tall available rules\n*/\nmodule.exports = {\n\t__proto__: null,\n\n\tattribute: require(\"./attributes.js\").compile,\n\tpseudo: require(\"./pseudos.js\").compile,\n\n\t//tags\n\ttag: function(next, data){\n\t\tvar name = data.name;\n\t\treturn function tag(elem){\n\t\t\treturn getName(elem) === name && next(elem);\n\t\t};\n\t},\n\n\t//traversal\n\tdescendant: function(next){\n\t\treturn function descendant(elem){\n\t\t\tvar found = false;\n\n\t\t\twhile(!found && (elem = getParent(elem))){\n\t\t\t\tfound = next(elem);\n\t\t\t}\n\n\t\t\treturn found;\n\t\t};\n\t},\n\tparent: function(next){\n\t\treturn function parent(elem){\n\t\t\treturn getChildren(elem).some(next);\n\t\t};\n\t},\n\tchild: function(next){\n\t\treturn function child(elem){\n\t\t\tvar parent = getParent(elem);\n\t\t\treturn !!parent && next(parent);\n\t\t};\n\t},\n\tsibling: function(next){\n\t\treturn function sibling(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var i = 0; i < siblings.length; i++){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) break;\n\t\t\t\t\tif(next(siblings[i])) return true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t},\n\tadjacent: function(next){\n\t\treturn function adjacent(elem){\n\t\t\tvar siblings = getSiblings(elem),\n\t\t\t    lastElement;\n\n\t\t\tfor(var i = 0; i < siblings.length; i++){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) break;\n\t\t\t\t\tlastElement = siblings[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!lastElement && next(lastElement);\n\t\t};\n\t},\n\tuniversal: function(next){\n\t\treturn next;\n\t}\n};","module.exports = sortByProcedure;\n\n/*\n\tsort the parts of the passed selector,\n\tas there is potential for optimization\n\t(some types of selectors are faster than others)\n*/\n\nvar ATTRIBUTE = 1;\n\nvar procedure = {\n\t__proto__: null,\n\tuniversal: 5, //should be last so that it can be ignored\n\ttag: 3, //very quick test\n\tattribute: ATTRIBUTE,\n\tpseudo: 0, //can be pretty expensive (especially :has)\n\n\t//everything else shouldn't be moved\n\tdescendant: -1,\n\tchild: -1,\n\tparent: -1,\n\tsibling: -1,\n\tadjacent: -1\n};\n\nvar attributes = {\n\t__proto__: null,\n\texists: 8,\n\tequals: 7,\n\tnot: 6,\n\tstart: 5,\n\tend: 4,\n\tany: 3,\n\thyphen: 2,\n\telement: 1\n};\n\nfunction sortByProcedure(arr){\n\tfor(var i = 1; i < arr.length; i++){\n\t\tvar procNew = procedure[arr[i].type];\n\n\t\tif(procNew < 0) continue;\n\n\t\tfor(var j = i - 1; j >= 0; j--){\n\t\t\tif(\n\t\t\t\tprocNew > procedure[arr[j].type] || !(\n\t\t\t\t\tprocNew === ATTRIBUTE &&\n\t\t\t\t\tprocedure[arr[j].type] === ATTRIBUTE &&\n\t\t\t\t\tattributes[arr[i].action] <= attributes[arr[j].action]\n\t\t\t\t)\n\t\t\t) break;\n\n\t\t\tvar tmp = arr[j + 1];\n\t\t\tarr[j + 1] = arr[j];\n\t\t\tarr[j] = tmp;\n\t\t}\n\t}\n\treturn arr;\n}","/*\n\tcompiles a selector to an executable function\n*/\n\nmodule.exports = compile;\nmodule.exports.compileUnsafe = compileUnsafe;\n\nvar parse       = require(\"CSSwhat\"),\n    DomUtils    = require(\"domutils\"),\n    isTag       = DomUtils.isTag,\n    Rules       = require(\"./general.js\"),\n    sortRules   = require(\"./sort.js\"),\n    BaseFuncs   = require(\"./basefunctions.js\"),\n    trueFunc    = BaseFuncs.trueFunc,\n    falseFunc   = BaseFuncs.falseFunc;\n\nfunction compile(selector, options){\n\tvar next = compileUnsafe(selector, options);\n\n\treturn function base(elem){\n\t\treturn isTag(elem) && next(elem);\n\t};\n}\n\nfunction compileUnsafe(selector, options){\n\treturn parse(selector, options)\n\t\t.map(compileRules)\n\t\t.reduce(reduceRules, falseFunc);\n}\n\nfunction compileRules(arr){\n\tif(arr.length === 0) return falseFunc;\n\treturn sortRules(arr).reduce(function(func, rule){\n\t\tif(func === falseFunc) return func;\n\t\treturn Rules[rule.type](func, rule);\n\t}, trueFunc);\n}\n\nfunction reduceRules(a, b){\n\tif(b === falseFunc || a === trueFunc){\n\t\treturn a;\n\t}\n\tif(a === falseFunc || b === trueFunc){\n\t\treturn b;\n\t}\n\n\treturn function combine(elem){\n\t\treturn a(elem) || b(elem);\n\t};\t\n}\n\n//:not and :has have to compile selectors\n//doing this in lib/pseudos.js would lead to circular dependencies,\n//so we add them here\n\nvar Pseudos     = require(\"./pseudos.js\"),\n    filters     = Pseudos.filters,\n    isParent    = Pseudos.pseudos.parent,\n    existsOne   = DomUtils.existsOne,\n    getChildren = DomUtils.getChildren;\n\nfilters.not = function(next, select){\n\tvar func = compileUnsafe(select);\n\n\tif(func === falseFunc) return next;\n\tif(func === trueFunc)  return falseFunc;\n\n\treturn function(elem){\n\t\treturn !func(elem) && next(elem);\n\t};\n};\n\nfilters.has = function(next, selector){\n\tvar func = compile(selector);\n\n\tif(func === falseFunc) return falseFunc;\n\tif(func === trueFunc)  return function(elem){\n\t\t\treturn isParent(elem) && next(elem);\n\t\t};\n\n\treturn function has(elem){\n\t\treturn next(elem) && existsOne(func, getChildren(elem));\n\t};\n};\n","\"use strict\";\n\nmodule.exports = CSSselect;\n\nvar Pseudos       = require(\"./lib/pseudos.js\"),\n    DomUtils      = require(\"domutils\"),\n    findOne       = DomUtils.findOne,\n    findAll       = DomUtils.findAll,\n    getChildren   = DomUtils.getChildren,\n    removeSubsets = DomUtils.removeSubsets,\n    falseFunc     = require(\"./lib/basefunctions.js\").falseFunc,\n    compile       = require(\"./lib/compile.js\"),\n    compileUnsafe = compile.compileUnsafe;\n\nfunction getSelectorFunc(searchFunc){\n\treturn function select(query, elems, options){\n\t\tif(typeof query !== \"function\") query = compileUnsafe(query, options);\n\t\tif(!Array.isArray(elems)) elems = getChildren(elems);\n\t\telse elems = removeSubsets(elems);\n\t\treturn searchFunc(query, elems);\n\t};\n}\n\nvar selectAll = getSelectorFunc(function selectAll(query, elems){\n\treturn (query === falseFunc || !elems || elems.length === 0) ? [] : findAll(query, elems);\n});\n\nvar selectOne = getSelectorFunc(function selectOne(query, elems){\n\treturn (query === falseFunc || !elems || elems.length === 0) ? null : findOne(query, elems);\n});\n\nfunction is(elem, query, options){\n\treturn (typeof query === \"function\" ? query : compile(query, options))(elem);\n}\n\n/*\n\tthe exported interface\n*/\nfunction CSSselect(query, elems, options){\n\treturn selectAll(query, elems, options);\n}\n\nCSSselect.compile = compile;\nCSSselect.filters = Pseudos.filters;\nCSSselect.pseudos = Pseudos.pseudos;\n\nCSSselect.selectAll = selectAll;\nCSSselect.selectOne = selectOne;\n\nCSSselect.is = is;\n\n//legacy methods (might be removed)\nCSSselect.parse = compile;\nCSSselect.iterate = selectAll;\n","var _ = require('lodash'),\n    select = require('CSSselect'),\n    utils = require('../utils'),\n    domEach = utils.domEach,\n    uniqueSort = require('htmlparser2').DomUtils.uniqueSort,\n    isTag = utils.isTag;\n\nvar find = exports.find = function(selector) {\n  var elems = _.reduce(this, function(memo, elem) {\n    return memo.concat(_.filter(elem.children, isTag));\n  }, []);\n\n  return this._make(select(selector, elems, this.options));\n};\n\n// Get the parent of each element in the current set of matched elements,\n// optionally filtered by a selector.\nvar parent = exports.parent = function(selector) {\n  var set = [];\n  var $set;\n\n  domEach(this, function(idx, elem) {\n    var parentElem = elem.parent;\n    if (parentElem && set.indexOf(parentElem) < 0) {\n      set.push(parentElem);\n    }\n  });\n\n  if (arguments.length) {\n    set = filter.call(set, selector, this);\n  }\n\n  return this._make(set);\n};\n\nvar parents = exports.parents = function(selector) {\n  var parentNodes = [];\n\n  // When multiple DOM elements are in the original set, the resulting set will\n  // be in *reverse* order of the original elements as well, with duplicates\n  // removed.\n  this.get().reverse().forEach(function(elem) {\n    traverseParents(this, elem.parent, selector, Infinity)\n      .forEach(function(node) {\n        if (parentNodes.indexOf(node) === -1) {\n          parentNodes.push(node);\n        }\n      }\n    );\n  }, this);\n\n  return this._make(parentNodes);\n};\n\nvar parentsUntil = exports.parentsUntil = function(selector, filter) {\n  var parentNodes = [], untilNode, untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select(selector, this.parents().toArray(), this.options)[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.toArray();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  // When multiple DOM elements are in the original set, the resulting set will\n  // be in *reverse* order of the original elements as well, with duplicates\n  // removed.\n\n  this.toArray().reverse().forEach(function(elem) {\n    while ((elem = elem.parent)) {\n      if ((untilNode && elem !== untilNode) ||\n        (untilNodes && untilNodes.indexOf(elem) === -1) ||\n        (!untilNode && !untilNodes)) {\n        if (isTag(elem) && parentNodes.indexOf(elem) === -1) { parentNodes.push(elem); }\n      } else {\n        break;\n      }\n    }\n  }, this);\n\n  return this._make(filter ? select(filter, parentNodes, this.options) : parentNodes);\n};\n\n// For each element in the set, get the first element that matches the selector\n// by testing the element itself and traversing up through its ancestors in the\n// DOM tree.\nvar closest = exports.closest = function(selector) {\n  var set = [];\n\n  if (!selector) {\n    return this._make(set);\n  }\n\n  domEach(this, function(idx, elem) {\n    var closestElem = traverseParents(this, elem, selector, 1)[0];\n\n    // Do not add duplicate elements to the set\n    if (closestElem && set.indexOf(closestElem) < 0) {\n      set.push(closestElem);\n    }\n  }.bind(this));\n\n  return this._make(set);\n};\n\nvar next = exports.next = function(selector) {\n  if (!this[0]) { return this; }\n  var elems = [];\n\n  _.forEach(this, function(elem) {\n    while ((elem = elem.next)) {\n      if (isTag(elem)) {\n        elems.push(elem);\n        return;\n      }\n    }\n  });\n\n  return selector ? filter.call(elems, selector, this) : this._make(elems);\n};\n\nvar nextAll = exports.nextAll = function(selector) {\n  if (!this[0]) { return this; }\n  var elems = [];\n\n  _.forEach(this, function(elem) {\n    while ((elem = elem.next)) {\n      if (isTag(elem) && elems.indexOf(elem) === -1) {\n        elems.push(elem);\n      }\n    }\n  });\n\n  return selector ? filter.call(elems, selector, this) : this._make(elems);\n};\n\nvar nextUntil = exports.nextUntil = function(selector, filterSelector) {\n  if (!this[0]) { return this; }\n  var elems = [], untilNode, untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select(selector, this.nextAll().get(), this.options)[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.get();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  _.forEach(this, function(elem) {\n    while ((elem = elem.next)) {\n      if ((untilNode && elem !== untilNode) ||\n        (untilNodes && untilNodes.indexOf(elem) === -1) ||\n        (!untilNode && !untilNodes)) {\n        if (isTag(elem) && elems.indexOf(elem) === -1) {\n          elems.push(elem);\n        }\n      } else {\n        break;\n      }\n    }\n  });\n\n  return filterSelector ?\n    filter.call(elems, filterSelector, this) :\n    this._make(elems);\n};\n\nvar prev = exports.prev = function(selector) {\n  if (!this[0]) { return this; }\n  var elems = [];\n\n  _.forEach(this, function(elem) {\n    while ((elem = elem.prev)) {\n      if (isTag(elem)) {\n        elems.push(elem);\n        return;\n      }\n    }\n  });\n\n  return selector ? filter.call(elems, selector, this) : this._make(elems);\n};\n\nvar prevAll = exports.prevAll = function(selector) {\n  if (!this[0]) { return this; }\n  var elems = [];\n\n  _.forEach(this, function(elem) {\n    while ((elem = elem.prev)) {\n      if (isTag(elem) && elems.indexOf(elem) === -1) {\n        elems.push(elem);\n      }\n    }\n  });\n\n  return selector ? filter.call(elems, selector, this) : this._make(elems);\n};\n\nvar prevUntil = exports.prevUntil = function(selector, filterSelector) {\n  if (!this[0]) { return this; }\n  var elems = [], untilNode, untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select(selector, this.prevAll().get(), this.options)[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.get();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  _.forEach(this, function(elem) {\n    while ((elem = elem.prev)) {\n      if ((untilNode && elem !== untilNode) ||\n        (untilNodes && untilNodes.indexOf(elem) === -1) ||\n        (!untilNode && !untilNodes)) {\n        if (isTag(elem) && elems.indexOf(elem) === -1) {\n          elems.push(elem);\n        }\n      } else {\n        break;\n      }\n    }\n  });\n\n  return filterSelector ?\n    filter.call(elems, filterSelector, this) :\n    this._make(elems);\n};\n\nvar siblings = exports.siblings = function(selector) {\n  var parent = this.parent();\n\n  var elems = _.filter(\n    parent ? parent.children() : this.siblingsAndMe(),\n    function(elem) { return isTag(elem) && !this.is(elem); },\n    this\n  );\n\n  if (selector !== undefined) {\n    return filter.call(elems, selector, this);\n  } else {\n    return this._make(elems);\n  }\n};\n\nvar children = exports.children = function(selector) {\n\n  var elems = _.reduce(this, function(memo, elem) {\n    return memo.concat(_.filter(elem.children, isTag));\n  }, []);\n\n  if (selector === undefined) return this._make(elems);\n  else if (typeof selector === 'number') return this._make(elems[selector]);\n\n  return filter.call(elems, selector, this);\n};\n\nvar contents = exports.contents = function() {\n  return this._make(_.reduce(this, function(all, elem) {\n    all.push.apply(all, elem.children);\n    return all;\n  }, []));\n};\n\nvar each = exports.each = function(fn) {\n  var i = 0, len = this.length;\n  while (i < len && fn.call(this[i], i, this[i]) !== false) ++i;\n  return this;\n};\n\nvar map = exports.map = function(fn) {\n  return this._make(_.reduce(this, function(memo, el, i) {\n    var val = fn.call(el, i, el);\n    return val == null ? memo : memo.concat(val);\n  }, []));\n};\n\nvar filter = exports.filter = function(match, container) {\n  container = container || this;\n\n  var make = _.bind(container._make, container);\n  var filterFn;\n\n  if (typeof match === 'string') {\n    filterFn = select.compile(match, container.options);\n  } else if (typeof match === 'function') {\n    filterFn = function(el, i) {\n      return match.call(el, i, el);\n    };\n  } else if (match.cheerio) {\n    filterFn = match.is.bind(match);\n  } else {\n    filterFn = function(el) {\n      return match === el;\n    };\n  }\n\n  return make(_.filter(this, filterFn));\n};\n\nvar first = exports.first = function() {\n  return this.length > 1 ? this._make(this[0]) : this;\n};\n\nvar last = exports.last = function() {\n  return this.length > 1 ? this._make(this[this.length - 1]) : this;\n};\n\n// Reduce the set of matched elements to the one at the specified index.\nvar eq = exports.eq = function(i) {\n  i = +i;\n\n  // Use the first identity optimization if possible\n  if (i === 0 && this.length <= 1) return this;\n\n  if (i < 0) i = this.length + i;\n  return this[i] ? this._make(this[i]) : this._make([]);\n};\n\n// Retrieve the DOM elements matched by the jQuery object.\nvar get = exports.get = function(i) {\n  if (i == null) {\n    return Array.prototype.slice.call(this);\n  } else {\n    return this[i < 0 ? (this.length + i) : i];\n  }\n};\n\nvar slice = exports.slice = function() {\n  return this._make([].slice.apply(this, arguments));\n};\n\nfunction traverseParents(self, elem, selector, limit) {\n  var elems = [];\n  while (elem && elems.length < limit) {\n    if (!selector || filter.call([elem], selector, self).length) {\n      elems.push(elem);\n    }\n    elem = elem.parent;\n  }\n  return elems;\n}\n\n// End the most recent filtering operation in the current chain and return the\n// set of matched elements to its previous state.\nvar end = exports.end = function() {\n  return this.prevObject || this._make([]);\n};\n\nvar add = exports.add = function(other, context) {\n  var selection = this._make(other, context);\n  var contents = uniqueSort(selection.get().concat(this.get()));\n\n  for (var i = 0; i < contents.length; ++i) {\n    selection[i] = contents[i];\n  }\n  selection.length = contents.length;\n\n  return selection;\n};\n","/**\n * Module dependencies\n */\n\nvar select = require('CSSselect'),\n    parse = require('./parse'),\n    render = require('dom-serializer'),\n    _ = require('lodash');\n\n/**\n * $.load(str)\n */\n\nvar load = exports.load = function(content, options) {\n  var Cheerio = require('./cheerio');\n\n  options = _.defaults(options || {}, Cheerio.prototype.options);\n\n  var root = parse(content, options);\n\n  var initialize = function(selector, context, r, opts) {\n    opts = _.defaults(opts || {}, options);\n    return new Cheerio(selector, context, r || root, opts);\n  };\n\n  // Add in the static methods\n  initialize.__proto__ = exports;\n\n  // Add in the root\n  initialize._root = root;\n  // store options\n  initialize._options = options;\n\n  return initialize;\n};\n\n/**\n * $.html([selector | dom])\n */\n\nvar html = exports.html = function(dom, options) {\n  var Cheerio = require('./cheerio');\n\n  // be flexible about parameters, sometimes we call html(),\n  // with options as only parameter\n  // check dom argument for dom element specific properties\n  // assume there is no 'length' or 'type' properties in the options object\n  if (Object.prototype.toString.call(dom) === '[object Object]' && !options && !('length' in dom) && !('type' in dom))\n  {\n    options = dom;\n    dom = undefined;\n  }\n\n  // sometimes $.html() used without preloading html\n  // so fallback non existing options to the default ones\n  options = _.defaults(options || {}, this._options, Cheerio.prototype.options);\n\n  if (dom) {\n    dom = (typeof dom === 'string') ? select(dom, this._root, options) : dom;\n    return render(dom, options);\n  } else if (this._root && this._root.children) {\n    return render(this._root.children, options);\n  } else {\n    return '';\n  }\n};\n\n/**\n * $.xml([selector | dom])\n */\n\nvar xml = exports.xml = function(dom) {\n  if (dom) {\n    dom = (typeof dom === 'string') ? select(dom, this._root, this.options) : dom;\n    return render(dom, { xmlMode: true });\n  } else if (this._root && this._root.children) {\n    return render(this._root.children, { xmlMode: true });\n  } else {\n    return '';\n  }\n};\n\n/**\n * $.text(dom)\n */\n\nvar text = exports.text = function(elems) {\n  if (!elems) return '';\n\n  var ret = '',\n      len = elems.length,\n      elem;\n\n  for (var i = 0; i < len; i ++) {\n    elem = elems[i];\n    if (elem.type === 'text') ret += elem.data;\n    else if (elem.children && elem.type !== 'comment') {\n      ret += text(elem.children);\n    }\n  }\n\n  return ret;\n};\n\n/**\n * $.parseHTML(data [, context ] [, keepScripts ])\n * Parses a string into an array of DOM nodes. The `context` argument has no\n * meaning for Cheerio, but it is maintained for API compatibility with jQuery.\n */\nvar parseHTML = exports.parseHTML = function(data, context, keepScripts) {\n  var parsed;\n\n  if (!data || typeof data !== 'string') {\n    return null;\n  }\n\n  if (typeof context === 'boolean') {\n    keepScripts = context;\n  }\n\n  parsed = this.load(data);\n  if (!keepScripts) {\n    parsed('script').remove();\n  }\n\n  return parsed.root()[0].children;\n};\n\n/**\n * $.root()\n */\nvar root = exports.root = function() {\n  return this(this._root);\n};\n\n/**\n * $.contains()\n */\nvar contains = exports.contains = function(container, contained) {\n\n  // According to the jQuery API, an element does not \"contain\" itself\n  if (contained === container) {\n    return false;\n  }\n\n  // Step up the descendants, stopping when the root element is reached\n  // (signaled by `.parent` returning a reference to the same object)\n  while (contained && contained !== contained.parent) {\n    contained = contained.parent;\n    if (contained === container) {\n      return true;\n    }\n  }\n\n  return false;\n};\n","var _ = require('lodash'),\n    parse = require('../parse'),\n    $ = require('../static'),\n    updateDOM = parse.update,\n    evaluate = parse.evaluate,\n    utils = require('../utils'),\n    domEach = utils.domEach,\n    encode = utils.encode,\n    slice = Array.prototype.slice;\n\n// Create an array of nodes, recursing into arrays and parsing strings if\n// necessary\nexports._makeDomArray = function makeDomArray(elem) {\n  if (elem == null) {\n    return [];\n  } else if (elem.cheerio) {\n    return elem.get();\n  } else if (Array.isArray(elem)) {\n    return _.flatten(elem.map(makeDomArray, this));\n  } else if (typeof elem === 'string') {\n    return evaluate(elem, this.options);\n  } else {\n    return [elem];\n  }\n};\n\nvar _insert = function(concatenator) {\n  return function() {\n    var self = this,\n        elems = slice.call(arguments),\n        dom = this._makeDomArray(elems);\n\n    if (typeof elems[0] === 'function') {\n      return domEach(this, function(i, el) {\n        dom = self._makeDomArray(elems[0].call(el, i, $.html(el.children)));\n        concatenator(dom, el.children, el);\n      });\n    } else {\n      return domEach(this, function(i, el) {\n        concatenator(dom, el.children, el);\n      });\n    }\n  };\n};\n\n/*\n * Modify an array in-place, removing some number of elements and adding new\n * elements directly following them.\n *\n * @param {Array} array Target array to splice.\n * @param {Number} spliceIdx Index at which to begin changing the array.\n * @param {Number} spliceCount Number of elements to remove from the array.\n * @param {Array} newElems Elements to insert into the array.\n *\n * @api private\n */\nvar uniqueSplice = function(array, spliceIdx, spliceCount, newElems, parent) {\n  var spliceArgs = [spliceIdx, spliceCount].concat(newElems),\n      prev = array[spliceIdx - 1] || null,\n      next = array[spliceIdx] || null;\n  var idx, len, prevIdx, node, oldParent;\n\n  // Before splicing in new elements, ensure they do not already appear in the\n  // current array.\n  for (idx = 0, len = newElems.length; idx < len; ++idx) {\n    node = newElems[idx];\n    oldParent = node.parent || node.root;\n    prevIdx = oldParent && oldParent.children.indexOf(newElems[idx]);\n\n    if (oldParent && prevIdx > -1) {\n      oldParent.children.splice(prevIdx, 1);\n      if (parent === oldParent && spliceIdx > prevIdx) {\n        spliceArgs[0]--;\n      }\n    }\n\n    node.root = null;\n    node.parent = parent;\n\n    if (node.prev) {\n      node.prev.next = node.next || null;\n    }\n\n    if (node.next) {\n      node.next.prev = node.prev || null;\n    }\n\n    node.prev = newElems[idx - 1] || prev;\n    node.next = newElems[idx + 1] || next;\n  }\n\n  if (prev) {\n    prev.next = newElems[0];\n  }\n  if (next) {\n    next.prev = newElems[newElems.length - 1];\n  }\n\n  return array.splice.apply(array, spliceArgs);\n};\n\nvar append = exports.append = _insert(function(dom, children, parent) {\n  uniqueSplice(children, children.length, 0, dom, parent);\n});\n\nvar prepend = exports.prepend = _insert(function(dom, children, parent) {\n  uniqueSplice(children, 0, 0, dom, parent);\n});\n\nvar after = exports.after = function() {\n  var elems = slice.call(arguments),\n      dom = this._makeDomArray(elems),\n      self = this;\n\n  domEach(this, function(i, el) {\n    var parent = el.parent || el.root;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children,\n        index = siblings.indexOf(el);\n\n    // If not found, move on\n    if (!~index) return;\n\n    if (typeof elems[0] === 'function') {\n      dom = self._makeDomArray(elems[0].call(el, i));\n    }\n\n    // Add element after `this` element\n    uniqueSplice(siblings, ++index, 0, dom, parent);\n  });\n\n  return this;\n};\n\nvar before = exports.before = function() {\n  var elems = slice.call(arguments),\n      dom = this._makeDomArray(elems),\n      self = this;\n\n  domEach(this, function(i, el) {\n    var parent = el.parent || el.root;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children,\n        index = siblings.indexOf(el);\n\n    // If not found, move on\n    if (!~index) return;\n\n    if (typeof elems[0] === 'function') {\n      dom = self._makeDomArray(elems[0].call(el, i));\n    }\n\n    // Add element before `el` element\n    uniqueSplice(siblings, index, 0, dom, parent);\n  });\n\n  return this;\n};\n\n/*\n  remove([selector])\n*/\nvar remove = exports.remove = function(selector) {\n  var elems = this;\n\n  // Filter if we have selector\n  if (selector)\n    elems = elems.filter(selector);\n\n  domEach(elems, function(i, el) {\n    var parent = el.parent || el.root;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children,\n        index = siblings.indexOf(el);\n\n    if (!~index) return;\n\n\n    siblings.splice(index, 1);\n    if (el.prev) {\n      el.prev.next = el.next;\n    }\n    if (el.next) {\n      el.next.prev = el.prev;\n    }\n    el.prev = el.next = el.parent = el.root = null;\n  });\n\n  return this;\n};\n\nvar replaceWith = exports.replaceWith = function(content) {\n  var self = this;\n\n  domEach(this, function(i, el) {\n    var parent = el.parent || el.root;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children,\n        dom = self._makeDomArray(typeof content === 'function' ? content.call(el, i, el) : content),\n        index;\n\n    // In the case that `dom` contains nodes that already exist in other\n    // structures, ensure those nodes are properly removed.\n    updateDOM(dom, null);\n\n    index = siblings.indexOf(el);\n\n    // Completely remove old element\n    uniqueSplice(siblings, index, 1, dom, parent);\n    el.parent = el.prev = el.next = el.root = null;\n  });\n\n  return this;\n};\n\nvar empty = exports.empty = function() {\n  domEach(this, function(i, el) {\n    _.each(el.children, function(el) {\n      el.next = el.prev = el.parent = null;\n    });\n\n    el.children.length = 0;\n  });\n  return this;\n};\n\n/**\n * Set/Get the HTML\n */\nvar html = exports.html = function(str) {\n  if (str === undefined) {\n    if (!this[0] || !this[0].children) return null;\n    return $.html(this[0].children, this.options);\n  }\n\n  var opts = this.options;\n\n  domEach(this, function(i, el) {\n    _.each(el.children, function(el) {\n      el.next = el.prev = el.parent = null;\n    });\n\n    var content = str.cheerio ? str.clone().get() : evaluate(str, opts);\n\n    updateDOM(content, el);\n  });\n\n  return this;\n};\n\nvar toString = exports.toString = function() {\n  return $.html(this);\n};\n\nvar text = exports.text = function(str) {\n  // If `str` is undefined, act as a \"getter\"\n  if (str === undefined) {\n    return $.text(this);\n  } else if (typeof str === 'function') {\n    // Function support\n    return domEach(this, function(i, el) {\n      var $el = [el];\n      return text.call($el, str.call(el, i, $.text($el)));\n    });\n  }\n\n  // Append text node to each selected elements\n  domEach(this, function(i, el) {\n    _.each(el.children, function(el) {\n      el.next = el.prev = el.parent = null;\n    });\n\n    var elem = {\n      data: str,\n      type: 'text',\n      parent: el,\n      prev: null,\n      next: null,\n      children: []\n    };\n\n    updateDOM(elem, el);\n  });\n\n  return this;\n};\n\nvar clone = exports.clone = function() {\n  // Turn it into HTML, then recreate it,\n  // Seems to be the easiest way to reconnect everything correctly\n  return this._make($.html(this));\n};\n","var _ = require('lodash'),\n    domEach = require('../utils').domEach;\nvar toString = Object.prototype.toString;\n\n/**\n * Set / Get css.\n *\n * @param {String|Object} prop\n * @param {String} val\n * @return {self}\n * @api public\n */\n\nexports.css = function(prop, val) {\n  if (arguments.length === 2 ||\n    // When `prop` is a \"plain\" object\n    (toString.call(prop) === '[object Object]')) {\n    return domEach(this, function(idx, el) {\n      setCss(el, prop, val, idx);\n    });\n  } else {\n    return getCss(this[0], prop);\n  }\n};\n\n/**\n * Set styles of all elements.\n *\n * @param {String|Object} prop\n * @param {String} val\n * @param {Number} idx - optional index within the selection\n * @return {self}\n * @api private\n */\n\nfunction setCss(el, prop, val, idx) {\n  if ('string' == typeof prop) {\n    var styles = getCss(el);\n    if (typeof val === 'function') {\n      val = val.call(el, idx, el);\n    }\n\n    if (val === '') {\n      delete styles[prop];\n    } else if (val != null) {\n      styles[prop] = val;\n    }\n\n    el.attribs.style = stringify(styles);\n  } else if ('object' == typeof prop) {\n    Object.keys(prop).forEach(function(k){\n      setCss(el, k, prop[k]);\n    });\n  }\n}\n\n/**\n * Get parsed styles of the first element.\n *\n * @param {String} prop\n * @return {Object}\n * @api private\n */\n\nfunction getCss(el, prop) {\n  var styles = parse(el.attribs.style);\n  if (typeof prop === 'string') {\n    return styles[prop];\n  } else if (Array.isArray(prop)) {\n    return _.pick(styles, prop);\n  } else {\n    return styles;\n  }\n}\n\n/**\n * Stringify `obj` to styles.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction stringify(obj) {\n  return Object.keys(obj || {})\n    .reduce(function(str, prop){\n      return str += ''\n        + (str ? ' ' : '')\n        + prop\n        + ': '\n        + obj[prop]\n        + ';';\n    }, '');\n}\n\n/**\n * Parse `styles`.\n *\n * @param {String} styles\n * @return {Object}\n * @api private\n */\n\nfunction parse(styles) {\n  styles = (styles || '').trim();\n\n  if (!styles) return {};\n\n  return styles\n    .split(';')\n    .reduce(function(obj, str){\n      var n = str.indexOf(':');\n      // skip if there is no :, or if it is the first/last character\n      if (n < 1 || n === str.length-1) return obj;\n      obj[str.slice(0,n).trim()] = str.slice(n+1).trim();\n      return obj;\n    }, {});\n}\n","/*\n  Module dependencies\n*/\n\nvar path = require('path'),\n    parse = require('./parse'),\n    _ = require('lodash');\n\n/*\n * The API\n */\n\nvar api = [\n  require('./api/attributes'),\n  require('./api/traversing'),\n  require('./api/manipulation'),\n  require('./api/css')\n];\n\n/*\n * A simple way to check for HTML strings or ID strings\n */\n\nvar quickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n\n/*\n * Instance of cheerio\n */\n\nvar Cheerio = module.exports = function(selector, context, root, options) {\n  if (!(this instanceof Cheerio)) return new Cheerio(selector, context, root, options);\n\n  this.options = _.defaults(options || {}, this.options);\n\n  // $(), $(null), $(undefined), $(false)\n  if (!selector) return this;\n\n  if (root) {\n    if (typeof root === 'string') root = parse(root, this.options);\n    this._root = Cheerio.call(this, root);\n  }\n\n  // $($)\n  if (selector.cheerio) return selector;\n\n  // $(dom)\n  if (isNode(selector))\n    selector = [selector];\n\n  // $([dom])\n  if (Array.isArray(selector)) {\n    _.forEach(selector, function(elem, idx) {\n      this[idx] = elem;\n    }, this);\n    this.length = selector.length;\n    return this;\n  }\n\n  // $(<html>)\n  if (typeof selector === 'string' && isHtml(selector)) {\n    return Cheerio.call(this, parse(selector, this.options).children);\n  }\n\n  // If we don't have a context, maybe we have a root, from loading\n  if (!context) {\n    context = this._root;\n  } else if (typeof context === 'string') {\n    if (isHtml(context)) {\n      // $('li', '<ul>...</ul>')\n      context = parse(context, this.options);\n      context = Cheerio.call(this, context);\n    } else {\n      // $('li', 'ul')\n      selector = [context, selector].join(' ');\n      context = this._root;\n    }\n  // $('li', node), $('li', [nodes])\n  } else if (!context.cheerio) {\n    context = Cheerio.call(this, context);\n  }\n\n  // If we still don't have a context, return\n  if (!context) return this;\n\n  // #id, .class, tag\n  return context.find(selector);\n};\n\n/**\n * Mix in `static`\n */\n\n_.extend(Cheerio, require('./static'));\n\n/*\n * Set a signature of the object\n */\n\nCheerio.prototype.cheerio = '[cheerio object]';\n\n/*\n * Cheerio default options\n */\n\nCheerio.prototype.options = {\n  normalizeWhitespace: false,\n  xmlMode: false,\n  decodeEntities: true\n};\n\n/*\n * Make cheerio an array-like object\n */\n\nCheerio.prototype.length = 0;\nCheerio.prototype.splice = Array.prototype.splice;\n\n/*\n * Check if string is HTML\n */\nvar isHtml = function(str) {\n  // Faster than running regex, if str starts with `<` and ends with `>`, assume it's HTML\n  if (str.charAt(0) === '<' && str.charAt(str.length - 1) === '>' && str.length >= 3) return true;\n\n  // Run the regex\n  var match = quickExpr.exec(str);\n  return !!(match && match[1]);\n};\n\n/*\n * Make a cheerio object\n *\n * @api private\n */\n\nCheerio.prototype._make = function(dom, context) {\n  var cheerio = new Cheerio(dom, context, this._root, this.options);\n  cheerio.prevObject = this;\n  return cheerio;\n};\n\n/**\n * Turn a cheerio object into an array\n *\n * @deprecated\n */\n\nCheerio.prototype.toArray = function() {\n  return this.get();\n};\n\n/**\n * Plug in the API\n */\napi.forEach(function(mod) {\n  _.extend(Cheerio.prototype, mod);\n});\n\nvar isNode = function(obj) {\n  return obj.name || obj.type === 'text' || obj.type === 'comment';\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Export cheerio (with )\n */\n\nexports = module.exports = require('./lib/cheerio');\n\n/*\n  Export the version\n*/\n\nexports.version = require('./package').version;\n","/**\n * Export cheerio (with )\n */\n\nexports = module.exports = require('./lib/cheerio');\n\n/*\n  Export the version\n*/\n\nexports.version = require('./package').version;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","var cheerio = require('cheerio')\nvar fs = require('fs')\nvar assign = require('object-assign')\n\nfunction extract(contents, opt) {\n    opt = opt||{}\n    var $ = cheerio.load(contents, assign({ xmlMode: true }, opt))\n\n    var fullpath = ''\n    $('path').each(function() {\n        var d = $(this).attr('d') \n        fullpath += d.replace(/\\s+/g, ' ')+' '\n    })\n    return fullpath.trim()\n}\n\nmodule.exports = function(file, opt) {\n    opt = opt||{}\n    if (!opt.encoding)\n        opt.encoding = 'utf8'\n    var contents = fs.readFileSync(file, opt.encoding)\n    return extract(contents, opt)\n}\n\nmodule.exports.parse = extract\n\n//deprecated\nmodule.exports.fromString = extract"],"names":["codePoint","decodeMap","output","String","fromCharCode","char","SUCCESS","Tokenizer","i","TEXT","BEFORE_TAG_NAME","IN_TAG_NAME","IN_SELF_CLOSING_TAG","BEFORE_CLOSING_TAG_NAME","IN_CLOSING_TAG_NAME","AFTER_CLOSING_TAG_NAME","BEFORE_ATTRIBUTE_NAME","IN_ATTRIBUTE_NAME","AFTER_ATTRIBUTE_NAME","BEFORE_ATTRIBUTE_VALUE","IN_ATTRIBUTE_VALUE_DQ","IN_ATTRIBUTE_VALUE_SQ","IN_ATTRIBUTE_VALUE_NQ","BEFORE_DECLARATION","IN_DECLARATION","IN_PROCESSING_INSTRUCTION","BEFORE_COMMENT","IN_COMMENT","AFTER_COMMENT_1","AFTER_COMMENT_2","BEFORE_CDATA_1","BEFORE_CDATA_2","BEFORE_CDATA_3","BEFORE_CDATA_4","BEFORE_CDATA_5","BEFORE_CDATA_6","IN_CDATA","AFTER_CDATA_1","AFTER_CDATA_2","BEFORE_SPECIAL","BEFORE_SPECIAL_END","BEFORE_SCRIPT_1","BEFORE_SCRIPT_2","BEFORE_SCRIPT_3","BEFORE_SCRIPT_4","BEFORE_SCRIPT_5","AFTER_SCRIPT_1","AFTER_SCRIPT_2","AFTER_SCRIPT_3","AFTER_SCRIPT_4","AFTER_SCRIPT_5","BEFORE_STYLE_1","BEFORE_STYLE_2","BEFORE_STYLE_3","BEFORE_STYLE_4","AFTER_STYLE_1","AFTER_STYLE_2","AFTER_STYLE_3","AFTER_STYLE_4","BEFORE_ENTITY","BEFORE_NUMERIC_ENTITY","IN_NAMED_ENTITY","IN_NUMERIC_ENTITY","IN_HEX_ENTITY","j","SPECIAL_NONE","SPECIAL_SCRIPT","SPECIAL_STYLE","whitespace","c","ifElseState","upper","FAILURE","lower","toLowerCase","_state","_index","consumeSpecialNameChar","NEXT_STATE","options","cbs","_buffer","_sectionStart","_baseState","_special","_cbs","_running","_ended","_xmlMode","xmlMode","_decodeEntities","decodeEntities","defaultSetTimout","Error","defaultClearTimeout","prototype","_stateText","this","ontext","_getSection","_stateBeforeTagName","_stateInTagName","_emitToken","_stateBeforeCloseingTagName","_stateInCloseingTagName","_stateAfterCloseingTagName","_stateBeforeAttributeName","onopentagend","_stateInSelfClosingTag","onselfclosingtag","_stateInAttributeName","onattribname","_stateAfterAttributeName","onattribend","_stateBeforeAttributeValue","_stateInAttributeValueDoubleQuotes","_stateInAttributeValueSingleQuotes","_stateInAttributeValueNoQuotes","_stateBeforeDeclaration","_stateInDeclaration","ondeclaration","_stateInProcessingInstruction","onprocessinginstruction","_stateBeforeComment","_stateInComment","_stateAfterComment1","_stateAfterComment2","oncomment","substring","_stateBeforeCdata1","_stateBeforeCdata2","_stateBeforeCdata3","_stateBeforeCdata4","_stateBeforeCdata5","_stateBeforeCdata6","_stateInCdata","_stateAfterCdata1","_stateAfterCdata2","oncdata","_stateBeforeSpecial","_stateBeforeSpecialEnd","_stateBeforeScript1","_stateBeforeScript2","_stateBeforeScript3","_stateBeforeScript4","_stateBeforeScript5","_stateAfterScript1","_stateAfterScript2","_stateAfterScript3","_stateAfterScript4","_stateAfterScript5","_stateBeforeStyle1","_stateBeforeStyle2","_stateBeforeStyle3","_stateBeforeStyle4","_stateAfterStyle1","_stateAfterStyle2","_stateAfterStyle3","_stateAfterStyle4","_stateBeforeEntity","_stateBeforeNumericEntity","_parseNamedEntityStrict","entity","map","xmlMap","entityMap","hasOwnProperty","_emitPartial","_parseLegacyEntity","start","limit","substr","legacyMap","_stateInNamedEntity","_decodeNumericEntity","offset","base","sectionStart","parsed","parseInt","decodeCodePoint","_stateInNumericEntity","_stateInHexEntity","_cleanup","write","chunk","onerror","_parse","length","charAt","pause","resume","_finish","end","_handleTrailingData","onend","data","reset","call","name","value","onattribdata","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","setTimeout","e","global","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","nextTick","args","Array","arguments","push","Item","array","apply","Object","create","ctor","superCtor","super_","constructor","enumerable","writable","configurable","TempCtor","formatRegExp","format","f","isString","objects","inspect","join","str","replace","x","Number","JSON","stringify","_","isNull","isObject","deprecate","fn","msg","isUndefined","process","warned","console","error","debugEnviron","debugs","debuglog","set","toUpperCase","RegExp","test","obj","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","isFunction","ret","primitive","simple","isNumber","formatPrimitive","keys","visibleKeys","hash","forEach","val","idx","arrayToHash","getOwnPropertyNames","isError","indexOf","formatError","isRegExp","toString","isDate","Date","braces","isArray","toUTCString","l","formatProperty","key","match","formatArray","pop","reduce","prev","cur","reduceToSingleString","desc","getOwnPropertyDescriptor","get","split","line","ar","arg","re","objectToString","d","o","pad","n","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","add","prop","inherits","log","isBuffer","maybeBuf","Buffer","isPrimitive","isSymbol","isNullOrUndefined","EventHandlers","EventEmitter","init","$getMaxListeners","that","undefined","_maxListeners","defaultMaxListeners","emitNone","handler","isFn","self","listeners","arrayClone","emitOne","arg1","emitTwo","arg2","emitThree","arg3","emitMany","_addListener","target","type","listener","prepend","m","events","existing","TypeError","_events","newListener","emit","_eventsCount","unshift","w","emitter","count","warn","emitWarning","_onceWrap","fired","g","removeListener","listenerCount","evlistener","arr","copy","usingDomains","domain","active","getPrototypeOf","setMaxListeners","isNaN","getMaxListeners","er","doError","err","context","domainEmitter","domainThrown","addListener","on","prependListener","once","prependOnceListener","list","position","originalListener","index","k","spliceOne","removeAllListeners","unwrapListeners","eventNames","Reflect","ownKeys","formTags","input","option","optgroup","select","button","datalist","textarea","openImpliesClose","tr","th","td","thead","body","head","link","script","li","p","voidElements","__proto__","area","basefont","br","col","command","embed","frame","hr","img","isindex","keygen","meta","param","source","track","wbr","path","circle","ellipse","rect","use","re_nameEnd","Parser","_options","_tagname","_attribname","_attribvalue","_attribs","_stack","startIndex","endIndex","_lowerCaseTagNames","lowerCaseTags","_lowerCaseAttributeNames","lowerCaseAttributeNames","_tokenizer","require","_updatePosition","initialOffset","onopentagname","el","onclosetag","onopentag","_closeCurrentTag","pos","lastIndexOf","recognizeSelfClosing","onattribute","_getInstructionName","search","oncommentend","recognizeCDATA","oncdatastart","oncdataend","onreset","parseComplete","parseChunk","done","module","Text","Directive","Comment","Script","Style","Tag","CDATA","Doctype","isTag","elem","NodePrototype","children","nodeTypes","element","domLvl1","tagName","childNodes","parentNode","previousSibling","nextSibling","nodeValue","text","cdata","comment","shorthand","defineProperty","ElementPrototype","re_whitespace","DomHandler","callback","elementCB","defaultOpts","_callback","_elementCB","dom","_done","_tagStack","normalizeWhitespace","_handleCallback","_addDomElement","parent","siblings","next","withDomLvl1","attribs","ElementType","lastTag","normalize","ignoreWhitespace","DomUtils","FeedHandler","getElements","what","where","getElementsByTagName","getOneElement","fetch","recurse","getText","trim","addConditionally","tmp","isValidFeed","childs","feed","feedRoot","href","updated","items","item","entry","pubDate","id","lookup","revLookup","Arr","Uint8Array","inited","code","charCodeAt","tripletToBase64","num","encodeChunk","uint8","fromByteArray","extraBytes","parts","len2","read","buffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","s","NaN","Infinity","Math","pow","rt","abs","floor","LN2","TYPED_ARRAY_SUPPORT","_kMaxLength","kMaxLength","createBuffer","RangeError","encodingOrOffset","allocUnsafe","from","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","slice","fromString","internalIsBuffer","checked","fromObject","assertSize","size","b","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","bytesPerSequence","codePoints","decodeCodePointsArray","poolSize","_augment","alloc","fill","allocUnsafeSlow","compare","a","y","swap16","swap32","swap64","equals","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","out","toHex","bytes","checkOffset","ext","checkInt","max","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","b64","placeHolders","L","stringtrim","base64clean","src","dst","isFastBuffer","isSlowBuffer","BufferList","tail","v","shift","clear","isBufferEncoding","StringDecoder","assertEncoding","surrogateSize","detectIncompleteChar","utf16DetectIncompleteChar","base64DetectIncompleteChar","passThroughWrite","charBuffer","charReceived","charLength","charStr","available","charCode","cr","enc","Readable","ReadableState","debug","stream","objectMode","Duplex","readableObjectMode","hwm","highWaterMark","defaultHwm","pipes","pipesCount","flowing","ended","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readable","_read","readableAddChunk","state","addToFront","chunkInvalid","emitReadable","onEofChunk","_e","skipAdd","maybeReadMore_","maybeReadMore","needMoreData","isPaused","setEncoding","howMuchToRead","computeNewHighWaterMark","emitReadable_","flow","nReadingNextTick","resume_","fromList","hasStrings","nb","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","nop","WriteReq","cb","WritableState","getBuffer","writableObjectMode","needDrain","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","_writableState","writecb","writelen","onwriteStateUpdate","pendingcb","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","corkedRequestsFree","CorkedRequest","Writable","_write","writev","_writev","doWrite","onwriteDrain","finishMaybe","holder","finish","prefinish","need","_this","nOrig","doRead","pipe","dest","pipeOpts","endFn","cleanup","onunpipe","ondrain","pipeOnDrain","cleanedUp","onclose","onfinish","ondata","increasedAwaitDrain","unpipe","event","dests","_i","splice","ev","wrap","paused","method","bind","_fromList","current","writeAfterEnd","valid","validChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","allowHalfOpen","onEndNT","TransformState","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","Transform","transform","_transform","flush","_flush","ws","PassThrough","Stream","EE","_isStdio","didOnEnd","destroy","util","objectKeys","exports","roundUpToNextPowerOf2","stringMode","cpy","stdout","stderr","browser","env","READABLE_STREAM","WritableStream","parser","_parser","Cbs","scope","EVENTS","ProxyHandler","inverseXML","getInverseObj","getInverse","getInverseReplacer","inverseHTML","sort","inverse","single","multiple","re_nonASCII","re_astralSymbols","singleCharReplacer","astralReplacer","func","re_xmlChars","decodeXMLStrict","getStrictDecoder","decodeHTMLStrict","getReplacer","sorter","XML","HTML","legacy","replacer","HTMLStrict","level","decode","encode","escape","booleanAttributes","allowfullscreen","async","autofocus","autoplay","controls","default","defer","disabled","hidden","ismap","loop","muted","open","readonly","required","reversed","scoped","seamless","selected","typemustmatch","unencodedElements","xmp","iframe","noembed","noframes","plaintext","noscript","singleTag","render","cheerio","renderTag","renderDirective","renderComment","renderCdata","renderText","tag","attributes","entities","encodeXML","formatAttrs","getInnerHTML","getOuterHTML","getChildren","getParent","replacement","child","sibling","currNext","filter","find","findOneChild","elems","findOne","existsOne","findAll","result","tag_name","tag_type","tag_contains","Checks","getAttribCheck","attrib","combineFuncs","funcs","nodes","node","ancestor","POSITION","comparePos","nodeA","nodeB","sharedParent","aSibling","bSibling","aParents","bParents","relative","CollectingHandler","restart","defineProp","DefaultHandler","parseDOM","parseFeed","createDomStream","elementCb","attribute","cdatastart","cdataend","processinginstruction","commentend","closetag","opentag","opentagname","tags","evaluate","content","root","update","htmlparser","oldParent","oldSiblings","arrayPool","objectPool","idCounter","keyPrefix","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEsTemplate","reFlags","reFuncName","reInterpolate","reLeadingSpacesAndZeros","reNoMatch","reThis","reUnescapedString","contextProps","templateCounter","argsClass","arrayClass","boolClass","dateClass","objectClass","stringClass","cloneableClasses","debounceOptions","descriptor","objectTypes","stringEscapes","window","freeExports","nodeType","freeModule","moduleExports","freeGlobal","baseIndexOf","fromIndex","cacheIndexOf","cache","cachePush","typeCache","charAtCallback","compareAscending","ac","criteria","bc","other","createCache","first","mid","getObject","escapeStringChar","getArray","releaseArray","releaseObject","object","number","runInContext","defaults","pick","Boolean","Function","arrayRef","objectProto","oldDash","reNative","ceil","fnToString","isNative","nativeCreate","nativeIsArray","nativeIsFinite","nativeIsNaN","nativeKeys","nativeMax","nativeMin","nativeParseInt","nativeRandom","random","ctorByClass","lodash","lodashWrapper","chainAll","__chain__","__wrapped__","support","baseBind","bindData","partialArgs","thisArg","bound","thisBinding","baseCreate","setBindData","baseClone","isDeep","stackA","stackB","className","exec","lastIndex","isArr","initedStack","assign","forOwn","objValue","properties","baseCreateCallback","argCount","identity","__bindData__","funcNames","funcDecomp","collection","accumulator","baseCreateWrapper","bitmask","partialRightArgs","arity","isBind","isBindKey","isCurry","isCurryBound","baseDifference","values","getIndexOf","isLarge","baseFlatten","isShallow","isStrict","isArguments","valIndex","resIndex","baseIsEqual","isWhere","otherClass","aWrapped","bWrapped","ctorA","ctorB","forIn","baseMerge","isPlainObject","stackLength","baseRandom","baseUniq","isSorted","computed","createAggregator","setter","createCallback","createWrapper","isPartial","isPartialRight","escapeHtmlChar","htmlEscapes","WinRTError","templateSettings","noop","shimIsPlainObject","unescapeHtmlChar","htmlUnescapes","iterable","invert","reEscapedHtml","reUnescapedHtml","guard","argsIndex","argsLength","ownIndex","ownProps","forOwnRight","props","functions","valueOf","objProto","contains","countBy","every","forEachRight","groupBy","indexBy","pluck","noaccum","reduceRight","shuffle","rand","some","sortedIndex","rest","low","high","uniq","zip","zipObject","debounce","wait","maxTimeoutId","stamp","timeoutId","trailingCall","lastCalled","maxWait","trailing","leading","delayed","now","isCalled","maxDelayed","leadingCall","mixin","chain","methodNames","isFunc","methodName","getTime","radix","property","wrapperValueOf","after","at","bindAll","bindKey","compact","compose","constant","curry","delay","difference","flatten","forInRight","pairs","initial","intersection","caches","trustIndexOf","outer","invoke","mapValues","memoize","resolver","memoized","merge","sources","omit","ran","partial","partialRight","pull","range","step","reject","remove","sortBy","tap","interceptor","throttle","times","toArray","proto","union","without","wrapper","xor","collect","drop","each","eachRight","extend","methods","unique","unzip","clone","cloneDeep","findIndex","findKey","findLast","findLastIndex","findLastKey","has","isElement","isEmpty","isEqual","parseFloat","noConflict","floating","noMin","noMax","template","settings","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","hasVariable","sourceURL","unescape","uniqueId","prefix","all","any","detect","findWhere","foldl","foldr","include","inject","sample","take","callbackable","VERSION","utils","domEach","hasOwn","camelCase","cssCase","rspace","primitives","null","true","false","rboolean","rbrace","getAttr","setAttr","removeAttribute","readData","domNames","domName","jsNames","jsName","readAll","attrName","parse","exend","setData","querying","attr","parentEl","queryString","closest","parents","_make","removeAttr","returnValue","addClass","attrs","clazz","classNames","numElements","numClasses","setClass","appendClass","splitClass","removeClass","classes","removeAll","class","changed","elClasses","toggleClass","stateVal","elementClasses","selector","booleanAttribs","emptyTags","trueFunc","BaseFuncs","falseFunc","formula","compile","re_nthElement","SyntaxError","bMod","hasAttrib","getAttributeValue","reChars","attributeRules","ignoreCase","hyphen","pattern","flags","regex","exists","not","action","rules","getSiblings","getName","getAttribute","checkAttrib","getAttribFunc","getChildFunc","filters","getFirstElement","rule","getNCheck","checkbox","file","password","radio","image","submit","pseudos","empty","sawElem","enabled","header","verifyArgs","subselect","trimLeft","firstChar","subselects","tokens","sawWS","re_name","unescapeCSS","re_ws","simpleSelectors","attribSelectors","re_attr","actionTypes","getClosingPos","re_escape","funescape","escaped","escapedWhitespace","counter","pseudo","descendant","adjacent","lastElement","universal","procNew","procedure","compileUnsafe","compileRules","reduceRules","sortRules","Rules","Pseudos","isParent","CSSselect","removeSubsets","getSelectorFunc","searchFunc","query","selectAll","selectOne","is","iterate","uniqueSort","memo","parentElem","parentNodes","reverse","traverseParents","untilNode","untilNodes","closestElem","filterSelector","nextAll","prevAll","siblingsAndMe","container","filterFn","make","prevObject","selection","contents","Cheerio","initialize","r","_root","keepScripts","load","contained","updateDOM","makeDomArray","_insert","concatenator","_makeDomArray","$","html","uniqueSplice","spliceIdx","spliceCount","newElems","prevIdx","spliceArgs","$el","setCss","getCss","api","quickExpr","isNode","isHtml","mod","getOwnPropertySymbols","version","propIsEnumerable","propertyIsEnumerable","toObject","test1","test2","test3","letter","shouldUseNative","symbols","to","opt","fullpath"],"mappings":"2wtBAKA,SAAyBA,MAEpBA,GAAa,OAAUA,GAAa,OAAWA,EAAY,cACvD,IAGLA,KAAaC,IACfD,EAAYC,EAAUD,QAGnBE,EAAS,GAEVF,EAAY,QACdA,GAAa,MACbE,GAAUC,OAAOC,aAAaJ,IAAc,GAAK,KAAQ,OACzDA,EAAY,MAAqB,KAAZA,UAGtBE,GAAUC,OAAOC,aAAaJ,QCmEPK,EAAMC,k1lDA1FbC,GAObC,GAAI,EAEJC,GAA4BD,KAC5BE,GAA4BF,KAC5BG,GAA4BH,KAC5BI,GAA4BJ,KAC5BK,GAA4BL,KAC5BM,GAA4BN,KAC5BO,GAA4BP,KAG5BQ,GAA4BR,KAC5BS,GAA4BT,KAC5BU,GAA4BV,KAC5BW,GAA4BX,KAC5BY,GAA4BZ,KAC5Ba,GAA4Bb,KAC5Bc,GAA4Bd,KAG5Be,GAA4Bf,KAC5BgB,GAA4BhB,KAG5BiB,GAA4BjB,KAG5BkB,GAA4BlB,KAC5BmB,GAA4BnB,KAC5BoB,GAA4BpB,KAC5BqB,GAA4BrB,KAG5BsB,GAA4BtB,KAC5BuB,GAA4BvB,KAC5BwB,GAA4BxB,KAC5ByB,GAA4BzB,KAC5B0B,GAA4B1B,KAC5B2B,GAA4B3B,KAC5B4B,GAA4B5B,KAC5B6B,GAA4B7B,KAC5B8B,GAA4B9B,KAG5B+B,GAA4B/B,KAC5BgC,GAA4BhC,KAE5BiC,GAA4BjC,KAC5BkC,GAA4BlC,KAC5BmC,GAA4BnC,KAC5BoC,GAA4BpC,KAC5BqC,GAA4BrC,KAC5BsC,GAA4BtC,KAC5BuC,GAA4BvC,KAC5BwC,GAA4BxC,KAC5ByC,GAA4BzC,KAC5B0C,GAA4B1C,KAE5B2C,GAA4B3C,KAC5B4C,GAA4B5C,KAC5B6C,GAA4B7C,KAC5B8C,GAA4B9C,KAC5B+C,GAA4B/C,KAC5BgD,GAA4BhD,KAC5BiD,GAA4BjD,KAC5BkD,GAA4BlD,KAE5BmD,GAA4BnD,KAC5BoD,GAA4BpD,KAC5BqD,GAA4BrD,KAC5BsD,GAA4BtD,KAC5BuD,GAA4BvD,KAE5BwD,GAAI,EAEJC,GAA4BD,KAC5BE,GAA4BF,KAC5BG,GAA4BH,KAEhC,SAASI,GAAWC,SACN,MAANA,GAAmB,OAANA,GAAoB,OAANA,GAAoB,OAANA,GAAoB,OAANA,EAS/D,SAASC,GAAYC,EAAOjE,EAASkE,OAChCC,EAAQF,EAAMG,qBAEfH,IAAUE,EACL,SAASJ,GACZA,IAAMI,OACHE,OAASrE,QAETqE,OAASH,OACTI,WAIA,SAASP,GACZA,IAAMI,GAASJ,IAAME,OAClBI,OAASrE,QAETqE,OAASH,OACTI,WAMT,SAASC,GAAuBN,EAAOO,OAClCL,EAAQF,EAAMG,qBAEX,SAASL,GACZA,IAAMI,GAASJ,IAAME,OAClBI,OAASG,QAETH,OAAShE,QACTiE,WAKR,SAASrE,GAAUwE,EAASC,QACtBL,OAASlE,QACTwE,QAAU,QACVC,cAAgB,OAChBN,OAAS,OACTO,WAAa1E,QACb2E,SAAWnB,QACXoB,KAAOL,OACPM,UAAW,OACXC,QAAS,OACTC,YAAcT,IAAWA,EAAQU,cACjCC,mBAAqBX,IAAWA,EAAQY,gBC7I9C,SAASC,WACC,IAAIC,MAAM,mCAEpB,SAASC,WACC,IAAID,MAAM,qCD4IpBtF,GAAUwF,UAAUC,WAAa,SAAS3B,GAChC,MAANA,GACC4B,KAAKrB,OAASqB,KAAKf,oBAChBG,KAAKa,OAAOD,KAAKE,oBAElBxB,OAASjE,QACTwE,cAAgBe,KAAKrB,QACjBqB,KAAKP,iBAAmBO,KAAKb,WAAanB,IAAsB,MAANI,IAChE4B,KAAKrB,OAASqB,KAAKf,oBAChBG,KAAKa,OAAOD,KAAKE,oBAElBhB,WAAa1E,QACbkE,OAAShB,QACTuB,cAAgBe,KAAKrB,SAI5BrE,GAAUwF,UAAUK,oBAAsB,SAAS/B,GACzC,MAANA,OACGM,OAAS9D,GACC,MAANwD,GAAa4B,KAAKb,WAAanB,IAAgBG,GAAWC,QAC9DM,OAASlE,GACC,MAAN4D,QACJM,OAASpD,QACT2D,cAAgBe,KAAKrB,OAAS,GACpB,MAANP,QACJM,OAASlD,QACTyD,cAAgBe,KAAKrB,OAAS,GACpB,MAANP,QACJgB,KAAKa,OAAOD,KAAKE,oBACjBjB,cAAgBe,KAAKrB,cAErBD,OAAWsB,KAAKT,UAAmB,MAANnB,GAAmB,MAANA,EAC1B1D,GAAjB4B,QACC2C,cAAgBe,KAAKrB,SAI5BrE,GAAUwF,UAAUM,gBAAkB,SAAShC,IACrC,MAANA,GAAmB,MAANA,GAAaD,GAAWC,WAClCiC,WAAW,sBACX3B,OAAS3D,QACT4D,WAIPrE,GAAUwF,UAAUQ,4BAA8B,SAASlC,GACvDD,GAAWC,KACA,MAANA,OACFM,OAASlE,GACLwF,KAAKb,WAAanB,GAClB,MAANI,GAAmB,MAANA,OACVM,OAASnC,SAETmC,OAASlE,QACTmE,gBAGDD,OAAS7D,QACToE,cAAgBe,KAAKrB,UAI5BrE,GAAUwF,UAAUS,wBAA0B,SAASnC,IAC7C,MAANA,GAAaD,GAAWC,WACrBiC,WAAW,mBACX3B,OAAS5D,QACT6D,WAIPrE,GAAUwF,UAAUU,2BAA6B,SAASpC,GAEhD,MAANA,SACGM,OAASlE,QACTyE,cAAgBe,KAAKrB,OAAS,IAIrCrE,GAAUwF,UAAUW,0BAA4B,SAASrC,GAC/C,MAANA,QACGgB,KAAKsB,oBACLhC,OAASlE,QACTyE,cAAgBe,KAAKrB,OAAS,GACpB,MAANP,OACJM,OAAS/D,GACJwD,GAAWC,UAChBM,OAAS1D,QACTiE,cAAgBe,KAAKrB,SAI5BrE,GAAUwF,UAAUa,uBAAyB,SAASvC,GAC5C,MAANA,QACGgB,KAAKwB,wBACLlC,OAASlE,QACTyE,cAAgBe,KAAKrB,OAAS,GACzBR,GAAWC,UAChBM,OAAS3D,QACT4D,WAIPrE,GAAUwF,UAAUe,sBAAwB,SAASzC,IAC3C,MAANA,GAAmB,MAANA,GAAmB,MAANA,GAAaD,GAAWC,WAC/CgB,KAAK0B,aAAad,KAAKE,oBACvBjB,eAAiB,OACjBP,OAASzD,QACT0D,WAIPrE,GAAUwF,UAAUiB,yBAA2B,SAAS3C,GAC9C,MAANA,OACGM,OAASxD,GACC,MAANkD,GAAmB,MAANA,QACjBgB,KAAK4B,mBACLtC,OAAS3D,QACT4D,UACKR,GAAWC,UAChBgB,KAAK4B,mBACLtC,OAAS1D,QACTiE,cAAgBe,KAAKrB,SAI5BrE,GAAUwF,UAAUmB,2BAA6B,SAAS7C,GAChD,MAANA,QACGM,OAASvD,QACT8D,cAAgBe,KAAKrB,OAAS,GACpB,MAANP,QACJM,OAAStD,QACT6D,cAAgBe,KAAKrB,OAAS,GACzBR,GAAWC,UAChBM,OAASrD,QACT4D,cAAgBe,KAAKrB,YACrBA,WAIPrE,GAAUwF,UAAUoB,mCAAqC,SAAS9C,GACxD,MAANA,QACGiC,WAAW,qBACXjB,KAAK4B,mBACLtC,OAAS3D,IACLiF,KAAKP,iBAAyB,MAANrB,SAC5BiC,WAAW,qBACXnB,WAAac,KAAKtB,YAClBA,OAAShB,QACTuB,cAAgBe,KAAKrB,SAI5BrE,GAAUwF,UAAUqB,mCAAqC,SAAS/C,GACxD,MAANA,QACGiC,WAAW,qBACXjB,KAAK4B,mBACLtC,OAAS3D,IACLiF,KAAKP,iBAAyB,MAANrB,SAC5BiC,WAAW,qBACXnB,WAAac,KAAKtB,YAClBA,OAAShB,QACTuB,cAAgBe,KAAKrB,SAI5BrE,GAAUwF,UAAUsB,+BAAiC,SAAShD,GAC1DD,GAAWC,IAAY,MAANA,QACdiC,WAAW,qBACXjB,KAAK4B,mBACLtC,OAAS3D,QACT4D,UACIqB,KAAKP,iBAAyB,MAANrB,SAC5BiC,WAAW,qBACXnB,WAAac,KAAKtB,YAClBA,OAAShB,QACTuB,cAAgBe,KAAKrB,SAI5BrE,GAAUwF,UAAUuB,wBAA0B,SAASjD,QACjDM,OAAe,MAANN,EAAYvC,GAChB,MAANuC,EAAY3C,GACXF,IAGNjB,GAAUwF,UAAUwB,oBAAsB,SAASlD,GACzC,MAANA,SACGgB,KAAKmC,cAAcvB,KAAKE,oBACxBxB,OAASlE,QACTyE,cAAgBe,KAAKrB,OAAS,IAIrCrE,GAAUwF,UAAU0B,8BAAgC,SAASpD,GACnD,MAANA,SACGgB,KAAKqC,wBAAwBzB,KAAKE,oBAClCxB,OAASlE,QACTyE,cAAgBe,KAAKrB,OAAS,IAIrCrE,GAAUwF,UAAU4B,oBAAsB,SAAStD,GACzC,MAANA,QACGM,OAAShD,QACTuD,cAAgBe,KAAKrB,OAAS,QAE9BD,OAASnD,IAIhBjB,GAAUwF,UAAU6B,gBAAkB,SAASvD,GACrC,MAANA,IAAW4B,KAAKtB,OAAS/C,KAG7BrB,GAAUwF,UAAU8B,oBAAsB,SAASxD,QAE5CM,OADG,MAANN,EACYxC,GAEAF,IAIhBpB,GAAUwF,UAAU+B,oBAAsB,SAASzD,GACzC,MAANA,QAEGgB,KAAK0C,UAAU9B,KAAKhB,QAAQ+C,UAAU/B,KAAKf,cAAee,KAAKrB,OAAS,SACxED,OAASlE,QACTyE,cAAgBe,KAAKrB,OAAS,GACpB,MAANP,SACJM,OAAShD,KAKhBpB,GAAUwF,UAAUkC,mBAAqB3D,GAAY,IAAKvC,GAAgBP,IAC1EjB,GAAUwF,UAAUmC,mBAAqB5D,GAAY,IAAKtC,GAAgBR,IAC1EjB,GAAUwF,UAAUoC,mBAAqB7D,GAAY,IAAKrC,GAAgBT,IAC1EjB,GAAUwF,UAAUqC,mBAAqB9D,GAAY,IAAKpC,GAAgBV,IAC1EjB,GAAUwF,UAAUsC,mBAAqB/D,GAAY,IAAKnC,GAAgBX,IAE1EjB,GAAUwF,UAAUuC,mBAAqB,SAASjE,GACxC,MAANA,QACGM,OAASvC,QACT8C,cAAgBe,KAAKrB,OAAS,SAE9BD,OAASnD,QACToD,WAIPrE,GAAUwF,UAAUwC,cAAgB,SAASlE,GACnC,MAANA,IAAW4B,KAAKtB,OAAStC,KAG7B9B,GAAUwF,UAAUyC,mBAxTInI,EAwT+B,IAxTzBC,EAwT8BgC,GAvTpD,SAAS+B,GACZA,IAAMhE,IAAM4F,KAAKtB,OAASrE,KAwT/BC,GAAUwF,UAAU0C,kBAAoB,SAASpE,GACvC,MAANA,QAEGgB,KAAKqD,QAAQzC,KAAKhB,QAAQ+C,UAAU/B,KAAKf,cAAee,KAAKrB,OAAS,SACtED,OAASlE,QACTyE,cAAgBe,KAAKrB,OAAS,GACnB,MAANP,SACLM,OAASvC,KAKhB7B,GAAUwF,UAAU4C,oBAAsB,SAAStE,GACzC,MAANA,GAAmB,MAANA,OACVM,OAASlC,GACC,MAAN4B,GAAmB,MAANA,OACjBM,OAASxB,SAETwB,OAAShE,QACTiE,WAIPrE,GAAUwF,UAAU6C,uBAAyB,SAASvE,GAClD4B,KAAKb,WAAalB,IAAyB,MAANG,GAAmB,MAANA,EAE3C4B,KAAKb,WAAajB,IAAwB,MAANE,GAAmB,MAANA,EAGtD4B,KAAKtB,OAASlE,QAFbkE,OAASpB,QAFToB,OAAS7B,IAOhBvC,GAAUwF,UAAU8C,oBAAsBhE,GAAuB,IAAKnC,IACtEnC,GAAUwF,UAAU+C,oBAAsBjE,GAAuB,IAAKlC,IACtEpC,GAAUwF,UAAUgD,oBAAsBlE,GAAuB,IAAKjC,IACtErC,GAAUwF,UAAUiD,oBAAsBnE,GAAuB,IAAKhC,IAEtEtC,GAAUwF,UAAUkD,oBAAsB,SAAS5E,IACzC,MAANA,GAAmB,MAANA,GAAaD,GAAWC,WAClCe,SAAWlB,SAEZS,OAAShE,QACTiE,UAGNrE,GAAUwF,UAAUmD,mBAAqB5E,GAAY,IAAKvB,GAAgBtC,IAC1EF,GAAUwF,UAAUoD,mBAAqB7E,GAAY,IAAKtB,GAAgBvC,IAC1EF,GAAUwF,UAAUqD,mBAAqB9E,GAAY,IAAKrB,GAAgBxC,IAC1EF,GAAUwF,UAAUsD,mBAAqB/E,GAAY,IAAKpB,GAAgBzC,IAE1EF,GAAUwF,UAAUuD,mBAAqB,SAASjF,GACxC,MAANA,GAAaD,GAAWC,SACrBe,SAAWnB,QACXU,OAAS7D,QACToE,cAAgBe,KAAKrB,OAAS,OAC9BA,UAEDqB,KAAKtB,OAASlE,IAGpBF,GAAUwF,UAAUwD,mBAAqB1E,GAAuB,IAAKzB,IACrE7C,GAAUwF,UAAUyD,mBAAqB3E,GAAuB,IAAKxB,IACrE9C,GAAUwF,UAAU0D,mBAAqB5E,GAAuB,IAAKvB,IAErE/C,GAAUwF,UAAU2D,mBAAqB,SAASrF,IACxC,MAANA,GAAmB,MAANA,GAAaD,GAAWC,WAClCe,SAAWjB,SAEZQ,OAAShE,QACTiE,UAGNrE,GAAUwF,UAAU4D,kBAAoBrF,GAAY,IAAKd,GAAe/C,IACxEF,GAAUwF,UAAU6D,kBAAoBtF,GAAY,IAAKb,GAAehD,IACxEF,GAAUwF,UAAU8D,kBAAoBvF,GAAY,IAAKZ,GAAejD,IAExEF,GAAUwF,UAAU+D,kBAAoB,SAASzF,GACvC,MAANA,GAAaD,GAAWC,SACrBe,SAAWnB,QACXU,OAAS7D,QACToE,cAAgBe,KAAKrB,OAAS,OAC9BA,UAEDqB,KAAKtB,OAASlE,IAGpBF,GAAUwF,UAAUgE,mBAAqBzF,GAAY,IAAKV,GAAuBC,IACjFtD,GAAUwF,UAAUiE,0BAA4B1F,GAAY,IAAKP,GAAeD,IAGhFvD,GAAUwF,UAAUkE,wBAA0B,cAE1ChE,KAAKf,cAAgB,EAAIe,KAAKrB,OAAO,KACnCsF,EAASjE,KAAKhB,QAAQ+C,UAAU/B,KAAKf,cAAgB,EAAGe,KAAKrB,QAC7DuF,EAAMlE,KAAKT,SAAW4E,GAASC,GAEhCF,EAAIG,eAAeJ,UAChBK,aAAaJ,EAAID,SACjBhF,cAAgBe,KAAKrB,OAAS,KAOtCrE,GAAUwF,UAAUyE,mBAAqB,eACpCC,EAAQxE,KAAKf,cAAgB,EAC7BwF,EAAQzE,KAAKrB,OAAS6F,MAEvBC,EAAQ,IAAGA,EAAQ,GAEhBA,GAAS,GAAE,KACZR,EAASjE,KAAKhB,QAAQ0F,OAAOF,EAAOC,MAErCE,GAAUN,eAAeJ,eACtBK,aAAaK,GAAUV,cACvBhF,eAAiBwF,EAAQ,GAG9BA,MAKHnK,GAAUwF,UAAU8E,oBAAsB,SAASxG,GACzC,MAANA,QACG4F,0BACFhE,KAAKf,cAAgB,EAAIe,KAAKrB,SAAWqB,KAAKT,eAC3CgF,0BAED7F,OAASsB,KAAKd,aACTd,EAAI,KAAOA,EAAI,OAASA,EAAI,KAAOA,EAAI,OAASA,EAAI,KAAOA,EAAI,OACtE4B,KAAKT,UACAS,KAAKf,cAAgB,IAAMe,KAAKrB,SAChCqB,KAAKd,aAAe1E,GAClB,MAAN4D,QACG4F,+BAGDO,2BAGD7F,OAASsB,KAAKd,gBACdP,WAIPrE,GAAUwF,UAAU+E,qBAAuB,SAASC,EAAQC,OACvDC,EAAehF,KAAKf,cAAgB6F,KAErCE,IAAiBhF,KAAKrB,OAAO,KAE3BsF,EAASjE,KAAKhB,QAAQ+C,UAAUiD,EAAchF,KAAKrB,QACnDsG,EAASC,SAASjB,EAAQc,QAEzBT,aAAaa,EAAgBF,SAC7BhG,cAAgBe,KAAKrB,iBAErBM,qBAGDP,OAASsB,KAAKd,YAGpB5E,GAAUwF,UAAUsF,sBAAwB,SAAShH,GAC3C,MAANA,QACGyG,qBAAqB,EAAG,SACxB5F,kBACIb,EAAI,KAAOA,EAAI,OACpB4B,KAAKT,cAGHb,OAASsB,KAAKd,gBAFd2F,qBAAqB,EAAG,SAIzBlG,WAIPrE,GAAUwF,UAAUuF,kBAAoB,SAASjH,GACvC,MAANA,QACGyG,qBAAqB,EAAG,SACxB5F,kBACKb,EAAI,KAAOA,EAAI,OAASA,EAAI,KAAOA,EAAI,OAASA,EAAI,KAAOA,EAAI,OACrE4B,KAAKT,cAGHb,OAASsB,KAAKd,gBAFd2F,qBAAqB,EAAG,SAIzBlG,WAIPrE,GAAUwF,UAAUwF,SAAW,WAC3BtF,KAAKf,cAAgB,QAClBD,QAAU,QACVL,OAAS,GACLqB,KAAKX,WACXW,KAAKtB,SAAWlE,IACfwF,KAAKf,gBAAkBe,KAAKrB,aACzBS,KAAKa,OAAOD,KAAKhB,QAAQ0F,OAAO1E,KAAKf,qBAEtCD,QAAU,QACVL,OAAS,GACLqB,KAAKf,gBAAkBe,KAAKrB,aAEhCK,QAAU,QACVL,OAAS,SAGTK,QAAUgB,KAAKhB,QAAQ0F,OAAO1E,KAAKf,oBACnCN,QAAUqB,KAAKf,oBAGhBA,cAAgB,IAKvB3E,GAAUwF,UAAUyF,MAAQ,SAASC,GACjCxF,KAAKV,QAAQU,KAAKZ,KAAKqG,QAAQ7F,MAAM,8BAEnCZ,SAAWwG,OACXE,UAGNpL,GAAUwF,UAAU4F,OAAS,gBACtB1F,KAAKrB,OAASqB,KAAKhB,QAAQ2G,QAAU3F,KAAKX,UAAS,KACpDjB,EAAI4B,KAAKhB,QAAQ4G,OAAO5F,KAAKrB,QAC9BqB,KAAKtB,SAAWlE,QACbuF,WAAW3B,GACP4B,KAAKtB,SAAWjE,QACpB0F,oBAAoB/B,GAChB4B,KAAKtB,SAAWhE,QACpB0F,gBAAgBhC,GACZ4B,KAAKtB,SAAW9D,QACpB0F,4BAA4BlC,GACxB4B,KAAKtB,SAAW7D,QACpB0F,wBAAwBnC,GACpB4B,KAAKtB,SAAW5D,QACpB0F,2BAA2BpC,GACvB4B,KAAKtB,SAAW/D,QACpBgG,uBAAuBvC,GAMrB4B,KAAKtB,SAAW3D,QAClB0F,0BAA0BrC,GACtB4B,KAAKtB,SAAW1D,QACpB6F,sBAAsBzC,GAClB4B,KAAKtB,SAAWzD,QACpB8F,yBAAyB3C,GACrB4B,KAAKtB,SAAWxD,QACpB+F,2BAA2B7C,GACvB4B,KAAKtB,SAAWvD,QACpB+F,mCAAmC9C,GAC/B4B,KAAKtB,SAAWtD,QACpB+F,mCAAmC/C,GAC/B4B,KAAKtB,SAAWrD,QACpB+F,+BAA+BhD,GAM7B4B,KAAKtB,SAAWpD,QAClB+F,wBAAwBjD,GACpB4B,KAAKtB,SAAWnD,QACpB+F,oBAAoBlD,GAMlB4B,KAAKtB,SAAWlD,QAClBgG,8BAA8BpD,GAM5B4B,KAAKtB,SAAWjD,QAClBiG,oBAAoBtD,GAChB4B,KAAKtB,SAAWhD,QACpBiG,gBAAgBvD,GACZ4B,KAAKtB,SAAW/C,QACpBiG,oBAAoBxD,GAChB4B,KAAKtB,SAAW9C,QACpBiG,oBAAoBzD,GAMlB4B,KAAKtB,SAAW7C,QAClBmG,mBAAmB5D,GACf4B,KAAKtB,SAAW5C,QACpBmG,mBAAmB7D,GACf4B,KAAKtB,SAAW3C,QACpBmG,mBAAmB9D,GACf4B,KAAKtB,SAAW1C,QACpBmG,mBAAmB/D,GACf4B,KAAKtB,SAAWzC,QACpBmG,mBAAmBhE,GACf4B,KAAKtB,SAAWxC,QACpBmG,mBAAmBjE,GACf4B,KAAKtB,SAAWvC,QACpBmG,cAAclE,GACV4B,KAAKtB,SAAWtC,QACpBmG,kBAAkBnE,GACd4B,KAAKtB,SAAWrC,QACpBmG,kBAAkBpE,GAMhB4B,KAAKtB,SAAWpC,QAClBoG,oBAAoBtE,GAChB4B,KAAKtB,SAAWnC,QACpBoG,uBAAuBvE,GAMrB4B,KAAKtB,SAAWlC,QAClBoG,oBAAoBxE,GAChB4B,KAAKtB,SAAWjC,QACpBoG,oBAAoBzE,GAChB4B,KAAKtB,SAAWhC,QACpBoG,oBAAoB1E,GAChB4B,KAAKtB,SAAW/B,QACpBoG,oBAAoB3E,GAChB4B,KAAKtB,SAAW9B,QACpBoG,oBAAoB5E,GAGlB4B,KAAKtB,SAAW7B,QAClBoG,mBAAmB7E,GACf4B,KAAKtB,SAAW5B,QACpBoG,mBAAmB9E,GACf4B,KAAKtB,SAAW3B,QACpBoG,mBAAmB/E,GACf4B,KAAKtB,SAAW1B,QACpBoG,mBAAmBhF,GACf4B,KAAKtB,SAAWzB,QACpBoG,mBAAmBjF,GAMjB4B,KAAKtB,SAAWxB,QAClBoG,mBAAmBlF,GACf4B,KAAKtB,SAAWvB,QACpBoG,mBAAmBnF,GACf4B,KAAKtB,SAAWtB,QACpBoG,mBAAmBpF,GACf4B,KAAKtB,SAAWrB,QACpBoG,mBAAmBrF,GAGjB4B,KAAKtB,SAAWpB,QAClBoG,kBAAkBtF,GACd4B,KAAKtB,SAAWnB,QACpBoG,kBAAkBvF,GACd4B,KAAKtB,SAAWlB,QACpBoG,kBAAkBxF,GACd4B,KAAKtB,SAAWjB,QACpBoG,kBAAkBzF,GAMhB4B,KAAKtB,SAAWhB,QAClBoG,mBAAmB1F,GACf4B,KAAKtB,SAAWf,QACpBoG,0BAA0B3F,GACtB4B,KAAKtB,SAAWd,QACpBgH,oBAAoBxG,GAChB4B,KAAKtB,SAAWb,QACpBuH,sBAAsBhH,GAClB4B,KAAKtB,SAAWZ,QACpBuH,kBAAkBjH,QAIlBgB,KAAKqG,QAAQ7F,MAAM,kBAAmBI,KAAKtB,aAG5CC,cAGD2G,YAGNhL,GAAUwF,UAAU+F,MAAQ,gBACtBxG,UAAW,GAEjB/E,GAAUwF,UAAUgG,OAAS,gBACvBzG,UAAW,EAEbW,KAAKrB,OAASqB,KAAKhB,QAAQ2G,aACxBD,SAEH1F,KAAKV,aACFyG,WAIPzL,GAAUwF,UAAUkG,IAAM,SAASR,GAC/BxF,KAAKV,QAAQU,KAAKZ,KAAKqG,QAAQ7F,MAAM,uBACrC4F,GAAOxF,KAAKuF,MAAMC,QAEhBlG,QAAS,EAEXU,KAAKX,UAAUW,KAAK+F,WAGxBzL,GAAUwF,UAAUiG,QAAU,WAE1B/F,KAAKf,cAAgBe,KAAKrB,aACvBsH,2BAGD7G,KAAK8G,SAGX5L,GAAUwF,UAAUmG,oBAAsB,eACrCE,EAAOnG,KAAKhB,QAAQ0F,OAAO1E,KAAKf,eAEjCe,KAAKtB,SAAWvC,IAAY6D,KAAKtB,SAAWtC,IAAiB4D,KAAKtB,SAAWrC,QAC1E+C,KAAKqD,QAAQ0D,GACTnG,KAAKtB,SAAWhD,IAAcsE,KAAKtB,SAAW/C,IAAmBqE,KAAKtB,SAAW9C,QACrFwD,KAAK0C,UAAUqE,GACXnG,KAAKtB,SAAWd,IAAoBoC,KAAKT,SAMzCS,KAAKtB,SAAWb,IAAsBmC,KAAKT,SAM3CS,KAAKtB,SAAWZ,IAAkBkC,KAAKT,SAOhDS,KAAKtB,SAAWhE,IAChBsF,KAAKtB,SAAW3D,IAChBiF,KAAKtB,SAAWxD,IAChB8E,KAAKtB,SAAWzD,IAChB+E,KAAKtB,SAAW1D,IAChBgF,KAAKtB,SAAWtD,IAChB4E,KAAKtB,SAAWvD,IAChB6E,KAAKtB,SAAWrD,IAChB2E,KAAKtB,SAAW7D,SAEXuE,KAAKa,OAAOkG,SAhBZtB,qBAAqB,EAAG,IAC1B7E,KAAKf,cAAgBe,KAAKrB,cACvBD,OAASsB,KAAKd,gBACd+G,8BATDpB,qBAAqB,EAAG,IAC1B7E,KAAKf,cAAgBe,KAAKrB,cACvBD,OAASsB,KAAKd,gBACd+G,8BATD1B,qBACFvE,KAAKf,cAAgBe,KAAKrB,cACvBD,OAASsB,KAAKd,gBACd+G,yBA+BR3L,GAAUwF,UAAUsG,MAAQ,WAC3B9L,GAAU+L,KAAKrG,KAAM,CAACR,QAASQ,KAAKT,SAAUG,eAAgBM,KAAKP,iBAAkBO,KAAKZ,OAG3F9E,GAAUwF,UAAUI,YAAc,kBAC1BF,KAAKhB,QAAQ+C,UAAU/B,KAAKf,cAAee,KAAKrB,SAGxDrE,GAAUwF,UAAUO,WAAa,SAASiG,QACpClH,KAAKkH,GAAMtG,KAAKE,oBAChBjB,eAAiB,GAGvB3E,GAAUwF,UAAUwE,aAAe,SAASiC,GACxCvG,KAAKd,aAAe1E,QACjB4E,KAAKoH,aAAaD,QAElBnH,KAAKa,OAAOsG,ICr3BnB,IAAIE,GAAmB9G,GACnB+G,GAAqB7G,GAQzB,SAAS8G,GAAWC,MACZH,KAAqBI,kBAEdA,WAAWD,EAAK,OAGtBH,KAAqB9G,KAAqB8G,KAAqBI,kBAChEJ,GAAmBI,WACZA,WAAWD,EAAK,cAIhBH,GAAiBG,EAAK,GAC/B,MAAME,cAGOL,GAAiBJ,KAAK,KAAMO,EAAK,GAC1C,MAAME,UAEGL,GAAiBJ,KAAKrG,KAAM4G,EAAK,KA1BnB,mBAAtBG,OAAOF,aACdJ,GAAmBI,YAEY,mBAAxBE,OAAOC,eACdN,GAAqBM,cAuDzB,IAEIC,GAFAC,GAAQ,GACRC,IAAW,EAEXC,IAAc,EAElB,SAASC,KACAF,IAAaF,KAGlBE,IAAW,EACPF,GAAatB,OACbuB,GAAQD,GAAaK,OAAOJ,IAE5BE,IAAc,EAEdF,GAAMvB,QACN4B,MAIR,SAASA,SACDJ,QAGAK,EAAUb,GAAWU,IACzBF,IAAW,UAEPM,EAAMP,GAAMvB,OACV8B,GAAK,KACPR,GAAeC,GACfA,GAAQ,KACCE,GAAaK,GACdR,IACAA,GAAaG,IAAYM,MAGjCN,IAAc,EACdK,EAAMP,GAAMvB,OAEhBsB,GAAe,KACfE,IAAW,EAnEf,SAAyBQ,MACjBjB,KAAuBM,oBAEhBA,aAAaW,OAGnBjB,KAAuB7G,KAAwB6G,KAAuBM,oBACvEN,GAAqBM,aACdA,aAAaW,OAIbjB,GAAmBiB,GAC5B,MAAOb,cAGMJ,GAAmBL,KAAK,KAAMsB,GACvC,MAAOb,UAGEJ,GAAmBL,KAAKrG,KAAM2H,KAgD7CC,CAAgBJ,IAEb,SAASK,GAASjB,OACjBkB,EAAO,IAAIC,MAAMC,UAAUrC,OAAS,MACpCqC,UAAUrC,OAAS,MACd,IAAIpL,EAAI,EAAGA,EAAIyN,UAAUrC,OAAQpL,IAClCuN,EAAKvN,EAAI,GAAKyN,UAAUzN,GAGhC2M,GAAMe,KAAK,IAAIC,GAAKtB,EAAKkB,IACJ,IAAjBZ,GAAMvB,QAAiBwB,IACvBR,GAAWY,IAInB,SAASW,GAAKtB,EAAKuB,QACVvB,IAAMA,OACNuB,MAAQA,EAEjBD,GAAKpI,UAAU4H,IAAM,gBACZd,IAAIwB,MAAM,KAAMpI,KAAKmI,QC3G9B,OAtB6B,mBAAlBE,OAAOC,OACL,SAAkBC,EAAMC,GAEjCD,EAAKE,OAASD,EACdD,EAAKzI,UAAYuI,OAAOC,OAAOE,EAAU1I,UAAW,CAClD4I,YAAa,CACXnC,MAAOgC,EACPI,YAAY,EACZC,UAAU,EACVC,cAAc,MAKT,SAAkBN,EAAMC,GACjCD,EAAKE,OAASD,MACVM,EAAW,aACfA,EAAShJ,UAAY0I,EAAU1I,UAC/ByI,EAAKzI,UAAY,IAAIgJ,EACrBP,EAAKzI,UAAU4I,YAAcH,GCA7BQ,GAAe,WACZ,SAASC,GAAOC,OAChBC,GAASD,GAAI,SACZE,EAAU,GACL5O,EAAI,EAAGA,EAAIyN,UAAUrC,OAAQpL,IACpC4O,EAAQlB,KAAKmB,GAAQpB,UAAUzN,YAE1B4O,EAAQE,KAAK,KAGlB9O,EAAI,UACJuN,EAAOE,UACPP,EAAMK,EAAKnC,OACX2D,EAAMpP,OAAO+O,GAAGM,QAAQR,IAAc,SAASS,MACvC,OAANA,EAAY,MAAO,OACnBjP,GAAKkN,EAAK,OAAO+B,SACbA,OACD,YAAatP,OAAO4N,EAAKvN,UACzB,YAAakP,OAAO3B,EAAKvN,UACzB,gBAEMmP,KAAKC,UAAU7B,EAAKvN,MAC3B,MAAOqP,SACA,4BAGFJ,MAGJA,EAAI1B,EAAKvN,GAAIA,EAAIkN,EAAK+B,EAAI1B,IAAOvN,GACpCsP,GAAOL,KAAOM,GAASN,GACzBF,GAAO,IAAME,EAEbF,GAAO,IAAMF,GAAQI,UAGlBF,EAOF,SAASS,GAAUC,EAAIC,MAExBC,GAAYnD,OAAOoD,gBACd,kBACEJ,GAAUC,EAAIC,GAAK7B,MAAMpI,KAAMgI,gBAQtCoC,GAAS,2BAENA,IAMDC,QAAQC,MAAML,GAEhBG,GAAS,GAEJJ,EAAG5B,MAAMpI,KAAMgI,YAO1B,IACIuC,GADAC,GAAS,GAEN,SAASC,GAASC,MACnBR,GAAYK,MACdA,GAAyC,IAC3CG,EAAMA,EAAIC,eACLH,GAAOE,MACN,IAAIE,OAAO,MAAQF,EAAM,MAAO,KAAKG,KAAKN,IAAe,CAE3DC,GAAOE,GAAO,eACRT,EAAMjB,GAAOZ,MAAM,KAAMJ,WAC7BqC,QAAQC,MAAM,YAAaI,EAHnB,EAG6BT,SAGvCO,GAAOE,GAAO,oBAGXF,GAAOE,GAYT,SAAStB,GAAQ0B,EAAKC,OAEvBC,EAAM,CACRC,KAAM,GACNC,QAASC,WAGPnD,UAAUrC,QAAU,IAAGqF,EAAII,MAAQpD,UAAU,IAC7CA,UAAUrC,QAAU,IAAGqF,EAAIK,OAASrD,UAAU,IAC9CsD,GAAUP,GAEZC,EAAIO,WAAaR,EACRA,GAETS,GAAQR,EAAKD,GAGXb,GAAYc,EAAIO,cAAaP,EAAIO,YAAa,GAC9CrB,GAAYc,EAAII,SAAQJ,EAAII,MAAQ,GACpClB,GAAYc,EAAIK,UAASL,EAAIK,QAAS,GACtCnB,GAAYc,EAAIS,iBAAgBT,EAAIS,eAAgB,GACpDT,EAAIK,SAAQL,EAAIE,QAAUQ,IACvBC,GAAYX,EAAKF,EAAKE,EAAII,OAkCnC,SAASM,GAAiBpC,EAAKsC,OACzBC,EAAQzC,GAAQ0C,OAAOF,UAEvBC,EACK,KAAYzC,GAAQiC,OAAOQ,GAAO,GAAK,IAAMvC,EAC7C,KAAYF,GAAQiC,OAAOQ,GAAO,GAAK,IAEvCvC,EAKX,SAAS6B,GAAe7B,EAAKsC,UACpBtC,EAeT,SAASqC,GAAYX,EAAKzE,EAAOwF,MAG3Bf,EAAIS,eACJlF,GACAyF,GAAWzF,EAAM6C,UAEjB7C,EAAM6C,UAAYA,MAEhB7C,EAAMmC,aAAenC,EAAMmC,YAAY5I,YAAcyG,GAAQ,KAC7D0F,EAAM1F,EAAM6C,QAAQ2C,EAAcf,UACjC9B,GAAS+C,KACZA,EAAMN,GAAYX,EAAKiB,EAAKF,IAEvBE,MAILC,EA+FN,SAAyBlB,EAAKzE,MACxB2D,GAAY3D,GACd,OAAOyE,EAAIE,QAAQ,YAAa,gBAC9BhC,GAAS3C,GAAQ,KACf4F,EAAS,IAAOzC,KAAKC,UAAUpD,GAAOgD,QAAQ,SAAU,IAClBA,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAAO,WAC1DyB,EAAIE,QAAQiB,EAAQ,aAEzBC,GAAS7F,GACX,OAAOyE,EAAIE,QAAQ,GAAK3E,EAAO,aAC7B+E,GAAU/E,GACZ,OAAOyE,EAAIE,QAAQ,GAAK3E,EAAO,cAE7BsD,GAAOtD,GACT,OAAOyE,EAAIE,QAAQ,OAAQ,QA9GbmB,CAAgBrB,EAAKzE,MACjC2F,SACKA,MAILI,EAAOjE,OAAOiE,KAAK/F,GACnBgG,EApCN,SAAqBpE,OACfqE,EAAO,UAEXrE,EAAMsE,SAAQ,SAASC,EAAKC,GAC1BH,EAAKE,IAAO,KAGPF,EA6BWI,CAAYN,MAE1BtB,EAAIO,aACNe,EAAOjE,OAAOwE,oBAAoBtG,IAKhCuG,GAAQvG,KACJ+F,EAAKS,QAAQ,YAAc,GAAKT,EAAKS,QAAQ,gBAAkB,UAC9DC,GAAYzG,MAID,IAAhB+F,EAAK3G,OAAc,IACjBqG,GAAWzF,GAAQ,KACjBD,EAAOC,EAAMD,KAAO,KAAOC,EAAMD,KAAO,UACrC0E,EAAIE,QAAQ,YAAc5E,EAAO,IAAK,cAE3C2G,GAAS1G,UACJyE,EAAIE,QAAQN,OAAO9K,UAAUoN,SAAS7G,KAAKE,GAAQ,aAExD4G,GAAO5G,UACFyE,EAAIE,QAAQkC,KAAKtN,UAAUoN,SAAS7G,KAAKE,GAAQ,WAEtDuG,GAAQvG,UACHyG,GAAYzG,OA+CnBtM,EA3CA8K,EAAO,GAAIoD,GAAQ,EAAOkF,EAAS,CAAC,IAAK,MAGzCC,GAAQ/G,KACV4B,GAAQ,EACRkF,EAAS,CAAC,IAAK,MAIbrB,GAAWzF,MAEbxB,EAAO,cADCwB,EAAMD,KAAO,KAAOC,EAAMD,KAAO,IACf,YAIxB2G,GAAS1G,KACXxB,EAAO,IAAM6F,OAAO9K,UAAUoN,SAAS7G,KAAKE,IAI1C4G,GAAO5G,KACTxB,EAAO,IAAMqI,KAAKtN,UAAUyN,YAAYlH,KAAKE,IAI3CuG,GAAQvG,KACVxB,EAAO,IAAMiI,GAAYzG,IAGP,IAAhB+F,EAAK3G,QAAkBwC,GAAyB,GAAhB5B,EAAMZ,OAItCoG,EAAe,EACbkB,GAAS1G,GACJyE,EAAIE,QAAQN,OAAO9K,UAAUoN,SAAS7G,KAAKE,GAAQ,UAEnDyE,EAAIE,QAAQ,WAAY,YAInCF,EAAIC,KAAKhD,KAAK1B,GAIZtM,EADEkO,EAsCN,SAAqB6C,EAAKzE,EAAOwF,EAAcQ,EAAaD,WACtDrS,EAAS,GACJM,EAAI,EAAGiT,EAAIjH,EAAMZ,OAAQpL,EAAIiT,IAAKjT,EACrC8J,GAAekC,EAAOrM,OAAOK,IAC/BN,EAAOgO,KAAKwF,GAAezC,EAAKzE,EAAOwF,EAAcQ,EACjDrS,OAAOK,IAAI,IAEfN,EAAOgO,KAAK,WAGhBqE,EAAKG,SAAQ,SAASiB,GACfA,EAAIC,MAAM,UACb1T,EAAOgO,KAAKwF,GAAezC,EAAKzE,EAAOwF,EAAcQ,EACjDmB,GAAK,OAGNzT,EArDI2T,CAAY5C,EAAKzE,EAAOwF,EAAcQ,EAAaD,GAEnDA,EAAKpI,KAAI,SAASwJ,UAClBD,GAAezC,EAAKzE,EAAOwF,EAAcQ,EAAamB,EAAKvF,MAItE6C,EAAIC,KAAK4C,MA6GX,SAA8B5T,EAAQ8K,EAAMsI,MAE7BpT,EAAO6T,QAAO,SAASC,EAAMC,UAEpCA,EAAIjB,QAAQ,MACTgB,EAAOC,EAAIzE,QAAQ,kBAAmB,IAAI5D,OAAS,IACzD,GAEU,UACJ0H,EAAO,IACG,KAATtI,EAAc,GAAKA,EAAO,OAC3B,IACA9K,EAAOoP,KAAK,SACZ,IACAgE,EAAO,UAGTA,EAAO,GAAKtI,EAAO,IAAM9K,EAAOoP,KAAK,MAAQ,IAAMgE,EAAO,GA5H1DY,CAAqBhU,EAAQ8K,EAAMsI,IAxBjCA,EAAO,GAAKtI,EAAOsI,EAAO,GA+CrC,SAASL,GAAYzG,SACZ,IAAM3G,MAAME,UAAUoN,SAAS7G,KAAKE,GAAS,IAwBtD,SAASkH,GAAezC,EAAKzE,EAAOwF,EAAcQ,EAAamB,EAAKvF,OAC9D7B,EAAMgD,EAAK4E,MACfA,EAAO7F,OAAO8F,yBAAyB5H,EAAOmH,IAAQ,CAAEnH,MAAOA,EAAMmH,KAC5DU,IAEL9E,EADE4E,EAAKxD,IACDM,EAAIE,QAAQ,kBAAmB,WAE/BF,EAAIE,QAAQ,WAAY,WAG5BgD,EAAKxD,MACPpB,EAAM0B,EAAIE,QAAQ,WAAY,YAG7B7G,GAAekI,EAAamB,KAC/BpH,EAAO,IAAMoH,EAAM,KAEhBpE,IACC0B,EAAIC,KAAK8B,QAAQmB,EAAK3H,OAAS,GAE/B+C,EADEO,GAAOkC,GACHJ,GAAYX,EAAKkD,EAAK3H,MAAO,MAE7BoF,GAAYX,EAAKkD,EAAK3H,MAAOwF,EAAe,IAE5CgB,QAAQ,OAAS,IAErBzD,EADEnB,EACImB,EAAI+E,MAAM,MAAMnK,KAAI,SAASoK,SAC1B,KAAOA,KACbjF,KAAK,MAAM3E,OAAO,GAEf,KAAO4E,EAAI+E,MAAM,MAAMnK,KAAI,SAASoK,SACjC,MAAQA,KACdjF,KAAK,OAIZC,EAAM0B,EAAIE,QAAQ,aAAc,YAGhChB,GAAY5D,GAAO,IACjB6B,GAASuF,EAAIC,MAAM,gBACdrE,GAEThD,EAAOoD,KAAKC,UAAU,GAAK+D,IAClBC,MAAM,iCACbrH,EAAOA,EAAK5B,OAAO,EAAG4B,EAAKX,OAAS,GACpCW,EAAO0E,EAAIE,QAAQ5E,EAAM,UAEzBA,EAAOA,EAAKiD,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,KAChCjD,EAAO0E,EAAIE,QAAQ5E,EAAM,kBAItBA,EAAO,KAAOgD,EA2BhB,SAASgE,GAAQiB,UACfxG,MAAMuF,QAAQiB,GAGhB,SAASjD,GAAUkD,SACF,kBAARA,EAGT,SAAS3E,GAAO2E,UACN,OAARA,EAOF,SAASpC,GAASoC,SACD,iBAARA,EAGT,SAAStF,GAASsF,SACD,iBAARA,EAOT,SAAStE,GAAYsE,eACX,IAARA,EAGF,SAASvB,GAASwB,UAChB3E,GAAS2E,IAA8B,oBAAvBC,GAAeD,GAGjC,SAAS3E,GAAS0E,SACD,iBAARA,GAA4B,OAARA,EAG7B,SAASrB,GAAOwB,UACd7E,GAAS6E,IAA4B,kBAAtBD,GAAeC,GAGhC,SAAS7B,GAAQhG,UACfgD,GAAShD,KACW,mBAAtB4H,GAAe5H,IAA2BA,aAAalH,OAGvD,SAASoM,GAAWwC,SACH,mBAARA,EAgBhB,SAASE,GAAeE,UACfvG,OAAOvI,UAAUoN,SAAS7G,KAAKuI,GAIxC,SAASC,GAAIC,UACJA,EAAI,GAAK,IAAMA,EAAE5B,SAAS,IAAM4B,EAAE5B,SAAS,IAjXpD9D,GAAQiC,OAAS,MACN,CAAC,EAAG,WACF,CAAC,EAAG,cACD,CAAC,EAAG,YACN,CAAC,EAAG,UACN,CAAC,GAAI,SACN,CAAC,GAAI,UACJ,CAAC,GAAI,SACN,CAAC,GAAI,SACL,CAAC,GAAI,UACJ,CAAC,GAAI,YACH,CAAC,GAAI,QACT,CAAC,GAAI,WACF,CAAC,GAAI,KAIlBjC,GAAQ0C,OAAS,SACJ,cACD,iBACC,mBACE,YACL,cACE,aACF,iBAEE,OA2VZ,IAAIiD,GAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACxD,MAAO,MAAO,OAG5B,SAASC,SACHL,EAAI,IAAIvB,KACR6B,EAAO,CAACJ,GAAIF,EAAEO,YACNL,GAAIF,EAAEQ,cACNN,GAAIF,EAAES,eAAe/F,KAAK,WAC/B,CAACsF,EAAEU,UAAWN,GAAOJ,EAAEW,YAAaL,GAAM5F,KAAK,KA0BjD,SAASmC,GAAQ+D,EAAQC,OAEzBA,IAAQ1F,GAAS0F,GAAM,OAAOD,UAE/BjD,EAAOjE,OAAOiE,KAAKkD,GACnBjV,EAAI+R,EAAK3G,OACNpL,KACLgV,EAAOjD,EAAK/R,IAAMiV,EAAIlD,EAAK/R,WAEtBgV,EAGT,SAASlL,GAAeyG,EAAK2E,UACpBpH,OAAOvI,UAAUuE,eAAegC,KAAKyE,EAAK2E,GAGnD,OAAe,CACbC,SAAUA,GACVlE,QAASA,GACTmE,IAxCK,WACLtF,QAAQsF,IAAI,UAAWX,KAAahG,GAAOZ,MAAM,KAAMJ,aAwCvD4H,SArEK,SAAkBC,UAChBC,OAAOF,SAASC,IAqEvBE,YA/EK,SAAqBvB,UACX,OAARA,GACe,kBAARA,GACQ,iBAARA,GACQ,iBAARA,GACQ,iBAARA,QACQ,IAARA,GA0EdxC,WAAYA,GACZc,QAASA,GACTK,OAAQA,GACRrD,SAAUA,GACVmD,SAAUA,GACV/C,YAAaA,GACb8F,SAnHK,SAAkBxB,SACD,iBAARA,GAmHdtF,SAAUA,GACVkD,SAAUA,GACV6D,kBAlIK,SAA2BzB,UAClB,MAAPA,GAkIP3E,OAAQA,GACRyB,UAAWA,GACXgC,QAASA,GACTlE,QAASA,GACTW,UAAWA,GACXf,OAAQA,GACRyB,SAAUA,IC7kBZ,SAASyF,MAGT,SAASC,KACPA,GAAaC,KAAK/J,KAAKrG,MA6CzB,SAASqQ,GAAiBC,eACGC,IAAvBD,EAAKE,cACAL,GAAaM,oBACfH,EAAKE,cAYd,SAASE,GAASC,EAASC,EAAMC,MAC3BD,EACFD,EAAQtK,KAAKwK,gBAETpJ,EAAMkJ,EAAQhL,OACdmL,EAAYC,GAAWJ,EAASlJ,GAC3BlN,EAAI,EAAGA,EAAIkN,IAAOlN,EACzBuW,EAAUvW,GAAG8L,KAAKwK,GAGxB,SAASG,GAAQL,EAASC,EAAMC,EAAMI,MAChCL,EACFD,EAAQtK,KAAKwK,EAAMI,gBAEfxJ,EAAMkJ,EAAQhL,OACdmL,EAAYC,GAAWJ,EAASlJ,GAC3BlN,EAAI,EAAGA,EAAIkN,IAAOlN,EACzBuW,EAAUvW,GAAG8L,KAAKwK,EAAMI,GAG9B,SAASC,GAAQP,EAASC,EAAMC,EAAMI,EAAME,MACtCP,EACFD,EAAQtK,KAAKwK,EAAMI,EAAME,gBAErB1J,EAAMkJ,EAAQhL,OACdmL,EAAYC,GAAWJ,EAASlJ,GAC3BlN,EAAI,EAAGA,EAAIkN,IAAOlN,EACzBuW,EAAUvW,GAAG8L,KAAKwK,EAAMI,EAAME,GAGpC,SAASC,GAAUT,EAASC,EAAMC,EAAMI,EAAME,EAAME,MAC9CT,EACFD,EAAQtK,KAAKwK,EAAMI,EAAME,EAAME,gBAE3B5J,EAAMkJ,EAAQhL,OACdmL,EAAYC,GAAWJ,EAASlJ,GAC3BlN,EAAI,EAAGA,EAAIkN,IAAOlN,EACzBuW,EAAUvW,GAAG8L,KAAKwK,EAAMI,EAAME,EAAME,GAI1C,SAASC,GAASX,EAASC,EAAMC,EAAM/I,MACjC8I,EACFD,EAAQvI,MAAMyI,EAAM/I,gBAEhBL,EAAMkJ,EAAQhL,OACdmL,EAAYC,GAAWJ,EAASlJ,GAC3BlN,EAAI,EAAGA,EAAIkN,IAAOlN,EACzBuW,EAAUvW,GAAG6N,MAAMyI,EAAM/I,GAyE/B,SAASyJ,GAAaC,EAAQC,EAAMC,EAAUC,OACxCC,EACAC,EACAC,KAEoB,mBAAbJ,EACT,MAAM,IAAIK,UAAU,8CAEtBF,EAASL,EAAOQ,UAOVH,EAAOI,cACTT,EAAOU,KAAK,cAAeT,EACfC,EAASA,SAAWA,EAASA,SAAWA,GAIpDG,EAASL,EAAOQ,SAElBF,EAAWD,EAAOJ,KAblBI,EAASL,EAAOQ,QAAU,IAAI9B,GAC9BsB,EAAOW,aAAe,GAenBL,MAKqB,mBAAbA,EAETA,EAAWD,EAAOJ,GAAQE,EAAU,CAACD,EAAUI,GACX,CAACA,EAAUJ,GAG3CC,EACFG,EAASM,QAAQV,GAEjBI,EAAS7J,KAAKyJ,IAKbI,EAAS1H,SACZwH,EAAIvB,GAAiBmB,KACZI,EAAI,GAAKE,EAASnM,OAASiM,EAAG,CACrCE,EAAS1H,QAAS,MACdiI,EAAI,IAAIzS,MAAM,+CACEkS,EAASnM,OAAS,IAAM8L,EAAO,qEAEnDY,EAAE/L,KAAO,8BACT+L,EAAEC,QAAUd,EACZa,EAAEZ,KAAOA,EACTY,EAAEE,MAAQT,EAASnM,OAQ3B,SAAqBmB,GACK,mBAAjBuD,QAAQmI,KAAsBnI,QAAQmI,KAAK1L,GAAKuD,QAAQsF,IAAI7I,GAR7D2L,CAAYJ,SA5BhBP,EAAWD,EAAOJ,GAAQC,IACxBF,EAAOW,oBAgCJX,EAgBT,SAASkB,GAAUlB,EAAQC,EAAMC,OAC3BiB,GAAQ,WACHC,IACPpB,EAAOqB,eAAepB,EAAMmB,GACvBD,IACHA,GAAQ,EACRjB,EAAStJ,MAAMoJ,EAAQxJ,mBAG3B4K,EAAElB,SAAWA,EACNkB,EA2JT,SAASE,GAAcrB,OACjBI,EAAS7R,KAAKgS,WAEdH,EAAQ,KACNkB,EAAalB,EAAOJ,MAEE,mBAAfsB,SACF,EACF,GAAIA,SACFA,EAAWpN,cAIf,EAcT,SAASoL,GAAWiC,EAAKzY,WACnB0Y,EAAO,IAAIlL,MAAMxN,GACdA,KACL0Y,EAAK1Y,GAAKyY,EAAIzY,UACT0Y,EAzcT/C,GAAcpQ,UAAYuI,OAAOC,OAAO,MAUxC6H,GAAaA,aAAeA,GAE5BA,GAAa+C,cAAe,EAE5B/C,GAAarQ,UAAUqT,YAAS5C,EAChCJ,GAAarQ,UAAUkS,aAAUzB,EACjCJ,GAAarQ,UAAU0Q,mBAAgBD,EAIvCJ,GAAaM,oBAAsB,GAEnCN,GAAaC,KAAO,gBACb+C,OAAS,KACVhD,GAAa+C,oBA9BfC,GAgCWC,OAKRpT,KAAKgS,SAAWhS,KAAKgS,UAAY3J,OAAOgL,eAAerT,MAAMgS,eAC3DA,QAAU,IAAI9B,QACdiC,aAAe,QAGjB3B,cAAgBxQ,KAAKwQ,oBAAiBD,GAK7CJ,GAAarQ,UAAUwT,gBAAkB,SAAyBxE,MAC/C,iBAANA,GAAkBA,EAAI,GAAKyE,MAAMzE,GAC1C,MAAM,IAAIiD,UAAU,sDACjBvB,cAAgB1B,EACd9O,MASTmQ,GAAarQ,UAAU0T,gBAAkB,kBAChCnD,GAAiBrQ,OA4D1BmQ,GAAarQ,UAAUoS,KAAO,SAAcT,OACtCgC,EAAI9C,EAASlJ,EAAKK,EAAMvN,EAAGsX,EAAQsB,EAEnCO,EAAoB,UAATjC,KAEfI,EAAS7R,KAAKgS,QAEZ0B,EAAWA,GAA2B,MAAhB7B,EAAOvH,WAC1B,IAAKoJ,EACR,OAAO,KAETP,EAASnT,KAAKmT,OAGVO,EAAS,IACXD,EAAKzL,UAAU,IACXmL,EAOG,CAAA,GAAIM,aAAc7T,YACjB6T,MAGFE,EAAM,IAAI/T,MAAM,yCAA2C6T,EAAK,WACpEE,EAAIC,QAAUH,EACRE,SAZDF,IACHA,EAAK,IAAI7T,MAAM,wCACjB6T,EAAGI,cAAgB7T,KACnByT,EAAGN,OAASA,EACZM,EAAGK,cAAe,EAClBX,EAAOjB,KAAK,QAASuB,IAShB,OAGT9C,EAAUkB,EAAOJ,IAGf,OAAO,MAELb,EAA0B,mBAAZD,SAClBlJ,EAAMO,UAAUrC,aAGT,EACH+K,GAASC,EAASC,EAAM5Q,iBAErB,EACHgR,GAAQL,EAASC,EAAM5Q,KAAMgI,UAAU,eAEpC,EACHkJ,GAAQP,EAASC,EAAM5Q,KAAMgI,UAAU,GAAIA,UAAU,eAElD,EACHoJ,GAAUT,EAASC,EAAM5Q,KAAMgI,UAAU,GAAIA,UAAU,GAAIA,UAAU,sBAIrEF,EAAO,IAAIC,MAAMN,EAAM,GAClBlN,EAAI,EAAGA,EAAIkN,EAAKlN,IACnBuN,EAAKvN,EAAI,GAAKyN,UAAUzN,GAC1B+W,GAASX,EAASC,EAAM5Q,KAAM8H,UAM3B,GAqETqI,GAAarQ,UAAUiU,YAAc,SAAqBtC,EAAMC,UACvDH,GAAavR,KAAMyR,EAAMC,GAAU,IAG5CvB,GAAarQ,UAAUkU,GAAK7D,GAAarQ,UAAUiU,YAEnD5D,GAAarQ,UAAUmU,gBACnB,SAAyBxC,EAAMC,UACtBH,GAAavR,KAAMyR,EAAMC,GAAU,IAgBhDvB,GAAarQ,UAAUoU,KAAO,SAAczC,EAAMC,MACxB,mBAAbA,EACT,MAAM,IAAIK,UAAU,sDACjBiC,GAAGvC,EAAMiB,GAAU1S,KAAMyR,EAAMC,IAC7B1R,MAGTmQ,GAAarQ,UAAUqU,oBACnB,SAA6B1C,EAAMC,MACT,mBAAbA,EACT,MAAM,IAAIK,UAAU,sDACjBkC,gBAAgBxC,EAAMiB,GAAU1S,KAAMyR,EAAMC,IAC1C1R,MAIbmQ,GAAarQ,UAAU+S,eACnB,SAAwBpB,EAAMC,OACxB0C,EAAMvC,EAAQwC,EAAU9Z,EAAG+Z,KAEP,mBAAb5C,EACT,MAAM,IAAIK,UAAU,+CAEtBF,EAAS7R,KAAKgS,SAEZ,OAAOhS,UAEToU,EAAOvC,EAAOJ,IAEZ,OAAOzR,QAELoU,IAAS1C,GAAa0C,EAAK1C,UAAY0C,EAAK1C,WAAaA,EAC/B,KAAtB1R,KAAKmS,aACTnS,KAAKgS,QAAU,IAAI9B,WAEZ2B,EAAOJ,GACVI,EAAOgB,gBACT7S,KAAKkS,KAAK,iBAAkBT,EAAM2C,EAAK1C,UAAYA,SAElD,GAAoB,mBAAT0C,EAAqB,KACrCC,GAAY,EAEP9Z,EAAI6Z,EAAKzO,OAAQpL,KAAM,MACtB6Z,EAAK7Z,KAAOmX,GACX0C,EAAK7Z,GAAGmX,UAAY0C,EAAK7Z,GAAGmX,WAAaA,EAAW,CACvD4C,EAAmBF,EAAK7Z,GAAGmX,SAC3B2C,EAAW9Z,WAKX8Z,EAAW,EACb,OAAOrU,QAEW,IAAhBoU,EAAKzO,OAAc,IACrByO,EAAK,QAAK7D,EACkB,KAAtBvQ,KAAKmS,yBACJH,QAAU,IAAI9B,GACZlQ,YAEA6R,EAAOJ,QAiH1B,SAAmB2C,EAAMG,OAClB,IAAIha,EAAIga,EAAOC,EAAIja,EAAI,EAAGuU,EAAIsF,EAAKzO,OAAQ6O,EAAI1F,EAAGvU,GAAK,EAAGia,GAAK,EAClEJ,EAAK7Z,GAAK6Z,EAAKI,GACjBJ,EAAKvG,MAjHG4G,CAAUL,EAAMC,GAGdxC,EAAOgB,gBACT7S,KAAKkS,KAAK,iBAAkBT,EAAM6C,GAAoB5C,UAGnD1R,MAGbmQ,GAAarQ,UAAU4U,mBACnB,SAA4BjD,OACtBX,EAAWe,OAEfA,EAAS7R,KAAKgS,SAEZ,OAAOhS,SAGJ6R,EAAOgB,sBACe,IAArB7K,UAAUrC,aACPqM,QAAU,IAAI9B,QACdiC,aAAe,GACXN,EAAOJ,KACY,KAAtBzR,KAAKmS,aACTnS,KAAKgS,QAAU,IAAI9B,UAEZ2B,EAAOJ,IAEXzR,QAIgB,IAArBgI,UAAUrC,OAAc,SAEV+H,EADZpB,EAAOjE,OAAOiE,KAAKuF,GACdtX,EAAI,EAAQA,EAAI+R,EAAK3G,SAAUpL,EAE1B,oBADZmT,EAAMpB,EAAK/R,UAENma,mBAAmBhH,eAErBgH,mBAAmB,uBACnB1C,QAAU,IAAI9B,QACdiC,aAAe,EACbnS,QAKgB,mBAFzB8Q,EAAYe,EAAOJ,SAGZoB,eAAepB,EAAMX,QACrB,GAAIA,UAGF+B,eAAepB,EAAMX,EAAUA,EAAUnL,OAAS,UAChDmL,EAAU,WAGd9Q,MAGbmQ,GAAarQ,UAAUgR,UAAY,SAAmBW,OAChDsB,EAEAlB,EAAS7R,KAAKgS,eAEbH,IAGHkB,EAAalB,EAAOJ,IAGW,mBAAfsB,EACR,CAACA,EAAWrB,UAAYqB,GAmDpC,SAAyBC,WACnB/G,EAAM,IAAIlE,MAAMiL,EAAIrN,QACfpL,EAAI,EAAGA,EAAI0R,EAAItG,SAAUpL,EAChC0R,EAAI1R,GAAKyY,EAAIzY,GAAGmX,UAAYsB,EAAIzY,UAE3B0R,EAtDG0I,CAAgB5B,GARlB,IAcV5C,GAAa2C,cAAgB,SAASR,EAASb,SACR,mBAA1Ba,EAAQQ,cACVR,EAAQQ,cAAcrB,GAEtBqB,GAAczM,KAAKiM,EAASb,IAIvCtB,GAAarQ,UAAUgT,cAAgBA,GAiBvC3C,GAAarQ,UAAU8U,WAAa,kBAC3B5U,KAAKmS,aAAe,EAAI0C,QAAQC,QAAQ9U,KAAKgS,SAAW,IC1ajE,IAAI+C,GAAW,CACdC,OAAO,EACPC,QAAQ,EACRC,UAAU,EACVC,QAAQ,EACRC,QAAQ,EACRC,UAAU,EACVC,UAAU,GAGPC,GAAmB,CACtBC,GAAU,CAAEA,IAAG,EAAMC,IAAG,EAAMC,IAAG,GACjCD,GAAU,CAAEA,IAAG,GACfC,GAAU,CAAEC,OAAM,EAAMD,IAAG,GAC3BE,KAAU,CAAEC,MAAK,EAAMC,MAAK,EAAMC,QAAO,GACzCC,GAAU,CAAEA,IAAG,GACfC,EAAU,CAAEA,GAAE,GACdd,OAAUJ,GACVC,MAAUD,GACV9a,OAAU8a,GACVK,OAAUL,GACVM,SAAUN,GACVO,SAAUP,GACVE,OAAU,CAAEA,QAAO,GACnBC,SAAU,CAAEA,UAAS,IAGlBgB,GAAe,CAClBC,UAAW,KACXC,MAAM,EACNrR,MAAM,EACNsR,UAAU,EACVC,IAAI,EACJC,KAAK,EACLC,SAAS,EACTC,OAAO,EACPC,OAAO,EACPC,IAAI,EACJC,KAAK,EACL5B,OAAO,EACP6B,SAAS,EACTC,QAAQ,EACRhB,MAAM,EACNiB,MAAM,EACNC,OAAO,EACPC,QAAQ,EACRC,OAAO,EACPC,KAAK,EAGLC,MAAM,EACNC,QAAQ,EACRC,SAAS,EACThJ,MAAM,EACNiJ,MAAM,EACNC,KAAK,GAGFC,GAAa,QAEjB,SAASC,GAAO3Y,EAAKD,QACf6Y,SAAW7Y,GAAW,QACtBM,KAAOL,GAAO,QAEd6Y,SAAW,QACXC,YAAc,QACdC,aAAe,QACfC,SAAW,UACXC,OAAS,QAETC,WAAa,OACbC,SAAW,UAEXC,mBAAqB,kBAAmBnY,KAAK2X,WACxC3X,KAAK2X,SAASS,eACfpY,KAAK2X,SAASnY,aAClB6Y,yBAA2B,4BAA6BrY,KAAK2X,WACxD3X,KAAK2X,SAASW,yBACftY,KAAK2X,SAASnY,aAElB+Y,WAAa,IAAIje,GAAU0F,KAAK2X,SAAU3X,MAGhDwY,GAAgB9I,SAASgI,GAAQc,GAAkBrI,cAEnDuH,GAAO5X,UAAU2Y,gBAAkB,SAASC,GACtB,OAAlB1Y,KAAKkY,SACJlY,KAAKuY,WAAWtZ,eAAiByZ,OAC9BT,WAAa,OAEbA,WAAajY,KAAKuY,WAAWtZ,cAAgByZ,EAG/C1Y,KAAKiY,WAAajY,KAAKkY,SAAW,OAClCA,SAAWlY,KAAKuY,WAAW5Z,QAIjC+Y,GAAO5X,UAAUG,OAAS,SAASkG,QAC7BsS,gBAAgB,QAChBP,WAEFlY,KAAKZ,KAAKa,QAAQD,KAAKZ,KAAKa,OAAOkG,IAGvCuR,GAAO5X,UAAU6Y,cAAgB,SAASrS,MACtCtG,KAAKmY,qBACP7R,EAAOA,EAAK7H,oBAGRmZ,SAAWtR,GAEXtG,KAAK2X,SAASnY,SAAW8G,KAAQiP,OAEpC,IAAIqD,GACHA,EAAK5Y,KAAKgY,OAAOhY,KAAKgY,OAAOrS,OAAO,MAAO4P,GAAiBjP,GAC7DtG,KAAK6Y,WAAWD,KAIf5Y,KAAK2X,SAASnY,SAAa8G,KAAQ4P,SAChC8B,OAAO/P,KAAK3B,GAGftG,KAAKZ,KAAKuZ,eAAe3Y,KAAKZ,KAAKuZ,cAAcrS,GACjDtG,KAAKZ,KAAK0Z,YAAW9Y,KAAK+X,SAAW,KAGzCL,GAAO5X,UAAUY,aAAe,gBAC1B+X,gBAAgB,GAElBzY,KAAK+X,WACJ/X,KAAKZ,KAAK0Z,WAAW9Y,KAAKZ,KAAK0Z,UAAU9Y,KAAK4X,SAAU5X,KAAK+X,eAC3DA,SAAW,OAGb/X,KAAK2X,SAASnY,SAAWQ,KAAKZ,KAAKyZ,YAAc7Y,KAAK4X,YAAY1B,SAChE9W,KAAKyZ,WAAW7Y,KAAK4X,eAGtBA,SAAW,IAGjBF,GAAO5X,UAAU+Y,WAAa,SAASvS,WACjCmS,gBAAgB,GAElBzY,KAAKmY,qBACP7R,EAAOA,EAAK7H,gBAGVuB,KAAKgY,OAAOrS,QAAaW,KAAQ4P,KAAiBlW,KAAK2X,SAASnY,QAYxDQ,KAAK2X,SAASnY,SAAqB,OAAT8G,GAA0B,MAATA,SAChDqS,cAAcrS,QACdyS,wBAdsE,KACvEC,EAAMhZ,KAAKgY,OAAOiB,YAAY3S,OACtB,IAAT0S,KACChZ,KAAKZ,KAAKyZ,eACZG,EAAMhZ,KAAKgY,OAAOrS,OAASqT,EACrBA,KAAOhZ,KAAKZ,KAAKyZ,WAAW7Y,KAAKgY,OAAOnK,YAE1C7N,KAAKgY,OAAOrS,OAASqT,MACR,MAAT1S,GAAiBtG,KAAK2X,SAASnY,eACnCmZ,cAAcrS,QACdyS,sBAQRrB,GAAO5X,UAAUc,iBAAmB,WAChCZ,KAAK2X,SAASnY,SAAWQ,KAAK2X,SAASuB,0BACpCH,wBAEArY,gBAIPgX,GAAO5X,UAAUiZ,iBAAmB,eAC/BzS,EAAOtG,KAAK4X,cAEXlX,eAIFV,KAAKgY,OAAOhY,KAAKgY,OAAOrS,OAAO,KAAOW,IACrCtG,KAAKZ,KAAKyZ,iBACPzZ,KAAKyZ,WAAWvS,QAEjB0R,OAAOnK,QAId6J,GAAO5X,UAAUgB,aAAe,SAASwF,GACrCtG,KAAKqY,2BACP/R,EAAOA,EAAK7H,oBAERoZ,YAAcvR,GAGpBoR,GAAO5X,UAAU0G,aAAe,SAASD,QACnCuR,cAAgBvR,GAGtBmR,GAAO5X,UAAUkB,YAAc,WAC3BhB,KAAKZ,KAAK+Z,aAAanZ,KAAKZ,KAAK+Z,YAAYnZ,KAAK6X,YAAa7X,KAAK8X,cAEtE9X,KAAK+X,WACJ1P,OAAOvI,UAAUuE,eAAegC,KAAKrG,KAAK+X,SAAU/X,KAAK6X,oBAErDE,SAAS/X,KAAK6X,aAAe7X,KAAK8X,mBAEnCD,YAAc,QACdC,aAAe,IAGrBJ,GAAO5X,UAAUsZ,oBAAsB,SAAS7S,OAC3CoG,EAAMpG,EAAM8S,OAAO5B,IACnBnR,EAAOqG,EAAM,EAAIpG,EAAQA,EAAM7B,OAAO,EAAGiI,UAE1C3M,KAAKmY,qBACP7R,EAAOA,EAAK7H,eAGN6H,GAGRoR,GAAO5X,UAAUyB,cAAgB,SAASgF,MACtCvG,KAAKZ,KAAKqC,wBAAwB,KAChC6E,EAAOtG,KAAKoZ,oBAAoB7S,QAC/BnH,KAAKqC,wBAAwB,IAAM6E,EAAM,IAAMC,KAItDmR,GAAO5X,UAAU2B,wBAA0B,SAAS8E,MAChDvG,KAAKZ,KAAKqC,wBAAwB,KAChC6E,EAAOtG,KAAKoZ,oBAAoB7S,QAC/BnH,KAAKqC,wBAAwB,IAAM6E,EAAM,IAAMC,KAItDmR,GAAO5X,UAAUgC,UAAY,SAASyE,QAChCkS,gBAAgB,GAElBzY,KAAKZ,KAAK0C,WAAW9B,KAAKZ,KAAK0C,UAAUyE,GACzCvG,KAAKZ,KAAKka,cAActZ,KAAKZ,KAAKka,gBAGtC5B,GAAO5X,UAAU2C,QAAU,SAAS8D,QAC9BkS,gBAAgB,GAElBzY,KAAK2X,SAASnY,SAAWQ,KAAK2X,SAAS4B,gBACtCvZ,KAAKZ,KAAKoa,cAAcxZ,KAAKZ,KAAKoa,eAClCxZ,KAAKZ,KAAKa,QAAQD,KAAKZ,KAAKa,OAAOsG,GACnCvG,KAAKZ,KAAKqa,YAAYzZ,KAAKZ,KAAKqa,mBAE9B3X,UAAU,UAAYyE,EAAQ,OAIrCmR,GAAO5X,UAAU2F,QAAU,SAASkO,GAChC3T,KAAKZ,KAAKqG,SAASzF,KAAKZ,KAAKqG,QAAQkO,IAGzC+D,GAAO5X,UAAUoG,MAAQ,cACrBlG,KAAKZ,KAAKyZ,eAEX,IAAIte,EAAIyF,KAAKgY,OAAOrS,OACpBpL,EAAI,EACJyF,KAAKZ,KAAKyZ,WAAW7Y,KAAKgY,SAASzd,KAGlCyF,KAAKZ,KAAK8G,OAAOlG,KAAKZ,KAAK8G,SAK/BwR,GAAO5X,UAAUsG,MAAQ,WACrBpG,KAAKZ,KAAKsa,SAAS1Z,KAAKZ,KAAKsa,eAC3BnB,WAAWnS,aAEXwR,SAAW,QACXC,YAAc,QACdE,SAAW,UACXC,OAAS,IAIfN,GAAO5X,UAAU6Z,cAAgB,SAASxT,QACpCC,aACAJ,IAAIG,IAGVuR,GAAO5X,UAAUyF,MAAQ,SAASC,QAC5B+S,WAAWhT,MAAMC,IAGvBkS,GAAO5X,UAAUkG,IAAM,SAASR,QAC1B+S,WAAWvS,IAAIR,IAGrBkS,GAAO5X,UAAU+F,MAAQ,gBACnB0S,WAAW1S,SAGjB6R,GAAO5X,UAAUgG,OAAS,gBACpByS,WAAWzS,UAIjB4R,GAAO5X,UAAU8Z,WAAalC,GAAO5X,UAAUyF,MAC/CmS,GAAO5X,UAAU+Z,KAAOnC,GAAO5X,UAAUkG,IAEzC8T,OAAiBpC,MC/UA,CAChBqC,KAAM,OACNC,UAAW,YACXC,QAAS,UACTC,OAAQ,SACRC,MAAO,QACPC,IAAK,MACLC,MAAO,QACPC,QAAS,UAETC,MAAO,SAASC,SACM,QAAdA,EAAK/I,MAAgC,WAAd+I,EAAK/I,MAAmC,UAAd+I,EAAK/I,yBCV/D,IAAIgJ,EAAgBX,UAAiB,sBAE/BY,EAAW1a,KAAK0a,gBACbA,GAAYA,EAAS,IAAM,0BAG9BA,EAAW1a,KAAK0a,gBACbA,GAAYA,EAASA,EAAS/U,OAAS,IAAM,4BAG7CgV,EAAU3a,KAAKyR,OAASkJ,EAAUC,UAIvCC,EAAU,CACbC,QAAS,OACTC,WAAY,WACZC,WAAY,SACZC,gBAAiB,OACjBC,YAAa,OACbC,UAAW,QAGRR,EAAY,CACfC,QAAS,EACTQ,KAAM,EACNC,MAAO,EACPC,QAAS,GAGVjT,OAAOiE,KAAKuO,GAASpO,SAAQ,SAASiB,OACjC6N,EAAYV,EAAQnN,GACxBrF,OAAOmT,eAAef,EAAe/M,EAAK,CACzCU,IAAK,kBACGpO,KAAKub,IAAc,MAE3B7Q,IAAK,SAASgC,eACR6O,GAAa7O,EACXA,qECtCV,IAAI+O,EAAmB3B,UAAiBzR,OAAOC,OAAOmS,IAElDI,EAAU,CACbC,QAAS,QAGVzS,OAAOiE,KAAKuO,GAASpO,SAAQ,SAASiB,OACjC6N,EAAYV,EAAQnN,GACxBrF,OAAOmT,eAAeC,EAAkB/N,EAAK,CAC5CU,IAAK,kBACGpO,KAAKub,IAAc,MAE3B7Q,IAAK,SAASgC,eACR6O,GAAa7O,EACXA,YCdNgP,GAAgB,OAIpB,SAASC,GAAWC,EAAU9c,EAAS+c,GACf,iBAAbD,GACTC,EAAY/c,EACZA,EAAU8c,EACVA,EAAW,MACiB,mBAAZ9c,IAChB+c,EAAY/c,EACZA,EAAUgd,SAENC,UAAYH,OACZjE,SAAW7Y,GAAWgd,QACtBE,WAAaH,OACbI,IAAM,QACNC,OAAQ,OACRC,UAAY,GAIlB,IAAIL,GAAc,CACjBM,qBAAqB,GAItBT,GAAW7b,UAAU4Z,QAAU,WAC9BiC,GAAWtV,KAAKrG,KAAMA,KAAK+b,UAAW/b,KAAK2X,SAAU3X,KAAKgc,aAI3DL,GAAW7b,UAAUoG,MAAQ,WACzBlG,KAAKkc,aACHA,OAAQ,OACRG,gBAAgB,QAGtBV,GAAW7b,UAAUuc,gBACrBV,GAAW7b,UAAU2F,QAAU,SAAS6E,MACV,mBAAnBtK,KAAK+b,eACTA,UAAUzR,EAAOtK,KAAKic,aAExB3R,EAAO,MAAMA,GAIlBqR,GAAW7b,UAAU+Y,WAAa,eAE7B2B,EAAOxa,KAAKmc,UAAUtO,MACvB7N,KAAKgc,YAAYhc,KAAKgc,WAAWxB,IAGrCmB,GAAW7b,UAAUwc,eAAiB,SAAS1B,OAC1C2B,EAASvc,KAAKmc,UAAUnc,KAAKmc,UAAUxW,OAAS,GAChD6W,EAAWD,EAASA,EAAO7B,SAAW1a,KAAKic,IAC3ChB,EAAkBuB,EAASA,EAAS7W,OAAS,GAEjDiV,EAAQ6B,KAAO,KAEXzc,KAAK2X,SAAS+E,cACjB9B,EAAQzE,UAA6B,QAAjByE,EAAQnJ,KAAiBgK,GAAmBhB,IAG9DQ,GACFL,EAAQ7M,KAAOkN,EACfA,EAAgBwB,KAAO7B,GAEvBA,EAAQ7M,KAAO,KAGhByO,EAASvU,KAAK2S,GACdA,EAAQ2B,OAASA,GAAU,MAG5BZ,GAAW7b,UAAUgZ,UAAY,SAASxS,EAAMqW,OAC3C/B,EAAU,CACbnJ,KAAe,WAATnL,EAAoBsW,GAAY1C,OAAkB,UAAT5T,EAAmBsW,GAAYzC,MAAQyC,GAAYxC,IAClG9T,KAAMA,EACNqW,QAASA,EACTjC,SAAU,SAGN4B,eAAe1B,QAEfuB,UAAUlU,KAAK2S,IAGrBe,GAAW7b,UAAUG,OAAS,SAASkG,OAKlC0W,EAFAC,EAAY9c,KAAK2X,SAASyE,qBAAuBpc,KAAK2X,SAASoF,kBAI/D/c,KAAKmc,UAAUxW,QAAU3F,KAAKic,IAAItW,SAAWkX,EAAU7c,KAAKic,IAAIjc,KAAKic,IAAItW,OAAO,IAAI8L,OAASmL,GAAY7C,MAQ3G/Z,KAAKmc,UAAUxW,SACdkX,EAAU7c,KAAKmc,UAAUnc,KAAKmc,UAAUxW,OAAS,MACjDkX,EAAUA,EAAQnC,SAASmC,EAAQnC,SAAS/U,OAAS,KACtDkX,EAAQpL,OAASmL,GAAY7C,KAV3B+C,EACFD,EAAQ1W,MAAQ0W,EAAQ1W,KAAOA,GAAMoD,QAAQmS,GAAe,KAE5DmB,EAAQ1W,MAAQA,GAeb2W,IACF3W,EAAOA,EAAKoD,QAAQmS,GAAe,WAG/BY,eAAe,CACnBnW,KAAMA,EACNsL,KAAMmL,GAAY7C,SAMtB4B,GAAW7b,UAAUgC,UAAY,SAASqE,OACrC0W,EAAU7c,KAAKmc,UAAUnc,KAAKmc,UAAUxW,OAAS,MAElDkX,GAAWA,EAAQpL,OAASmL,GAAY3C,QAC1C4C,EAAQ1W,MAAQA,WAIbyU,EAAU,CACbzU,KAAMA,EACNsL,KAAMmL,GAAY3C,cAGdqC,eAAe1B,QACfuB,UAAUlU,KAAK2S,KAGrBe,GAAW7b,UAAU0Z,aAAe,eAC/BoB,EAAU,CACbF,SAAU,CAAC,CACVvU,KAAM,GACNsL,KAAMmL,GAAY7C,OAEnBtI,KAAMmL,GAAYvC,YAGdiC,eAAe1B,QACfuB,UAAUlU,KAAK2S,IAGrBe,GAAW7b,UAAUwZ,aAAeqC,GAAW7b,UAAU2Z,WAAa,gBAChE0C,UAAUtO,OAGhB8N,GAAW7b,UAAU2B,wBAA0B,SAAS6E,EAAMH,QACxDmW,eAAe,CACnBhW,KAAMA,EACNH,KAAMA,EACNsL,KAAMmL,GAAY5C,aAIpBF,OAAiB6B,GCzKbA,GAAapH,GAAMoH,WACtBqB,GAAWzI,GAAMyI,SAGlB,SAASC,GAAYrB,EAAU9c,QACzBsR,KAAKwL,EAAU9c,GAOrB,SAASoe,GAAYC,EAAMC,UACnBJ,GAASK,qBAAqBF,EAAMC,GAAO,GAEnD,SAASE,GAAcH,EAAMC,UACrBJ,GAASK,qBAAqBF,EAAMC,GAAO,EAAM,GAAG,GAE5D,SAASG,GAAMJ,EAAMC,EAAOI,UACpBR,GAASS,QACfT,GAASK,qBAAqBF,EAAMC,EAAOI,EAAS,IACnDE,OAGH,SAASC,GAAiB7S,EAAK2E,EAAM0N,EAAMC,EAAOI,OAC7CI,EAAML,GAAMJ,EAAMC,EAAOI,GAC1BI,IAAK9S,EAAI2E,GAAQmO,GAlBrBpF,GAAgB9I,SAASuN,GAAatB,IAEtCsB,GAAYnd,UAAUsQ,KAAOuL,GAmB7B,IAAIkC,GAAc,SAAStX,SACT,QAAVA,GAA6B,SAAVA,GAA8B,YAAVA,GAG/C0W,GAAYnd,UAAUoG,MAAQ,eAG5B0X,EAAKE,EAFFC,EAAO,GACVC,EAAWV,GAAcO,GAAa7d,KAAKic,KAGzC+B,IACmB,SAAlBA,EAAS1X,MACXwX,EAASE,EAAStD,SAElBqD,EAAKtM,KAAO,OACZkM,GAAiBI,EAAM,KAAM,KAAMD,GACnCH,GAAiBI,EAAM,QAAS,QAASD,IACrCF,EAAMN,GAAc,OAAQQ,MAAaF,EAAMA,EAAIjB,WAAaiB,EAAMA,EAAIK,QAAOF,EAAKjI,KAAO8H,GACjGD,GAAiBI,EAAM,cAAe,WAAYD,IAC9CF,EAAML,GAAM,UAAWO,MAAUC,EAAKG,QAAU,IAAI9Q,KAAKwQ,IAC7DD,GAAiBI,EAAM,SAAU,QAASD,GAAQ,GAElDC,EAAKI,MAAQjB,GAAY,QAASY,GAAQ5Z,KAAI,SAASka,OACtCR,EAAZS,EAAQ,UAIZV,GAAiBU,EAAO,KAAM,KAF9BD,EAAOA,EAAK1D,UAGZiD,GAAiBU,EAAO,QAAS,QAASD,IACtCR,EAAMN,GAAc,OAAQc,MAAWR,EAAMA,EAAIjB,WAAaiB,EAAMA,EAAIK,QAAOI,EAAMvI,KAAO8H,GAChGD,GAAiBU,EAAO,cAAe,UAAWD,IAC9CR,EAAML,GAAM,UAAWa,MAAQC,EAAMC,QAAU,IAAIlR,KAAKwQ,IACrDS,OAGRP,EAASR,GAAc,UAAWU,EAAStD,UAAUA,SAErDqD,EAAKtM,KAAOuM,EAAS1X,KAAK5B,OAAO,EAAG,GACpCqZ,EAAKQ,GAAK,GACVZ,GAAiBI,EAAM,QAAS,QAASD,GACzCH,GAAiBI,EAAM,OAAQ,OAAQD,GACvCH,GAAiBI,EAAM,cAAe,cAAeD,IACjDF,EAAML,GAAM,gBAAiBO,MAAUC,EAAKG,QAAU,IAAI9Q,KAAKwQ,IACnED,GAAiBI,EAAM,SAAU,iBAAkBD,GAAQ,GAE3DC,EAAKI,MAAQjB,GAAY,OAAQc,EAAStD,UAAUxW,KAAI,SAASka,OAChDR,EAAZS,EAAQ,UAIZV,GAAiBU,EAAO,KAAM,OAF9BD,EAAOA,EAAK1D,UAGZiD,GAAiBU,EAAO,QAAS,QAASD,GAC1CT,GAAiBU,EAAO,OAAQ,OAAQD,GACxCT,GAAiBU,EAAO,cAAe,cAAeD,IAClDR,EAAML,GAAM,UAAWa,MAAQC,EAAMC,QAAU,IAAIlR,KAAKwQ,IACrDS,YAILpC,IAAM8B,EACXpC,GAAW7b,UAAUuc,gBAAgBhW,KACpCrG,KAAMge,EAAW,KAAOpe,MAAM,gCAIhCka,OAAiBmD,GC7FbuB,GAAS,GACTC,GAAY,GACZC,GAA4B,oBAAfC,WAA6BA,WAAa5W,MACvD6W,IAAS,EACb,SAASxO,KACPwO,IAAS,UACLC,EAAO,mEACFtkB,EAAI,EAAGkN,EAAMoX,EAAKlZ,OAAQpL,EAAIkN,IAAOlN,EAC5CikB,GAAOjkB,GAAKskB,EAAKtkB,GACjBkkB,GAAUI,EAAKC,WAAWvkB,IAAMA,EAGlCkkB,GAAU,IAAIK,WAAW,IAAM,GAC/BL,GAAU,IAAIK,WAAW,IAAM,GAgDjC,SAASC,GAAiBC,UACjBR,GAAOQ,GAAO,GAAK,IAAQR,GAAOQ,GAAO,GAAK,IAAQR,GAAOQ,GAAO,EAAI,IAAQR,GAAa,GAANQ,GAGhG,SAASC,GAAaC,EAAO1a,EAAOwB,WAC9B4X,EACA3jB,EAAS,GACJM,EAAIiK,EAAOjK,EAAIyL,EAAKzL,GAAK,EAChCqjB,GAAOsB,EAAM3kB,IAAM,KAAO2kB,EAAM3kB,EAAI,IAAM,GAAM2kB,EAAM3kB,EAAI,GAC1DN,EAAOgO,KAAK8W,GAAgBnB,WAEvB3jB,EAAOoP,KAAK,IAGd,SAAS8V,GAAeD,OAIzBtB,EAHCgB,IACHxO,aAGE3I,EAAMyX,EAAMvZ,OACZyZ,EAAa3X,EAAM,EACnBxN,EAAS,GACTolB,EAAQ,GAIH9kB,EAAI,EAAG+kB,EAAO7X,EAAM2X,EAAY7kB,EAAI+kB,EAAM/kB,GAH9B,MAInB8kB,EAAMpX,KAAKgX,GAAYC,EAAO3kB,EAAIA,EAJf,MAIqC+kB,EAAOA,EAAQ/kB,EAJpD,eAQF,IAAf6kB,GACFxB,EAAMsB,EAAMzX,EAAM,GAClBxN,GAAUukB,GAAOZ,GAAO,GACxB3jB,GAAUukB,GAAQZ,GAAO,EAAK,IAC9B3jB,GAAU,MACc,IAAfmlB,IACTxB,GAAOsB,EAAMzX,EAAM,IAAM,GAAMyX,EAAMzX,EAAM,GAC3CxN,GAAUukB,GAAOZ,GAAO,IACxB3jB,GAAUukB,GAAQZ,GAAO,EAAK,IAC9B3jB,GAAUukB,GAAQZ,GAAO,EAAK,IAC9B3jB,GAAU,KAGZolB,EAAMpX,KAAKhO,GAEJolB,EAAMhW,KAAK,IC3Gb,SAASkW,GAAMC,EAAQ1a,EAAQ2a,EAAMC,EAAMC,OAC5C7Y,EAAG8K,EACHgO,EAAgB,EAATD,EAAaD,EAAO,EAC3BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACTxlB,EAAIklB,EAAQE,EAAS,EAAK,EAC1BhR,EAAI8Q,GAAQ,EAAI,EAChBO,EAAIR,EAAO1a,EAASvK,OAExBA,GAAKoU,EAEL7H,EAAIkZ,GAAM,IAAOD,GAAU,EAC3BC,KAAQD,EACRA,GAASH,EACFG,EAAQ,EAAGjZ,EAAQ,IAAJA,EAAU0Y,EAAO1a,EAASvK,GAAIA,GAAKoU,EAAGoR,GAAS,OAErEnO,EAAI9K,GAAM,IAAOiZ,GAAU,EAC3BjZ,KAAQiZ,EACRA,GAASL,EACFK,EAAQ,EAAGnO,EAAQ,IAAJA,EAAU4N,EAAO1a,EAASvK,GAAIA,GAAKoU,EAAGoR,GAAS,MAE3D,IAANjZ,EACFA,EAAI,EAAIgZ,MACH,CAAA,GAAIhZ,IAAM+Y,SACRjO,EAAIqO,IAAsBC,EAAAA,GAAdF,GAAK,EAAI,GAE5BpO,GAAQuO,KAAKC,IAAI,EAAGV,GACpB5Y,GAAQgZ,SAEFE,GAAK,EAAI,GAAKpO,EAAIuO,KAAKC,IAAI,EAAGtZ,EAAI4Y,GAGrC,SAASna,GAAOia,EAAQjZ,EAAOzB,EAAQ2a,EAAMC,EAAMC,OACpD7Y,EAAG8K,EAAGxT,EACNwhB,EAAgB,EAATD,EAAaD,EAAO,EAC3BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBQ,EAAe,KAATX,EAAcS,KAAKC,IAAI,GAAI,IAAMD,KAAKC,IAAI,GAAI,IAAM,EAC1D7lB,EAAIklB,EAAO,EAAKE,EAAS,EACzBhR,EAAI8Q,EAAO,GAAK,EAChBO,EAAIzZ,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,MAE1DA,EAAQ4Z,KAAKG,IAAI/Z,GAEbgN,MAAMhN,IAAUA,IAAU2Z,EAAAA,GAC5BtO,EAAI2B,MAAMhN,GAAS,EAAI,EACvBO,EAAI+Y,IAEJ/Y,EAAIqZ,KAAKI,MAAMJ,KAAKxQ,IAAIpJ,GAAS4Z,KAAKK,KAClCja,GAASnI,EAAI+hB,KAAKC,IAAI,GAAItZ,IAAM,IAClCA,IACA1I,GAAK,IAGLmI,GADEO,EAAIgZ,GAAS,EACNO,EAAKjiB,EAELiiB,EAAKF,KAAKC,IAAI,EAAG,EAAIN,IAEpB1hB,GAAK,IACf0I,IACA1I,GAAK,GAGH0I,EAAIgZ,GAASD,GACfjO,EAAI,EACJ9K,EAAI+Y,GACK/Y,EAAIgZ,GAAS,GACtBlO,GAAKrL,EAAQnI,EAAI,GAAK+hB,KAAKC,IAAI,EAAGV,GAClC5Y,GAAQgZ,IAERlO,EAAIrL,EAAQ4Z,KAAKC,IAAI,EAAGN,EAAQ,GAAKK,KAAKC,IAAI,EAAGV,GACjD5Y,EAAI,IAID4Y,GAAQ,EAAGF,EAAO1a,EAASvK,GAAS,IAAJqX,EAAUrX,GAAKoU,EAAGiD,GAAK,IAAK8N,GAAQ,OAE3E5Y,EAAKA,GAAK4Y,EAAQ9N,EAClBgO,GAAQF,EACDE,EAAO,EAAGJ,EAAO1a,EAASvK,GAAS,IAAJuM,EAAUvM,GAAKoU,EAAG7H,GAAK,IAAK8Y,GAAQ,GAE1EJ,EAAO1a,EAASvK,EAAIoU,IAAU,IAAJqR,ECnF5B,IAAI9S,GAAW,GAAGA,YAEHnF,MAAMuF,SAAW,SAAU0F,SACX,kBAAtB9F,GAAS7G,KAAK2M,ICoCvBlD,GAAO2Q,yBAAqDlQ,IAA/BxJ,OAAO0Z,qBAChC1Z,OAAO0Z,oBAMX,IAAIC,GAAcC,KAmBlB,SAASA,YACA7Q,GAAO2Q,oBACV,WACA,WAGN,SAASG,GAActQ,EAAM3K,MACvBgb,KAAehb,QACX,IAAIkb,WAAW,qCAEnB/Q,GAAO2Q,qBAETnQ,EAAO,IAAIqO,WAAWhZ,IACjBwQ,UAAYrG,GAAOhQ,WAGX,OAATwQ,IACFA,EAAO,IAAIR,GAAOnK,IAEpB2K,EAAK3K,OAASA,GAGT2K,EAaF,SAASR,GAAQtB,EAAKsS,EAAkBnb,QACxCmK,GAAO2Q,qBAAyBzgB,gBAAgB8P,WAC5C,IAAIA,GAAOtB,EAAKsS,EAAkBnb,MAIxB,iBAAR6I,EAAkB,IACK,iBAArBsS,QACH,IAAIlhB,MACR,4EAGGmhB,GAAY/gB,KAAMwO,UAEpBwS,GAAKhhB,KAAMwO,EAAKsS,EAAkBnb,GAW3C,SAASqb,GAAM1Q,EAAM/J,EAAOua,EAAkBnb,MACvB,iBAAVY,QACH,IAAIwL,UAAU,+CAGK,oBAAhBkP,aAA+B1a,aAAiB0a,YA6H7D,SAA0B3Q,EAAMnI,EAAO+Y,EAAYvb,MACjDwC,EAAMgZ,WAEFD,EAAa,GAAK/Y,EAAMgZ,WAAaD,QACjC,IAAIL,WAAW,gCAGnB1Y,EAAMgZ,WAAaD,GAAcvb,GAAU,SACvC,IAAIkb,WAAW,6BAIrB1Y,OADiBoI,IAAf2Q,QAAuC3Q,IAAX5K,EACtB,IAAIgZ,WAAWxW,QACHoI,IAAX5K,EACD,IAAIgZ,WAAWxW,EAAO+Y,GAEtB,IAAIvC,WAAWxW,EAAO+Y,EAAYvb,GAGxCmK,GAAO2Q,qBAETnQ,EAAOnI,GACFgO,UAAYrG,GAAOhQ,UAGxBwQ,EAAO8Q,GAAc9Q,EAAMnI,UAEtBmI,EAvJE+Q,CAAgB/Q,EAAM/J,EAAOua,EAAkBnb,GAGnC,iBAAVY,EAwFb,SAAqB+J,EAAMgR,EAAQC,GACT,iBAAbA,GAAsC,KAAbA,IAClCA,EAAW,YAGRzR,GAAO0R,WAAWD,SACf,IAAIxP,UAAU,kDAGlBpM,EAAwC,EAA/Bwb,GAAWG,EAAQC,GAG5BE,GAFJnR,EAAOsQ,GAAatQ,EAAM3K,IAERJ,MAAM+b,EAAQC,GAE5BE,IAAW9b,IAIb2K,EAAOA,EAAKoR,MAAM,EAAGD,WAGhBnR,EA5GEqR,CAAWrR,EAAM/J,EAAOua,GAsJnC,SAAqBxQ,EAAMxF,MACrB8W,GAAiB9W,GAAM,KACrBrD,EAA4B,EAAtBoa,GAAQ/W,EAAInF,eAGF,KAFpB2K,EAAOsQ,GAAatQ,EAAM7I,IAEjB9B,QAITmF,EAAImI,KAAK3C,EAAM,EAAG,EAAG7I,GAHZ6I,KAOPxF,EAAK,IACqB,oBAAhBmW,aACRnW,EAAI0U,kBAAkByB,aAAgB,WAAYnW,QAC1B,iBAAfA,EAAInF,SAg9CL+G,EAh9CkC5B,EAAInF,SAi9CrC+G,EAh9CFkU,GAAatQ,EAAM,GAErB8Q,GAAc9Q,EAAMxF,MAGZ,WAAbA,EAAI2G,MAAqBnE,GAAQxC,EAAI3E,aAChCib,GAAc9Q,EAAMxF,EAAI3E,MAy8CrC,IAAgBuG,QAr8CR,IAAIqF,UAAU,sFA9Kb+P,CAAWxR,EAAM/J,GA4B1B,SAASwb,GAAYC,MACC,iBAATA,QACH,IAAIjQ,UAAU,oCACf,GAAIiQ,EAAO,QACV,IAAInB,WAAW,wCA4BzB,SAASE,GAAazQ,EAAM0R,MAC1BD,GAAWC,GACX1R,EAAOsQ,GAAatQ,EAAM0R,EAAO,EAAI,EAAoB,EAAhBH,GAAQG,KAC5ClS,GAAO2Q,wBACL,IAAIlmB,EAAI,EAAGA,EAAIynB,IAAQznB,EAC1B+V,EAAK/V,GAAK,SAGP+V,EAwCT,SAAS8Q,GAAe9Q,EAAMnI,OACxBxC,EAASwC,EAAMxC,OAAS,EAAI,EAA4B,EAAxBkc,GAAQ1Z,EAAMxC,QAClD2K,EAAOsQ,GAAatQ,EAAM3K,OACrB,IAAIpL,EAAI,EAAGA,EAAIoL,EAAQpL,GAAK,EAC/B+V,EAAK/V,GAAgB,IAAX4N,EAAM5N,UAEX+V,EA+DT,SAASuR,GAASlc,MAGZA,GAAUgb,WACN,IAAIE,WAAW,0DACaF,KAAazT,SAAS,IAAM,iBAEhD,EAATvH,EAUT,SAASic,GAAkBK,WACV,MAALA,IAAaA,EAAEC,WA2E3B,SAASf,GAAYG,EAAQC,MACvBK,GAAiBN,UACZA,EAAO3b,UAEW,oBAAhBsb,aAA6D,mBAAvBA,YAAYkB,SACxDlB,YAAYkB,OAAOb,IAAWA,aAAkBL,oBAC5CK,EAAOH,WAEM,iBAAXG,IACTA,EAAS,GAAKA,OAGZ7Z,EAAM6Z,EAAO3b,UACL,IAAR8B,EAAW,OAAO,UAGlB2a,GAAc,WAERb,OACD,YACA,aACA,gBACI9Z,MACJ,WACA,kBACA8I,SACI8R,GAAYf,GAAQ3b,WACxB,WACA,YACA,cACA,kBACU,EAAN8B,MACJ,aACIA,IAAQ,MACZ,gBACI6a,GAAchB,GAAQ3b,kBAEzByc,EAAa,OAAOC,GAAYf,GAAQ3b,OAC5C4b,GAAY,GAAKA,GAAU9iB,cAC3B2jB,GAAc,GAMtB,SAASG,GAAchB,EAAU/c,EAAOwB,OAClCoc,GAAc,WASJ7R,IAAV/L,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQxE,KAAK2F,aACR,YAGG4K,IAARvK,GAAqBA,EAAMhG,KAAK2F,UAClCK,EAAMhG,KAAK2F,QAGTK,GAAO,QACF,OAITA,KAAS,KACTxB,KAAW,SAGF,OAGJ+c,IAAUA,EAAW,iBAGhBA,OACD,aACIiB,GAASxiB,KAAMwE,EAAOwB,OAE1B,WACA,eACIyc,GAAUziB,KAAMwE,EAAOwB,OAE3B,eACI0c,GAAW1iB,KAAMwE,EAAOwB,OAE5B,aACA,gBACI2c,GAAY3iB,KAAMwE,EAAOwB,OAE7B,gBACI4c,GAAY5iB,KAAMwE,EAAOwB,OAE7B,WACA,YACA,cACA,kBACI6c,GAAa7iB,KAAMwE,EAAOwB,cAG7Boc,EAAa,MAAM,IAAIrQ,UAAU,qBAAuBwP,GAC5DA,GAAYA,EAAW,IAAI9iB,cAC3B2jB,GAAc,GAStB,SAASU,GAAMb,EAAGnT,EAAG8C,OACfrX,EAAI0nB,EAAEnT,GACVmT,EAAEnT,GAAKmT,EAAErQ,GACTqQ,EAAErQ,GAAKrX,EAmIT,SAASwoB,GAAsBvD,EAAQ9S,EAAKwU,EAAYK,EAAUyB,MAE1C,IAAlBxD,EAAO7Z,OAAc,OAAQ,KAGP,iBAAfub,GACTK,EAAWL,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAc,aACvBA,GAAc,YAEhBA,GAAcA,EACV3N,MAAM2N,KAERA,EAAa8B,EAAM,EAAKxD,EAAO7Z,OAAS,GAItCub,EAAa,IAAGA,EAAa1B,EAAO7Z,OAASub,GAC7CA,GAAc1B,EAAO7Z,OAAQ,IAC3Bqd,EAAK,OAAQ,EACZ9B,EAAa1B,EAAO7Z,OAAS,OAC7B,GAAIub,EAAa,EAAG,KACrB8B,EACC,OAAQ,EADJ9B,EAAa,KAKL,iBAARxU,IACTA,EAAMoD,GAAOkR,KAAKtU,EAAK6U,IAIrBK,GAAiBlV,UAEA,IAAfA,EAAI/G,QACE,EAEHsd,GAAazD,EAAQ9S,EAAKwU,EAAYK,EAAUyB,GAClD,GAAmB,iBAARtW,SAChBA,GAAY,IACRoD,GAAO2Q,qBACiC,mBAAjC9B,WAAW7e,UAAUiN,QAC1BiW,EACKrE,WAAW7e,UAAUiN,QAAQ1G,KAAKmZ,EAAQ9S,EAAKwU,GAE/CvC,WAAW7e,UAAUmZ,YAAY5S,KAAKmZ,EAAQ9S,EAAKwU,GAGvD+B,GAAazD,EAAQ,CAAE9S,GAAOwU,EAAYK,EAAUyB,SAGvD,IAAIjR,UAAU,wCAGtB,SAASkR,GAAcjQ,EAAKtG,EAAKwU,EAAYK,EAAUyB,OA2BjDzoB,EA1BA2oB,EAAY,EACZC,EAAYnQ,EAAIrN,OAChByd,EAAY1W,EAAI/G,eAEH4K,IAAbgR,IAEe,UADjBA,EAAWrnB,OAAOqnB,GAAU9iB,gBACY,UAAb8iB,GACV,YAAbA,GAAuC,aAAbA,GAAyB,IACjDvO,EAAIrN,OAAS,GAAK+G,EAAI/G,OAAS,SACzB,EAEVud,EAAY,EACZC,GAAa,EACbC,GAAa,EACblC,GAAc,WAIT3B,EAAM8D,EAAK9oB,UACA,IAAd2oB,EACKG,EAAI9oB,GAEJ8oB,EAAIC,aAAa/oB,EAAI2oB,MAK5BF,EAAK,KACHO,GAAc,MACbhpB,EAAI2mB,EAAY3mB,EAAI4oB,EAAW5oB,OAC9BglB,EAAKvM,EAAKzY,KAAOglB,EAAK7S,GAAqB,IAAhB6W,EAAoB,EAAIhpB,EAAIgpB,QACrC,IAAhBA,IAAmBA,EAAahpB,GAChCA,EAAIgpB,EAAa,IAAMH,EAAW,OAAOG,EAAaL,OAEtC,IAAhBK,IAAmBhpB,GAAKA,EAAIgpB,GAChCA,GAAc,WAIdrC,EAAakC,EAAYD,IAAWjC,EAAaiC,EAAYC,GAC5D7oB,EAAI2mB,EAAY3mB,GAAK,EAAGA,IAAK,SAC5BipB,GAAQ,EACHzlB,EAAI,EAAGA,EAAIqlB,EAAWrlB,OACzBwhB,EAAKvM,EAAKzY,EAAIwD,KAAOwhB,EAAK7S,EAAK3O,GAAI,CACrCylB,GAAQ,WAIRA,EAAO,OAAOjpB,SAId,EAeV,SAASkpB,GAAUJ,EAAK/B,EAAQxc,EAAQa,GACtCb,EAAS2E,OAAO3E,IAAW,MACvB4e,EAAYL,EAAI1d,OAASb,EACxBa,GAGHA,EAAS8D,OAAO9D,IACH+d,IACX/d,EAAS+d,GAJX/d,EAAS+d,MASPC,EAASrC,EAAO3b,UAChBge,EAAS,GAAM,EAAG,MAAM,IAAI5R,UAAU,sBAEtCpM,EAASge,EAAS,IACpBhe,EAASge,EAAS,OAEf,IAAIppB,EAAI,EAAGA,EAAIoL,IAAUpL,EAAG,KAC3B0K,EAASC,SAASoc,EAAO5c,OAAW,EAAJnK,EAAO,GAAI,OAC3CgZ,MAAMtO,GAAS,OAAO1K,EAC1B8oB,EAAIve,EAASvK,GAAK0K,SAEb1K,EAGT,SAASqpB,GAAWP,EAAK/B,EAAQxc,EAAQa,UAChCke,GAAWxB,GAAYf,EAAQ+B,EAAI1d,OAASb,GAASue,EAAKve,EAAQa,GAG3E,SAASme,GAAYT,EAAK/B,EAAQxc,EAAQa,UACjCke,GAq6BT,SAAuBva,WACjBya,EAAY,GACPxpB,EAAI,EAAGA,EAAI+O,EAAI3D,SAAUpL,EAEhCwpB,EAAU9b,KAAyB,IAApBqB,EAAIwV,WAAWvkB,WAEzBwpB,EA36BWC,CAAa1C,GAAS+B,EAAKve,EAAQa,GAGvD,SAASse,GAAaZ,EAAK/B,EAAQxc,EAAQa,UAClCme,GAAWT,EAAK/B,EAAQxc,EAAQa,GAGzC,SAASue,GAAab,EAAK/B,EAAQxc,EAAQa,UAClCke,GAAWvB,GAAchB,GAAS+B,EAAKve,EAAQa,GAGxD,SAASwe,GAAWd,EAAK/B,EAAQxc,EAAQa,UAChCke,GAk6BT,SAAyBva,EAAK8a,WACxBhmB,EAAGimB,EAAIC,EACPP,EAAY,GACPxpB,EAAI,EAAGA,EAAI+O,EAAI3D,WACjBye,GAAS,GAAK,KADa7pB,EAGhC6D,EAAIkL,EAAIwV,WAAWvkB,GACnB8pB,EAAKjmB,GAAK,EACVkmB,EAAKlmB,EAAI,IACT2lB,EAAU9b,KAAKqc,GACfP,EAAU9b,KAAKoc,UAGVN,EA/6BWQ,CAAejD,EAAQ+B,EAAI1d,OAASb,GAASue,EAAKve,EAAQa,GAkF9E,SAASid,GAAaS,EAAK7e,EAAOwB,UAClB,IAAVxB,GAAewB,IAAQqd,EAAI1d,OACtB6e,GAAqBnB,GAErBmB,GAAqBnB,EAAI3B,MAAMld,EAAOwB,IAIjD,SAASyc,GAAWY,EAAK7e,EAAOwB,GAC9BA,EAAMma,KAAKsE,IAAIpB,EAAI1d,OAAQK,WACvB0e,EAAM,GAENnqB,EAAIiK,EACDjK,EAAIyL,GAAK,KASR2e,EAAYC,EAAWC,EAAYC,EARrCC,EAAY1B,EAAI9oB,GAChBR,EAAY,KACZirB,EAAoBD,EAAY,IAAQ,EACvCA,EAAY,IAAQ,EACpBA,EAAY,IAAQ,EACrB,KAEAxqB,EAAIyqB,GAAoBhf,SAGlBgf,QACD,EACCD,EAAY,MACdhrB,EAAYgrB,cAGX,EAEyB,MAAV,KADlBJ,EAAatB,EAAI9oB,EAAI,OAEnBuqB,GAA6B,GAAZC,IAAqB,EAAoB,GAAbJ,GACzB,MAClB5qB,EAAY+qB,cAIb,EACHH,EAAatB,EAAI9oB,EAAI,GACrBqqB,EAAYvB,EAAI9oB,EAAI,GACQ,MAAV,IAAboqB,IAAsD,MAAV,IAAZC,KACnCE,GAA6B,GAAZC,IAAoB,IAAoB,GAAbJ,IAAsB,EAAmB,GAAZC,GACrD,OAAUE,EAAgB,OAAUA,EAAgB,SACtE/qB,EAAY+qB,cAIb,EACHH,EAAatB,EAAI9oB,EAAI,GACrBqqB,EAAYvB,EAAI9oB,EAAI,GACpBsqB,EAAaxB,EAAI9oB,EAAI,GACO,MAAV,IAAboqB,IAAsD,MAAV,IAAZC,IAAsD,MAAV,IAAbC,KAClEC,GAA6B,GAAZC,IAAoB,IAAqB,GAAbJ,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,GAClF,OAAUC,EAAgB,UAC5C/qB,EAAY+qB,GAMJ,OAAd/qB,GAGFA,EAAY,MACZirB,EAAmB,GACVjrB,EAAY,QAErBA,GAAa,MACb2qB,EAAIzc,KAAKlO,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvB2qB,EAAIzc,KAAKlO,GACTQ,GAAKyqB,SAWT,SAAgCC,OAC1Bxd,EAAMwd,EAAWtf,UACjB8B,GAJqB,YAKhBvN,OAAOC,aAAaiO,MAAMlO,OAAQ+qB,OAIvCP,EAAM,GACNnqB,EAAI,OACDA,EAAIkN,GACTid,GAAOxqB,OAAOC,aAAaiO,MACzBlO,OACA+qB,EAAWvD,MAAMnnB,EAAGA,GAdC,cAiBlBmqB,EAvBAQ,CAAsBR,GAz2B/B5U,GAAOqV,SAAW,KAGlBrV,GAAOsV,SAAW,SAAUpS,UAC1BA,EAAImD,UAAYrG,GAAOhQ,UAChBkT,GA2BTlD,GAAOkR,KAAO,SAAUza,EAAOua,EAAkBnb,UACxCqb,GAAK,KAAMza,EAAOua,EAAkBnb,IAGzCmK,GAAO2Q,sBACT3Q,GAAOhQ,UAAUqW,UAAYwI,WAAW7e,UACxCgQ,GAAOqG,UAAYwI,YAuCrB7O,GAAOuV,MAAQ,SAAUrD,EAAMsD,EAAM/D,UApBrC,SAAgBjR,EAAM0R,EAAMsD,EAAM/D,UAChCQ,GAAWC,GACPA,GAAQ,EACHpB,GAAatQ,EAAM0R,QAEfzR,IAAT+U,EAIyB,iBAAb/D,EACVX,GAAatQ,EAAM0R,GAAMsD,KAAKA,EAAM/D,GACpCX,GAAatQ,EAAM0R,GAAMsD,KAAKA,GAE7B1E,GAAatQ,EAAM0R,GAQnBqD,CAAM,KAAMrD,EAAMsD,EAAM/D,IAiBjCzR,GAAOiR,YAAc,SAAUiB,UACtBjB,GAAY,KAAMiB,IAK3BlS,GAAOyV,gBAAkB,SAAUvD,UAC1BjB,GAAY,KAAMiB,IAgH3BlS,GAAOF,SAAWA,GAKlBE,GAAO0V,QAAU,SAAkBC,EAAGxD,OAC/BL,GAAiB6D,KAAO7D,GAAiBK,SACtC,IAAIlQ,UAAU,gCAGlB0T,IAAMxD,EAAG,OAAO,UAEhBzY,EAAIic,EAAE9f,OACN+f,EAAIzD,EAAEtc,OAEDpL,EAAI,EAAGkN,EAAM0Y,KAAKsE,IAAIjb,EAAGkc,GAAInrB,EAAIkN,IAAOlN,KAC3CkrB,EAAElrB,KAAO0nB,EAAE1nB,GAAI,CACjBiP,EAAIic,EAAElrB,GACNmrB,EAAIzD,EAAE1nB,gBAKNiP,EAAIkc,GAAW,EACfA,EAAIlc,EAAU,EACX,GAGTsG,GAAO0R,WAAa,SAAqBD,UAC/BrnB,OAAOqnB,GAAU9iB,mBAClB,UACA,WACA,YACA,YACA,aACA,aACA,aACA,WACA,YACA,cACA,kBACI,iBAEA,IAIbqR,GAAOxI,OAAS,SAAiB8M,EAAMzO,OAChC2H,GAAQ8G,SACL,IAAIrC,UAAU,kDAGF,IAAhBqC,EAAKzO,cACAmK,GAAOuV,MAAM,OAGlB9qB,UACWgW,IAAX5K,MACFA,EAAS,EACJpL,EAAI,EAAGA,EAAI6Z,EAAKzO,SAAUpL,EAC7BoL,GAAUyO,EAAK7Z,GAAGoL,WAIlB6Z,EAAS1P,GAAOiR,YAAYpb,GAC5BqT,EAAM,MACLze,EAAI,EAAGA,EAAI6Z,EAAKzO,SAAUpL,EAAG,KAC5B8oB,EAAMjP,EAAK7Z,OACVqnB,GAAiByB,SACd,IAAItR,UAAU,+CAEtBsR,EAAIpQ,KAAKuM,EAAQxG,GACjBA,GAAOqK,EAAI1d,cAEN6Z,GA8CT1P,GAAOqR,WAAaA,GA0EpBrR,GAAOhQ,UAAUoiB,WAAY,EAQ7BpS,GAAOhQ,UAAU6lB,OAAS,eACpBle,EAAMzH,KAAK2F,UACX8B,EAAM,GAAM,QACR,IAAIoZ,WAAW,iDAElB,IAAItmB,EAAI,EAAGA,EAAIkN,EAAKlN,GAAK,EAC5BuoB,GAAK9iB,KAAMzF,EAAGA,EAAI,UAEbyF,MAGT8P,GAAOhQ,UAAU8lB,OAAS,eACpBne,EAAMzH,KAAK2F,UACX8B,EAAM,GAAM,QACR,IAAIoZ,WAAW,iDAElB,IAAItmB,EAAI,EAAGA,EAAIkN,EAAKlN,GAAK,EAC5BuoB,GAAK9iB,KAAMzF,EAAGA,EAAI,GAClBuoB,GAAK9iB,KAAMzF,EAAI,EAAGA,EAAI,UAEjByF,MAGT8P,GAAOhQ,UAAU+lB,OAAS,eACpBpe,EAAMzH,KAAK2F,UACX8B,EAAM,GAAM,QACR,IAAIoZ,WAAW,iDAElB,IAAItmB,EAAI,EAAGA,EAAIkN,EAAKlN,GAAK,EAC5BuoB,GAAK9iB,KAAMzF,EAAGA,EAAI,GAClBuoB,GAAK9iB,KAAMzF,EAAI,EAAGA,EAAI,GACtBuoB,GAAK9iB,KAAMzF,EAAI,EAAGA,EAAI,GACtBuoB,GAAK9iB,KAAMzF,EAAI,EAAGA,EAAI,UAEjByF,MAGT8P,GAAOhQ,UAAUoN,SAAW,eACtBvH,EAAuB,EAAd3F,KAAK2F,cACH,IAAXA,EAAqB,GACA,IAArBqC,UAAUrC,OAAqB8c,GAAUziB,KAAM,EAAG2F,GAC/C4c,GAAana,MAAMpI,KAAMgI,YAGlC8H,GAAOhQ,UAAUgmB,OAAS,SAAiB7D,OACpCL,GAAiBK,GAAI,MAAM,IAAIlQ,UAAU,oCAC1C/R,OAASiiB,GACsB,IAA5BnS,GAAO0V,QAAQxlB,KAAMiiB,IAG9BnS,GAAOhQ,UAAUsJ,QAAU,eACrBE,EAAM,UAENtJ,KAAK2F,OAAS,IAChB2D,EAAMtJ,KAAKkN,SAAS,MAAO,EA9jBA,IA8jBQS,MAAM,SAAStE,KAAK,KACnDrJ,KAAK2F,OA/jBkB,KA+jBJ2D,GAAO,UAEzB,WAAaA,EAAM,KAG5BwG,GAAOhQ,UAAU0lB,QAAU,SAAkBhU,EAAQhN,EAAOwB,EAAK+f,EAAWC,OACrEpE,GAAiBpQ,SACd,IAAIO,UAAU,qCAGRxB,IAAV/L,IACFA,EAAQ,QAEE+L,IAARvK,IACFA,EAAMwL,EAASA,EAAO7L,OAAS,QAEf4K,IAAdwV,IACFA,EAAY,QAEExV,IAAZyV,IACFA,EAAUhmB,KAAK2F,QAGbnB,EAAQ,GAAKwB,EAAMwL,EAAO7L,QAAUogB,EAAY,GAAKC,EAAUhmB,KAAK2F,aAChE,IAAIkb,WAAW,yBAGnBkF,GAAaC,GAAWxhB,GAASwB,SAC5B,KAEL+f,GAAaC,SACP,KAENxhB,GAASwB,SACJ,KAQLhG,OAASwR,EAAQ,OAAO,UAExBhI,GAJJwc,KAAa,IADbD,KAAe,GAMXL,GAPJ1f,KAAS,IADTxB,KAAW,GASPiD,EAAM0Y,KAAKsE,IAAIjb,EAAGkc,GAElBO,EAAWjmB,KAAK0hB,MAAMqE,EAAWC,GACjCE,EAAa1U,EAAOkQ,MAAMld,EAAOwB,GAE5BzL,EAAI,EAAGA,EAAIkN,IAAOlN,KACrB0rB,EAAS1rB,KAAO2rB,EAAW3rB,GAAI,CACjCiP,EAAIyc,EAAS1rB,GACbmrB,EAAIQ,EAAW3rB,gBAKfiP,EAAIkc,GAAW,EACfA,EAAIlc,EAAU,EACX,GA6HTsG,GAAOhQ,UAAUqmB,SAAW,SAAmBzZ,EAAKwU,EAAYK,UACV,IAA7CvhB,KAAK+M,QAAQL,EAAKwU,EAAYK,IAGvCzR,GAAOhQ,UAAUiN,QAAU,SAAkBL,EAAKwU,EAAYK,UACrDwB,GAAqB/iB,KAAM0M,EAAKwU,EAAYK,GAAU,IAG/DzR,GAAOhQ,UAAUmZ,YAAc,SAAsBvM,EAAKwU,EAAYK,UAC7DwB,GAAqB/iB,KAAM0M,EAAKwU,EAAYK,GAAU,IAkD/DzR,GAAOhQ,UAAUyF,MAAQ,SAAgB+b,EAAQxc,EAAQa,EAAQ4b,WAEhDhR,IAAXzL,EACFyc,EAAW,OACX5b,EAAS3F,KAAK2F,OACdb,EAAS,OAEJ,QAAeyL,IAAX5K,GAA0C,iBAAXb,EACxCyc,EAAWzc,EACXa,EAAS3F,KAAK2F,OACdb,EAAS,MAEJ,CAAA,IAAIshB,SAASthB,SAWZ,IAAIlF,MACR,2EAXFkF,GAAkB,EACdshB,SAASzgB,IACXA,GAAkB,OACD4K,IAAbgR,IAAwBA,EAAW,UAEvCA,EAAW5b,EACXA,OAAS4K,OASTmT,EAAY1jB,KAAK2F,OAASb,WACfyL,IAAX5K,GAAwBA,EAAS+d,KAAW/d,EAAS+d,GAEpDpC,EAAO3b,OAAS,IAAMA,EAAS,GAAKb,EAAS,IAAOA,EAAS9E,KAAK2F,aAC/D,IAAIkb,WAAW,0CAGlBU,IAAUA,EAAW,gBAEtBa,GAAc,WAERb,OACD,aACIkC,GAASzjB,KAAMshB,EAAQxc,EAAQa,OAEnC,WACA,eACIie,GAAU5jB,KAAMshB,EAAQxc,EAAQa,OAEpC,eACIme,GAAW9jB,KAAMshB,EAAQxc,EAAQa,OAErC,aACA,gBACIse,GAAYjkB,KAAMshB,EAAQxc,EAAQa,OAEtC,gBAEIue,GAAYlkB,KAAMshB,EAAQxc,EAAQa,OAEtC,WACA,YACA,cACA,kBACIwe,GAAUnkB,KAAMshB,EAAQxc,EAAQa,cAGnCyc,EAAa,MAAM,IAAIrQ,UAAU,qBAAuBwP,GAC5DA,GAAY,GAAKA,GAAU9iB,cAC3B2jB,GAAc,IAKtBtS,GAAOhQ,UAAUumB,OAAS,iBACjB,CACL5U,KAAM,SACNtL,KAAM4B,MAAMjI,UAAU4hB,MAAMrb,KAAKrG,KAAKsmB,MAAQtmB,KAAM,KA4GxD,SAAS0iB,GAAYW,EAAK7e,EAAOwB,OAC3BiG,EAAM,GACVjG,EAAMma,KAAKsE,IAAIpB,EAAI1d,OAAQK,OAEtB,IAAIzL,EAAIiK,EAAOjK,EAAIyL,IAAOzL,EAC7B0R,GAAO/R,OAAOC,aAAsB,IAATkpB,EAAI9oB,WAE1B0R,EAGT,SAAS0W,GAAaU,EAAK7e,EAAOwB,OAC5BiG,EAAM,GACVjG,EAAMma,KAAKsE,IAAIpB,EAAI1d,OAAQK,OAEtB,IAAIzL,EAAIiK,EAAOjK,EAAIyL,IAAOzL,EAC7B0R,GAAO/R,OAAOC,aAAakpB,EAAI9oB,WAE1B0R,EAGT,SAASuW,GAAUa,EAAK7e,EAAOwB,OACzByB,EAAM4b,EAAI1d,SAETnB,GAASA,EAAQ,KAAGA,EAAQ,KAC5BwB,GAAOA,EAAM,GAAKA,EAAMyB,KAAKzB,EAAMyB,WAEpC8e,EAAM,GACDhsB,EAAIiK,EAAOjK,EAAIyL,IAAOzL,EAC7BgsB,GAAOC,GAAMnD,EAAI9oB,WAEZgsB,EAGT,SAAS1D,GAAcQ,EAAK7e,EAAOwB,WAC7BygB,EAAQpD,EAAI3B,MAAMld,EAAOwB,GACzB0e,EAAM,GACDnqB,EAAI,EAAGA,EAAIksB,EAAM9gB,OAAQpL,GAAK,EACrCmqB,GAAOxqB,OAAOC,aAAassB,EAAMlsB,GAAoB,IAAfksB,EAAMlsB,EAAI,WAE3CmqB,EA0CT,SAASgC,GAAa5hB,EAAQ6hB,EAAKhhB,MAC5Bb,EAAS,GAAO,GAAKA,EAAS,EAAG,MAAM,IAAI+b,WAAW,yBACvD/b,EAAS6hB,EAAMhhB,EAAQ,MAAM,IAAIkb,WAAW,yCA+JlD,SAAS+F,GAAUvD,EAAK9c,EAAOzB,EAAQ6hB,EAAKE,EAAKpC,OAC1C7C,GAAiByB,GAAM,MAAM,IAAItR,UAAU,kDAC5CxL,EAAQsgB,GAAOtgB,EAAQke,EAAK,MAAM,IAAI5D,WAAW,wCACjD/b,EAAS6hB,EAAMtD,EAAI1d,OAAQ,MAAM,IAAIkb,WAAW,sBAkDtD,SAASiG,GAAmBzD,EAAK9c,EAAOzB,EAAQiiB,GAC1CxgB,EAAQ,IAAGA,EAAQ,MAASA,EAAQ,OACnC,IAAIhM,EAAI,EAAGwD,EAAIoiB,KAAKsE,IAAIpB,EAAI1d,OAASb,EAAQ,GAAIvK,EAAIwD,IAAKxD,EAC7D8oB,EAAIve,EAASvK,IAAMgM,EAAS,KAAS,GAAKwgB,EAAexsB,EAAI,EAAIA,MAClC,GAA5BwsB,EAAexsB,EAAI,EAAIA,GA8B9B,SAASysB,GAAmB3D,EAAK9c,EAAOzB,EAAQiiB,GAC1CxgB,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,OACvC,IAAIhM,EAAI,EAAGwD,EAAIoiB,KAAKsE,IAAIpB,EAAI1d,OAASb,EAAQ,GAAIvK,EAAIwD,IAAKxD,EAC7D8oB,EAAIve,EAASvK,GAAMgM,IAAuC,GAA5BwgB,EAAexsB,EAAI,EAAIA,GAAU,IAmJnE,SAAS0sB,GAAc5D,EAAK9c,EAAOzB,EAAQ6hB,EAAKE,EAAKpC,MAC/C3f,EAAS6hB,EAAMtD,EAAI1d,OAAQ,MAAM,IAAIkb,WAAW,yBAChD/b,EAAS,EAAG,MAAM,IAAI+b,WAAW,sBAGvC,SAASqG,GAAY7D,EAAK9c,EAAOzB,EAAQiiB,EAAcI,UAChDA,GACHF,GAAa5D,EAAK9c,EAAOzB,EAAQ,GAEnCsiB,GAAc/D,EAAK9c,EAAOzB,EAAQiiB,EAAc,GAAI,GAC7CjiB,EAAS,EAWlB,SAASuiB,GAAahE,EAAK9c,EAAOzB,EAAQiiB,EAAcI,UACjDA,GACHF,GAAa5D,EAAK9c,EAAOzB,EAAQ,GAEnCsiB,GAAc/D,EAAK9c,EAAOzB,EAAQiiB,EAAc,GAAI,GAC7CjiB,EAAS,EA/clBgL,GAAOhQ,UAAU4hB,MAAQ,SAAgBld,EAAOwB,OAqB1CshB,EApBA7f,EAAMzH,KAAK2F,WACfnB,IAAUA,GAGE,GACVA,GAASiD,GACG,IAAGjD,EAAQ,GACdA,EAAQiD,IACjBjD,EAAQiD,IANVzB,OAAcuK,IAARvK,EAAoByB,IAAQzB,GASxB,GACRA,GAAOyB,GACG,IAAGzB,EAAM,GACVA,EAAMyB,IACfzB,EAAMyB,GAGJzB,EAAMxB,IAAOwB,EAAMxB,GAGnBsL,GAAO2Q,qBACT6G,EAAStnB,KAAKunB,SAAS/iB,EAAOwB,IACvBmQ,UAAYrG,GAAOhQ,cACrB,KACD0nB,EAAWxhB,EAAMxB,EACrB8iB,EAAS,IAAIxX,GAAO0X,OAAUjX,OACzB,IAAIhW,EAAI,EAAGA,EAAIitB,IAAYjtB,EAC9B+sB,EAAO/sB,GAAKyF,KAAKzF,EAAIiK,UAIlB8iB,GAWTxX,GAAOhQ,UAAU2nB,WAAa,SAAqB3iB,EAAQqc,EAAYgG,GACrEriB,GAAkB,EAClBqc,GAA0B,EACrBgG,GAAUT,GAAY5hB,EAAQqc,EAAYnhB,KAAK2F,gBAEhD+G,EAAM1M,KAAK8E,GACX4iB,EAAM,EACNntB,EAAI,IACCA,EAAI4mB,IAAeuG,GAAO,MACjChb,GAAO1M,KAAK8E,EAASvK,GAAKmtB,SAGrBhb,GAGToD,GAAOhQ,UAAU6nB,WAAa,SAAqB7iB,EAAQqc,EAAYgG,GACrEriB,GAAkB,EAClBqc,GAA0B,EACrBgG,GACHT,GAAY5hB,EAAQqc,EAAYnhB,KAAK2F,gBAGnC+G,EAAM1M,KAAK8E,IAAWqc,GACtBuG,EAAM,EACHvG,EAAa,IAAMuG,GAAO,MAC/Bhb,GAAO1M,KAAK8E,IAAWqc,GAAcuG,SAGhChb,GAGToD,GAAOhQ,UAAU8nB,UAAY,SAAoB9iB,EAAQqiB,UAClDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QACpC3F,KAAK8E,IAGdgL,GAAOhQ,UAAU+nB,aAAe,SAAuB/iB,EAAQqiB,UACxDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QACpC3F,KAAK8E,GAAW9E,KAAK8E,EAAS,IAAM,GAG7CgL,GAAOhQ,UAAUwjB,aAAe,SAAuBxe,EAAQqiB,UACxDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QACnC3F,KAAK8E,IAAW,EAAK9E,KAAK8E,EAAS,IAG7CgL,GAAOhQ,UAAUgoB,aAAe,SAAuBhjB,EAAQqiB,UACxDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,SAElC3F,KAAK8E,GACT9E,KAAK8E,EAAS,IAAM,EACpB9E,KAAK8E,EAAS,IAAM,IACD,SAAnB9E,KAAK8E,EAAS,IAGrBgL,GAAOhQ,UAAUioB,aAAe,SAAuBjjB,EAAQqiB,UACxDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QAEpB,SAAf3F,KAAK8E,IACT9E,KAAK8E,EAAS,IAAM,GACrB9E,KAAK8E,EAAS,IAAM,EACrB9E,KAAK8E,EAAS,KAGlBgL,GAAOhQ,UAAUkoB,UAAY,SAAoBljB,EAAQqc,EAAYgG,GACnEriB,GAAkB,EAClBqc,GAA0B,EACrBgG,GAAUT,GAAY5hB,EAAQqc,EAAYnhB,KAAK2F,gBAEhD+G,EAAM1M,KAAK8E,GACX4iB,EAAM,EACNntB,EAAI,IACCA,EAAI4mB,IAAeuG,GAAO,MACjChb,GAAO1M,KAAK8E,EAASvK,GAAKmtB,SAIxBhb,IAFJgb,GAAO,OAEShb,GAAOyT,KAAKC,IAAI,EAAG,EAAIe,IAEhCzU,GAGToD,GAAOhQ,UAAUmoB,UAAY,SAAoBnjB,EAAQqc,EAAYgG,GACnEriB,GAAkB,EAClBqc,GAA0B,EACrBgG,GAAUT,GAAY5hB,EAAQqc,EAAYnhB,KAAK2F,gBAEhDpL,EAAI4mB,EACJuG,EAAM,EACNhb,EAAM1M,KAAK8E,IAAWvK,GACnBA,EAAI,IAAMmtB,GAAO,MACtBhb,GAAO1M,KAAK8E,IAAWvK,GAAKmtB,SAI1Bhb,IAFJgb,GAAO,OAEShb,GAAOyT,KAAKC,IAAI,EAAG,EAAIe,IAEhCzU,GAGToD,GAAOhQ,UAAUooB,SAAW,SAAmBpjB,EAAQqiB,UAChDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QACtB,IAAf3F,KAAK8E,IAC0B,GAA5B,IAAO9E,KAAK8E,GAAU,GADK9E,KAAK8E,IAI3CgL,GAAOhQ,UAAUqoB,YAAc,SAAsBrjB,EAAQqiB,GACtDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,YACvC+G,EAAM1M,KAAK8E,GAAW9E,KAAK8E,EAAS,IAAM,SAChC,MAAN4H,EAAsB,WAANA,EAAmBA,GAG7CoD,GAAOhQ,UAAUsoB,YAAc,SAAsBtjB,EAAQqiB,GACtDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,YACvC+G,EAAM1M,KAAK8E,EAAS,GAAM9E,KAAK8E,IAAW,SAChC,MAAN4H,EAAsB,WAANA,EAAmBA,GAG7CoD,GAAOhQ,UAAUuoB,YAAc,SAAsBvjB,EAAQqiB,UACtDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QAEnC3F,KAAK8E,GACV9E,KAAK8E,EAAS,IAAM,EACpB9E,KAAK8E,EAAS,IAAM,GACpB9E,KAAK8E,EAAS,IAAM,IAGzBgL,GAAOhQ,UAAUwoB,YAAc,SAAsBxjB,EAAQqiB,UACtDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QAEnC3F,KAAK8E,IAAW,GACrB9E,KAAK8E,EAAS,IAAM,GACpB9E,KAAK8E,EAAS,IAAM,EACpB9E,KAAK8E,EAAS,IAGnBgL,GAAOhQ,UAAUyoB,YAAc,SAAsBzjB,EAAQqiB,UACtDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QACpCyhB,GAAapnB,KAAM8E,GAAQ,EAAM,GAAI,IAG9CgL,GAAOhQ,UAAU0oB,YAAc,SAAsB1jB,EAAQqiB,UACtDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QACpCyhB,GAAapnB,KAAM8E,GAAQ,EAAO,GAAI,IAG/CgL,GAAOhQ,UAAU2oB,aAAe,SAAuB3jB,EAAQqiB,UACxDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QACpCyhB,GAAapnB,KAAM8E,GAAQ,EAAM,GAAI,IAG9CgL,GAAOhQ,UAAU4oB,aAAe,SAAuB5jB,EAAQqiB,UACxDA,GAAUT,GAAY5hB,EAAQ,EAAG9E,KAAK2F,QACpCyhB,GAAapnB,KAAM8E,GAAQ,EAAO,GAAI,IAS/CgL,GAAOhQ,UAAU6oB,YAAc,SAAsBpiB,EAAOzB,EAAQqc,EAAYgG,IAC9E5gB,GAASA,EACTzB,GAAkB,EAClBqc,GAA0B,EACrBgG,IAEHP,GAAS5mB,KAAMuG,EAAOzB,EAAQqc,EADfhB,KAAKC,IAAI,EAAG,EAAIe,GAAc,EACO,OAGlDuG,EAAM,EACNntB,EAAI,WACHuK,GAAkB,IAARyB,IACNhM,EAAI4mB,IAAeuG,GAAO,WAC5B5iB,EAASvK,GAAMgM,EAAQmhB,EAAO,WAG9B5iB,EAASqc,GAGlBrR,GAAOhQ,UAAU8oB,YAAc,SAAsBriB,EAAOzB,EAAQqc,EAAYgG,IAC9E5gB,GAASA,EACTzB,GAAkB,EAClBqc,GAA0B,EACrBgG,IAEHP,GAAS5mB,KAAMuG,EAAOzB,EAAQqc,EADfhB,KAAKC,IAAI,EAAG,EAAIe,GAAc,EACO,OAGlD5mB,EAAI4mB,EAAa,EACjBuG,EAAM,WACL5iB,EAASvK,GAAa,IAARgM,IACVhM,GAAK,IAAMmtB,GAAO,WACpB5iB,EAASvK,GAAMgM,EAAQmhB,EAAO,WAG9B5iB,EAASqc,GAGlBrR,GAAOhQ,UAAU+oB,WAAa,SAAqBtiB,EAAOzB,EAAQqiB,UAChE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,IAAM,GACjDgL,GAAO2Q,sBAAqBla,EAAQ4Z,KAAKI,MAAMha,SAC/CzB,GAAmB,IAARyB,EACTzB,EAAS,GAWlBgL,GAAOhQ,UAAUgpB,cAAgB,SAAwBviB,EAAOzB,EAAQqiB,UACtE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,MAAQ,GACpDgL,GAAO2Q,0BACJ3b,GAAmB,IAARyB,OACXzB,EAAS,GAAMyB,IAAU,GAE9BugB,GAAkB9mB,KAAMuG,EAAOzB,GAAQ,GAElCA,EAAS,GAGlBgL,GAAOhQ,UAAUipB,cAAgB,SAAwBxiB,EAAOzB,EAAQqiB,UACtE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,MAAQ,GACpDgL,GAAO2Q,0BACJ3b,GAAWyB,IAAU,OACrBzB,EAAS,GAAc,IAARyB,GAEpBugB,GAAkB9mB,KAAMuG,EAAOzB,GAAQ,GAElCA,EAAS,GAUlBgL,GAAOhQ,UAAUkpB,cAAgB,SAAwBziB,EAAOzB,EAAQqiB,UACtE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,WAAY,GACxDgL,GAAO2Q,0BACJ3b,EAAS,GAAMyB,IAAU,QACzBzB,EAAS,GAAMyB,IAAU,QACzBzB,EAAS,GAAMyB,IAAU,OACzBzB,GAAmB,IAARyB,GAEhBygB,GAAkBhnB,KAAMuG,EAAOzB,GAAQ,GAElCA,EAAS,GAGlBgL,GAAOhQ,UAAUmpB,cAAgB,SAAwB1iB,EAAOzB,EAAQqiB,UACtE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,WAAY,GACxDgL,GAAO2Q,0BACJ3b,GAAWyB,IAAU,QACrBzB,EAAS,GAAMyB,IAAU,QACzBzB,EAAS,GAAMyB,IAAU,OACzBzB,EAAS,GAAc,IAARyB,GAEpBygB,GAAkBhnB,KAAMuG,EAAOzB,GAAQ,GAElCA,EAAS,GAGlBgL,GAAOhQ,UAAUopB,WAAa,SAAqB3iB,EAAOzB,EAAQqc,EAAYgG,MAC5E5gB,GAASA,EACTzB,GAAkB,GACbqiB,EAAU,KACT1iB,EAAQ0b,KAAKC,IAAI,EAAG,EAAIe,EAAa,GAEzCyF,GAAS5mB,KAAMuG,EAAOzB,EAAQqc,EAAY1c,EAAQ,GAAIA,OAGpDlK,EAAI,EACJmtB,EAAM,EACNyB,EAAM,WACLrkB,GAAkB,IAARyB,IACNhM,EAAI4mB,IAAeuG,GAAO,MAC7BnhB,EAAQ,GAAa,IAAR4iB,GAAsC,IAAzBnpB,KAAK8E,EAASvK,EAAI,KAC9C4uB,EAAM,QAEHrkB,EAASvK,IAAOgM,EAAQmhB,GAAQ,GAAKyB,EAAM,WAG3CrkB,EAASqc,GAGlBrR,GAAOhQ,UAAUspB,WAAa,SAAqB7iB,EAAOzB,EAAQqc,EAAYgG,MAC5E5gB,GAASA,EACTzB,GAAkB,GACbqiB,EAAU,KACT1iB,EAAQ0b,KAAKC,IAAI,EAAG,EAAIe,EAAa,GAEzCyF,GAAS5mB,KAAMuG,EAAOzB,EAAQqc,EAAY1c,EAAQ,GAAIA,OAGpDlK,EAAI4mB,EAAa,EACjBuG,EAAM,EACNyB,EAAM,WACLrkB,EAASvK,GAAa,IAARgM,IACVhM,GAAK,IAAMmtB,GAAO,MACrBnhB,EAAQ,GAAa,IAAR4iB,GAAsC,IAAzBnpB,KAAK8E,EAASvK,EAAI,KAC9C4uB,EAAM,QAEHrkB,EAASvK,IAAOgM,EAAQmhB,GAAQ,GAAKyB,EAAM,WAG3CrkB,EAASqc,GAGlBrR,GAAOhQ,UAAUupB,UAAY,SAAoB9iB,EAAOzB,EAAQqiB,UAC9D5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,KAAO,KAClDgL,GAAO2Q,sBAAqBla,EAAQ4Z,KAAKI,MAAMha,IAChDA,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,QACjCzB,GAAmB,IAARyB,EACTzB,EAAS,GAGlBgL,GAAOhQ,UAAUwpB,aAAe,SAAuB/iB,EAAOzB,EAAQqiB,UACpE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,OAAS,OACrDgL,GAAO2Q,0BACJ3b,GAAmB,IAARyB,OACXzB,EAAS,GAAMyB,IAAU,GAE9BugB,GAAkB9mB,KAAMuG,EAAOzB,GAAQ,GAElCA,EAAS,GAGlBgL,GAAOhQ,UAAUypB,aAAe,SAAuBhjB,EAAOzB,EAAQqiB,UACpE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,OAAS,OACrDgL,GAAO2Q,0BACJ3b,GAAWyB,IAAU,OACrBzB,EAAS,GAAc,IAARyB,GAEpBugB,GAAkB9mB,KAAMuG,EAAOzB,GAAQ,GAElCA,EAAS,GAGlBgL,GAAOhQ,UAAU0pB,aAAe,SAAuBjjB,EAAOzB,EAAQqiB,UACpE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,YAAa,YACzDgL,GAAO2Q,0BACJ3b,GAAmB,IAARyB,OACXzB,EAAS,GAAMyB,IAAU,OACzBzB,EAAS,GAAMyB,IAAU,QACzBzB,EAAS,GAAMyB,IAAU,IAE9BygB,GAAkBhnB,KAAMuG,EAAOzB,GAAQ,GAElCA,EAAS,GAGlBgL,GAAOhQ,UAAU2pB,aAAe,SAAuBljB,EAAOzB,EAAQqiB,UACpE5gB,GAASA,EACTzB,GAAkB,EACbqiB,GAAUP,GAAS5mB,KAAMuG,EAAOzB,EAAQ,EAAG,YAAa,YACzDyB,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GACxCuJ,GAAO2Q,0BACJ3b,GAAWyB,IAAU,QACrBzB,EAAS,GAAMyB,IAAU,QACzBzB,EAAS,GAAMyB,IAAU,OACzBzB,EAAS,GAAc,IAARyB,GAEpBygB,GAAkBhnB,KAAMuG,EAAOzB,GAAQ,GAElCA,EAAS,GAgBlBgL,GAAOhQ,UAAU4pB,aAAe,SAAuBnjB,EAAOzB,EAAQqiB,UAC7DD,GAAWlnB,KAAMuG,EAAOzB,GAAQ,EAAMqiB,IAG/CrX,GAAOhQ,UAAU6pB,aAAe,SAAuBpjB,EAAOzB,EAAQqiB,UAC7DD,GAAWlnB,KAAMuG,EAAOzB,GAAQ,EAAOqiB,IAWhDrX,GAAOhQ,UAAU8pB,cAAgB,SAAwBrjB,EAAOzB,EAAQqiB,UAC/DE,GAAYrnB,KAAMuG,EAAOzB,GAAQ,EAAMqiB,IAGhDrX,GAAOhQ,UAAU+pB,cAAgB,SAAwBtjB,EAAOzB,EAAQqiB,UAC/DE,GAAYrnB,KAAMuG,EAAOzB,GAAQ,EAAOqiB,IAIjDrX,GAAOhQ,UAAUmT,KAAO,SAAezB,EAAQsY,EAAatlB,EAAOwB,MAC5DxB,IAAOA,EAAQ,GACfwB,GAAe,IAARA,IAAWA,EAAMhG,KAAK2F,QAC9BmkB,GAAetY,EAAO7L,SAAQmkB,EAActY,EAAO7L,QAClDmkB,IAAaA,EAAc,GAC5B9jB,EAAM,GAAKA,EAAMxB,IAAOwB,EAAMxB,GAG9BwB,IAAQxB,EAAO,OAAO,KACJ,IAAlBgN,EAAO7L,QAAgC,IAAhB3F,KAAK2F,OAAc,OAAO,KAGjDmkB,EAAc,QACV,IAAIjJ,WAAW,gCAEnBrc,EAAQ,GAAKA,GAASxE,KAAK2F,OAAQ,MAAM,IAAIkb,WAAW,gCACxD7a,EAAM,EAAG,MAAM,IAAI6a,WAAW,2BAG9B7a,EAAMhG,KAAK2F,SAAQK,EAAMhG,KAAK2F,QAC9B6L,EAAO7L,OAASmkB,EAAc9jB,EAAMxB,IACtCwB,EAAMwL,EAAO7L,OAASmkB,EAActlB,OAIlCjK,EADAkN,EAAMzB,EAAMxB,KAGZxE,OAASwR,GAAUhN,EAAQslB,GAAeA,EAAc9jB,MAErDzL,EAAIkN,EAAM,EAAGlN,GAAK,IAAKA,EAC1BiX,EAAOjX,EAAIuvB,GAAe9pB,KAAKzF,EAAIiK,QAEhC,GAAIiD,EAAM,MAASqI,GAAO2Q,wBAE1BlmB,EAAI,EAAGA,EAAIkN,IAAOlN,EACrBiX,EAAOjX,EAAIuvB,GAAe9pB,KAAKzF,EAAIiK,QAGrCma,WAAW7e,UAAU4K,IAAIrE,KACvBmL,EACAxR,KAAKunB,SAAS/iB,EAAOA,EAAQiD,GAC7BqiB,UAIGriB,GAOTqI,GAAOhQ,UAAUwlB,KAAO,SAAe5Y,EAAKlI,EAAOwB,EAAKub,MAEnC,iBAAR7U,EAAkB,IACN,iBAAVlI,GACT+c,EAAW/c,EACXA,EAAQ,EACRwB,EAAMhG,KAAK2F,QACa,iBAARK,IAChBub,EAAWvb,EACXA,EAAMhG,KAAK2F,QAEM,IAAf+G,EAAI/G,OAAc,KAChBkZ,EAAOnS,EAAIoS,WAAW,GACtBD,EAAO,MACTnS,EAAMmS,WAGOtO,IAAbgR,GAA8C,iBAAbA,QAC7B,IAAIxP,UAAU,gCAEE,iBAAbwP,IAA0BzR,GAAO0R,WAAWD,SAC/C,IAAIxP,UAAU,qBAAuBwP,OAErB,iBAAR7U,IAChBA,GAAY,QAIVlI,EAAQ,GAAKxE,KAAK2F,OAASnB,GAASxE,KAAK2F,OAASK,QAC9C,IAAI6a,WAAW,yBAGnB7a,GAAOxB,SACFxE,SAQLzF,KALJiK,KAAkB,EAClBwB,OAAcuK,IAARvK,EAAoBhG,KAAK2F,OAASK,IAAQ,EAE3C0G,IAAKA,EAAM,GAGG,iBAARA,MACJnS,EAAIiK,EAAOjK,EAAIyL,IAAOzL,OACpBA,GAAKmS,MAEP,KACD+Z,EAAQ7E,GAAiBlV,GACzBA,EACA2V,GAAY,IAAIvS,GAAOpD,EAAK6U,GAAUrU,YACtCzF,EAAMgf,EAAM9gB,WACXpL,EAAI,EAAGA,EAAIyL,EAAMxB,IAASjK,OACxBA,EAAIiK,GAASiiB,EAAMlsB,EAAIkN,UAIzBzH,MAMT,IAAI+pB,GAAoB,qBAmBxB,SAASvD,GAAO1X,UACVA,EAAI,GAAW,IAAMA,EAAE5B,SAAS,IAC7B4B,EAAE5B,SAAS,IAGpB,SAASmV,GAAaf,EAAQ8C,OAExBrqB,EADJqqB,EAAQA,GAASlE,EAAAA,UAEbva,EAAS2b,EAAO3b,OAChBqkB,EAAgB,KAChBvD,EAAQ,GAEHlsB,EAAI,EAAGA,EAAIoL,IAAUpL,EAAG,KAC/BR,EAAYunB,EAAOxC,WAAWvkB,IAGd,OAAUR,EAAY,MAAQ,KAEvCiwB,EAAe,IAEdjwB,EAAY,MAAQ,EAEjBqqB,GAAS,IAAM,GAAGqC,EAAMxe,KAAK,IAAM,IAAM,cAEzC,GAAI1N,EAAI,IAAMoL,EAAQ,EAEtBye,GAAS,IAAM,GAAGqC,EAAMxe,KAAK,IAAM,IAAM,cAKhD+hB,EAAgBjwB,cAMdA,EAAY,MAAQ,EACjBqqB,GAAS,IAAM,GAAGqC,EAAMxe,KAAK,IAAM,IAAM,KAC9C+hB,EAAgBjwB,WAKlBA,EAAkE,OAArDiwB,EAAgB,OAAU,GAAKjwB,EAAY,YAC/CiwB,IAEJ5F,GAAS,IAAM,GAAGqC,EAAMxe,KAAK,IAAM,IAAM,QAGhD+hB,EAAgB,KAGZjwB,EAAY,IAAM,KACfqqB,GAAS,GAAK,EAAG,MACtBqC,EAAMxe,KAAKlO,QACN,GAAIA,EAAY,KAAO,KACvBqqB,GAAS,GAAK,EAAG,MACtBqC,EAAMxe,KACJlO,GAAa,EAAM,IACP,GAAZA,EAAmB,UAEhB,GAAIA,EAAY,MAAS,KACzBqqB,GAAS,GAAK,EAAG,MACtBqC,EAAMxe,KACJlO,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,SAEhB,CAAA,KAAIA,EAAY,eASf,IAAI6F,MAAM,0BARXwkB,GAAS,GAAK,EAAG,MACtBqC,EAAMxe,KACJlO,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,aAOlB0sB,EA6BT,SAASnE,GAAehZ,UHhuDjB,SAAsB2gB,OAIvB1vB,EAAGwD,EAAGyP,EAAGoQ,EAAKsM,EAAclX,EAH3B4L,IACHxO,SAGE3I,EAAMwiB,EAAItkB,UAEV8B,EAAM,EAAI,QACN,IAAI7H,MAAM,kDAQlBsqB,EAAgC,MAAjBD,EAAIxiB,EAAM,GAAa,EAAqB,MAAjBwiB,EAAIxiB,EAAM,GAAa,EAAI,EAGrEuL,EAAM,IAAI0L,GAAU,EAANjX,EAAU,EAAIyiB,GAG5B1c,EAAI0c,EAAe,EAAIziB,EAAM,EAAIA,MAE7B0iB,EAAI,MAEH5vB,EAAI,EAAGwD,EAAI,EAAGxD,EAAIiT,EAAGjT,GAAK,EAAGwD,GAAK,EACrC6f,EAAOa,GAAUwL,EAAInL,WAAWvkB,KAAO,GAAOkkB,GAAUwL,EAAInL,WAAWvkB,EAAI,KAAO,GAAOkkB,GAAUwL,EAAInL,WAAWvkB,EAAI,KAAO,EAAKkkB,GAAUwL,EAAInL,WAAWvkB,EAAI,IAC/JyY,EAAImX,KAAQvM,GAAO,GAAM,IACzB5K,EAAImX,KAAQvM,GAAO,EAAK,IACxB5K,EAAImX,KAAa,IAANvM,SAGQ,IAAjBsM,GACFtM,EAAOa,GAAUwL,EAAInL,WAAWvkB,KAAO,EAAMkkB,GAAUwL,EAAInL,WAAWvkB,EAAI,KAAO,EACjFyY,EAAImX,KAAa,IAANvM,GACe,IAAjBsM,IACTtM,EAAOa,GAAUwL,EAAInL,WAAWvkB,KAAO,GAAOkkB,GAAUwL,EAAInL,WAAWvkB,EAAI,KAAO,EAAMkkB,GAAUwL,EAAInL,WAAWvkB,EAAI,KAAO,EAC5HyY,EAAImX,KAAQvM,GAAO,EAAK,IACxB5K,EAAImX,KAAa,IAANvM,GAGN5K,EGurDAwR,CAjIT,SAAsBlb,OAEpBA,EAUF,SAAqBA,UACfA,EAAIoU,KAAapU,EAAIoU,OAClBpU,EAAIC,QAAQ,aAAc,IAZ3B6gB,CAAW9gB,GAAKC,QAAQwgB,GAAmB,KAEzCpkB,OAAS,EAAG,MAAO,QAEpB2D,EAAI3D,OAAS,GAAM,GACxB2D,GAAY,WAEPA,EAwHmB+gB,CAAY/gB,IAGxC,SAASua,GAAYyG,EAAKC,EAAKzlB,EAAQa,OAChC,IAAIpL,EAAI,EAAGA,EAAIoL,KACbpL,EAAIuK,GAAUylB,EAAI5kB,QAAYpL,GAAK+vB,EAAI3kB,UADhBpL,EAE5BgwB,EAAIhwB,EAAIuK,GAAUwlB,EAAI/vB,UAEjBA,EAWF,SAASqV,GAAS9E,UACT,MAAPA,MAAkBA,EAAIoX,WAAasI,GAAa1f,IAQzD,SAAuBA,SACa,mBAApBA,EAAIyd,aAAmD,mBAAdzd,EAAI4W,OAAwB8I,GAAa1f,EAAI4W,MAAM,EAAG,IAT9C+I,CAAa3f,IAG9E,SAAS0f,GAAc1f,WACZA,EAAIpC,aAAmD,mBAA7BoC,EAAIpC,YAAYkH,UAA2B9E,EAAIpC,YAAYkH,SAAS9E,0DA7vD1E,sCAwTxB,SAAqBnF,UACrBA,GAAUA,IACbA,EAAS,GAEJmK,GAAOuV,OAAO1f,kBCrUvB,SAAS+kB,UACF7U,KAAO,UACP8U,KAAO,UACPhlB,OAAS,EAGhB+kB,GAAW5qB,UAAUmI,KAAO,SAAU2iB,OAChCvM,EAAQ,CAAElY,KAAMykB,EAAGnO,KAAM,MACzBzc,KAAK2F,OAAS,EAAG3F,KAAK2qB,KAAKlO,KAAO4B,EAAWre,KAAK6V,KAAOwI,OACxDsM,KAAOtM,IACVre,KAAK2F,QAGT+kB,GAAW5qB,UAAUsS,QAAU,SAAUwY,OACnCvM,EAAQ,CAAElY,KAAMykB,EAAGnO,KAAMzc,KAAK6V,MACd,IAAhB7V,KAAK2F,SAAc3F,KAAK2qB,KAAOtM,QAC9BxI,KAAOwI,IACVre,KAAK2F,QAGT+kB,GAAW5qB,UAAU+qB,MAAQ,cACP,IAAhB7qB,KAAK2F,YACLsG,EAAMjM,KAAK6V,KAAK1P,YACA,IAAhBnG,KAAK2F,OAAc3F,KAAK6V,KAAO7V,KAAK2qB,KAAO,KAAU3qB,KAAK6V,KAAO7V,KAAK6V,KAAK4G,OAC7Ezc,KAAK2F,OACAsG,IAGTye,GAAW5qB,UAAUgrB,MAAQ,gBACtBjV,KAAO7V,KAAK2qB,KAAO,UACnBhlB,OAAS,GAGhB+kB,GAAW5qB,UAAUuJ,KAAO,SAAU2W,MAChB,IAAhBhgB,KAAK2F,OAAc,MAAO,WAC1BsQ,EAAIjW,KAAK6V,KACT5J,EAAM,GAAKgK,EAAE9P,KACV8P,EAAIA,EAAEwG,MACXxQ,GAAO+T,EAAI/J,EAAE9P,YACP8F,GAGVye,GAAW5qB,UAAUwH,OAAS,SAAUwH,MAClB,IAAhB9O,KAAK2F,OAAc,OAAOmK,GAAOuV,MAAM,MACvB,IAAhBrlB,KAAK2F,OAAc,OAAO3F,KAAK6V,KAAK1P,aACpC8F,EAAM6D,GAAOiR,YAAYjS,IAAM,GAC/BmH,EAAIjW,KAAK6V,KACTtb,EAAI,EACD0b,GACLA,EAAE9P,KAAK8M,KAAKhH,EAAK1R,GACjBA,GAAK0b,EAAE9P,KAAKR,OACZsQ,EAAIA,EAAEwG,YAEDxQ,GCnCT,IAAI8e,GAAmBjb,GAAO0R,YACzB,SAASD,UACCA,GAAYA,EAAS9iB,mBACtB,UAAY,WAAa,YAAc,YAAc,aAAe,aAAe,WAAa,YAAc,cAAgB,eAAiB,aAAc,iBAClJ,IAmBlB,SAASusB,GAAczJ,eACvBA,UAAYA,GAAY,QAAQ9iB,cAAc8K,QAAQ,OAAQ,IAfrE,SAAwBgY,MAClBA,IAAawJ,GAAiBxJ,SAC1B,IAAI3hB,MAAM,qBAAuB2hB,GAczC0J,CAAe1J,GACPvhB,KAAKuhB,cACN,YAEE2J,cAAgB,YAElB,WACA,eAEEA,cAAgB,OAChBC,qBAAuBC,aAEzB,cAEEF,cAAgB,OAChBC,qBAAuBE,kCAGvB9lB,MAAQ+lB,SAMZC,WAAa,IAAIzb,GAAO,QAExB0b,aAAe,OAEfC,WAAa,EAoIpB,SAASH,GAAiB9L,UACjBA,EAAOtS,SAASlN,KAAKuhB,UAG9B,SAAS6J,GAA0B5L,QAC5BgM,aAAehM,EAAO7Z,OAAS,OAC/B8lB,WAAazrB,KAAKwrB,aAAe,EAAI,EAG5C,SAASH,GAA2B7L,QAC7BgM,aAAehM,EAAO7Z,OAAS,OAC/B8lB,WAAazrB,KAAKwrB,aAAe,EAAI,EAlI5CR,GAAclrB,UAAUyF,MAAQ,SAASia,WACnCkM,EAAU,GAEP1rB,KAAKyrB,YAAY,KAElBE,EAAanM,EAAO7Z,QAAU3F,KAAKyrB,WAAazrB,KAAKwrB,aACrDxrB,KAAKyrB,WAAazrB,KAAKwrB,aACvBhM,EAAO7Z,UAGX6Z,EAAOvM,KAAKjT,KAAKurB,WAAYvrB,KAAKwrB,aAAc,EAAGG,QAC9CH,cAAgBG,EAEjB3rB,KAAKwrB,aAAexrB,KAAKyrB,iBAEpB,MAITjM,EAASA,EAAOkC,MAAMiK,EAAWnM,EAAO7Z,WAMpCimB,GAHJF,EAAU1rB,KAAKurB,WAAW7J,MAAM,EAAG1hB,KAAKyrB,YAAYve,SAASlN,KAAKuhB,WAG3CzC,WAAW4M,EAAQ/lB,OAAS,KACnC,OAAUimB,GAAY,gBAKjCJ,aAAexrB,KAAKyrB,WAAa,EAGhB,IAAlBjM,EAAO7Z,cACF+lB,aARFD,YAAczrB,KAAKkrB,cACxBQ,EAAU,QAaTP,qBAAqB3L,OAEtBxZ,EAAMwZ,EAAO7Z,OACb3F,KAAKyrB,aAEPjM,EAAOvM,KAAKjT,KAAKurB,WAAY,EAAG/L,EAAO7Z,OAAS3F,KAAKwrB,aAAcxlB,GACnEA,GAAOhG,KAAKwrB,kBAMVI,EADA5lB,GAFJ0lB,GAAWlM,EAAOtS,SAASlN,KAAKuhB,SAAU,EAAGvb,IAE3BL,OAAS,MACvBimB,EAAWF,EAAQ5M,WAAW9Y,KAElB,OAAU4lB,GAAY,MAAQ,KACxC5J,EAAOhiB,KAAKkrB,0BACXO,YAAczJ,OACdwJ,cAAgBxJ,OAChBuJ,WAAWtY,KAAKjT,KAAKurB,WAAYvJ,EAAM,EAAGA,GAC/CxC,EAAOvM,KAAKjT,KAAKurB,WAAY,EAAG,EAAGvJ,GAC5B0J,EAAQ3pB,UAAU,EAAGiE,UAIvB0lB,GAOTV,GAAclrB,UAAUqrB,qBAAuB,SAAS3L,WAElDjlB,EAAKilB,EAAO7Z,QAAU,EAAK,EAAI6Z,EAAO7Z,OAInCpL,EAAI,EAAGA,IAAK,KACb6D,EAAIohB,EAAOA,EAAO7Z,OAASpL,MAKtB,GAALA,GAAU6D,GAAK,GAAK,EAAM,MACvBqtB,WAAa,WAKhBlxB,GAAK,GAAK6D,GAAK,GAAK,GAAM,MACvBqtB,WAAa,WAKhBlxB,GAAK,GAAK6D,GAAK,GAAK,GAAM,MACvBqtB,WAAa,cAIjBD,aAAejxB,GAGtBywB,GAAclrB,UAAUkG,IAAM,SAASwZ,OACjCkF,EAAM,MACNlF,GAAUA,EAAO7Z,SACnB+e,EAAM1kB,KAAKuF,MAAMia,IAEfxf,KAAKwrB,aAAc,KACjBK,EAAK7rB,KAAKwrB,aACVnI,EAAMrjB,KAAKurB,WACXO,EAAM9rB,KAAKuhB,SACfmD,GAAOrB,EAAI3B,MAAM,EAAGmK,GAAI3e,SAAS4e,UAG5BpH,GCzMTqH,GAASC,cAAgBA,GAQzB,IAAIC,GAAQxhB,GAAS,UAwBrB,SAASuhB,GAAcltB,EAASotB,GAE9BptB,EAAUA,GAAW,QAIhBqtB,aAAertB,EAAQqtB,WAExBD,aAAkBE,KAAQpsB,KAAKmsB,WAAansB,KAAKmsB,cAAgBrtB,EAAQutB,wBAIzEC,EAAMxtB,EAAQytB,cACdC,EAAaxsB,KAAKmsB,WAAa,GAAK,WACnCI,cAAgBD,GAAe,IAARA,EAAYA,EAAME,OAGzCD,gBAAmBvsB,KAAKusB,mBAKxB/M,OAAS,IAAIkL,QACb/kB,OAAS,OACT8mB,MAAQ,UACRC,WAAa,OACbC,QAAU,UACVC,OAAQ,OACRC,YAAa,OACbC,SAAU,OAMVC,MAAO,OAIPC,cAAe,OACfC,iBAAkB,OAClBC,mBAAoB,OACpBC,iBAAkB,OAKlBC,gBAAkBtuB,EAAQsuB,iBAAmB,YAI7CC,QAAS,OAGTC,WAAa,OAGbC,aAAc,OAEdC,QAAU,UACVjM,SAAW,KACZziB,EAAQyiB,gBACLiM,QAAU,IAAIxC,GAAclsB,EAAQyiB,eACpCA,SAAWziB,EAAQyiB,UAIrB,SAASwK,GAASjtB,QAEjBkB,gBAAgB+rB,IAAW,OAAO,IAAIA,GAASjtB,QAEhD2uB,eAAiB,IAAIzB,GAAcltB,EAASkB,WAG5C0tB,UAAW,EAEZ5uB,GAAmC,mBAAjBA,EAAQygB,OAAqBvf,KAAK2tB,MAAQ7uB,EAAQygB,MAExEpP,GAAa9J,KAAKrG,MA+BpB,SAAS4tB,GAAiB1B,EAAQ2B,EAAOroB,EAAO+b,EAAUuM,OACpDra,EA6MN,SAAsBoa,EAAOroB,OACvBiO,EAAK,KACJ3D,OAAOF,SAASpK,IAA2B,iBAAVA,GAAlC,MAAwDA,GAA0CqoB,EAAM1B,aAC1G1Y,EAAK,IAAI1B,UAAU,2CAEd0B,EAlNEsa,CAAaF,EAAOroB,MACzBiO,EACFyY,EAAOha,KAAK,QAASuB,QAChB,GAAc,OAAVjO,EACTqoB,EAAMf,SAAU,EAiNpB,SAAoBZ,EAAQ2B,MACtBA,EAAMjB,MAAO,UACbiB,EAAML,QAAS,KACbhoB,EAAQqoB,EAAML,QAAQxnB,MACtBR,GAASA,EAAMG,SACjBkoB,EAAMrO,OAAOvX,KAAKzC,GAClBqoB,EAAMloB,QAAUkoB,EAAM1B,WAAa,EAAI3mB,EAAMG,QAGjDkoB,EAAMjB,OAAQ,EAGdoB,GAAa9B,GA5NX+B,CAAW/B,EAAQ2B,QACd,GAAIA,EAAM1B,YAAc3mB,GAASA,EAAMG,OAAS,KACjDkoB,EAAMjB,QAAUkB,EAAY,KAC1BhnB,EAAI,IAAIlH,MAAM,2BAClBssB,EAAOha,KAAK,QAASpL,QAChB,GAAI+mB,EAAMhB,YAAciB,EAAY,KACrCI,EAAK,IAAItuB,MAAM,oCACnBssB,EAAOha,KAAK,QAASgc,OAChB,KACDC,GACAN,EAAML,SAAYM,GAAevM,IACnC/b,EAAQqoB,EAAML,QAAQjoB,MAAMC,GAC5B2oB,GAAWN,EAAM1B,YAA+B,IAAjB3mB,EAAMG,QAGlCmoB,IAAYD,EAAMf,SAAU,GAI5BqB,IAECN,EAAMlB,SAA4B,IAAjBkB,EAAMloB,SAAiBkoB,EAAMd,MAChDb,EAAOha,KAAK,OAAQ1M,GACpB0mB,EAAO3M,KAAK,KAGZsO,EAAMloB,QAAUkoB,EAAM1B,WAAa,EAAI3mB,EAAMG,OACzCmoB,EAAYD,EAAMrO,OAAOpN,QAAQ5M,GAAYqoB,EAAMrO,OAAOvX,KAAKzC,GAE/DqoB,EAAMb,cAAcgB,GAAa9B,KA2N/C,SAAuBA,EAAQ2B,GACxBA,EAAMN,cACTM,EAAMN,aAAc,EACpB1lB,GAASumB,GAAgBlC,EAAQ2B,IA1N/BQ,CAAcnC,EAAQ2B,QAEdC,IACVD,EAAMf,SAAU,UAapB,SAAsBe,UACZA,EAAMjB,QAAUiB,EAAMb,cAAgBa,EAAMloB,OAASkoB,EAAMtB,eAAkC,IAAjBsB,EAAMloB,QAXnF2oB,CAAaT,GAjLtBne,GAASqc,GAAU5b,IA4GnB4b,GAASjsB,UAAUmI,KAAO,SAAUzC,EAAO+b,OACrCsM,EAAQ7tB,KAAKytB,sBAEZI,EAAM1B,YAA+B,iBAAV3mB,IAC9B+b,EAAWA,GAAYsM,EAAMT,mBACZS,EAAMtM,WACrB/b,EAAQsK,OAAOkR,KAAKxb,EAAO+b,GAC3BA,EAAW,IAIRqM,GAAiB5tB,KAAM6tB,EAAOroB,EAAO+b,GAAU,IAIxDwK,GAASjsB,UAAUsS,QAAU,SAAU5M,UAE9BooB,GAAiB5tB,KADZA,KAAKytB,eACoBjoB,EAAO,IAAI,IAGlDumB,GAASjsB,UAAUyuB,SAAW,kBACW,IAAhCvuB,KAAKytB,eAAed,SA+D7BZ,GAASjsB,UAAU0uB,YAAc,SAAU1C,eACpC2B,eAAeD,QAAU,IAAIxC,GAAcc,QAC3C2B,eAAelM,SAAWuK,EACxB9rB,MAwBT,SAASyuB,GAAc3f,EAAG+e,UACpB/e,GAAK,GAAsB,IAAjB+e,EAAMloB,QAAgBkoB,EAAMjB,MAAc,EACpDiB,EAAM1B,WAAmB,EACzBrd,GAAMA,EAEJ+e,EAAMlB,SAAWkB,EAAMloB,OAAekoB,EAAMrO,OAAO3J,KAAK1P,KAAKR,OAAmBkoB,EAAMloB,QAGxFmJ,EAAI+e,EAAMtB,gBAAesB,EAAMtB,cA3BrC,SAAiCzd,UAC3BA,GAFQ,QAGVA,EAHU,SAOVA,IACAA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,GACXA,KAEKA,EAa4C4f,CAAwB5f,IACvEA,GAAK+e,EAAMloB,OAAemJ,EAEzB+e,EAAMjB,MAIJiB,EAAMloB,QAHXkoB,EAAMb,cAAe,EACd,IAoIX,SAASgB,GAAa9B,OAChB2B,EAAQ3B,EAAOuB,eACnBI,EAAMb,cAAe,EAChBa,EAAMZ,kBACThB,GAAM,eAAgB4B,EAAMlB,SAC5BkB,EAAMZ,iBAAkB,EACpBY,EAAMd,KAAMllB,GAAS8mB,GAAezC,GAAayC,GAAczC,IAIvE,SAASyC,GAAczC,GACrBD,GAAM,iBACNC,EAAOha,KAAK,YACZ0c,GAAK1C,GAgBP,SAASkC,GAAelC,EAAQ2B,WAC1BpmB,EAAMomB,EAAMloB,QACRkoB,EAAMf,UAAYe,EAAMlB,UAAYkB,EAAMjB,OAASiB,EAAMloB,OAASkoB,EAAMtB,gBAC9EN,GAAM,wBACNC,EAAO3M,KAAK,GACR9X,IAAQomB,EAAMloB,SAEL8B,EAAMomB,EAAMloB,OAE3BkoB,EAAMN,aAAc,EAqOtB,SAASsB,GAAiBhe,GACxBob,GAAM,4BACNpb,EAAK0O,KAAK,GAsBZ,SAASuP,GAAQ5C,EAAQ2B,GAClBA,EAAMf,UACTb,GAAM,iBACNC,EAAO3M,KAAK,IAGdsO,EAAMV,iBAAkB,EACxBU,EAAMP,WAAa,EACnBpB,EAAOha,KAAK,UACZ0c,GAAK1C,GACD2B,EAAMlB,UAAYkB,EAAMf,SAASZ,EAAO3M,KAAK,GAanD,SAASqP,GAAK1C,OACR2B,EAAQ3B,EAAOuB,mBACnBxB,GAAM,OAAQ4B,EAAMlB,SACbkB,EAAMlB,SAA6B,OAAlBT,EAAO3M,UAyEjC,SAASwP,GAASjgB,EAAG+e,UAEE,IAAjBA,EAAMloB,OAAqB,MAG3BkoB,EAAM1B,WAAYlgB,EAAM4hB,EAAMrO,OAAOqL,SAAkB/b,GAAKA,GAAK+e,EAAMloB,QAEtDsG,EAAf4hB,EAAML,QAAeK,EAAMrO,OAAOnW,KAAK,IAAqC,IAAxBwkB,EAAMrO,OAAO7Z,OAAoBkoB,EAAMrO,OAAO3J,KAAK1P,KAAgB0nB,EAAMrO,OAAOlY,OAAOumB,EAAMloB,QACrJkoB,EAAMrO,OAAOsL,SAGb7e,EASJ,SAAyB6C,EAAGsF,EAAM4a,OAC5B/iB,EACA6C,EAAIsF,EAAKyB,KAAK1P,KAAKR,QAErBsG,EAAMmI,EAAKyB,KAAK1P,KAAKub,MAAM,EAAG5S,GAC9BsF,EAAKyB,KAAK1P,KAAOiO,EAAKyB,KAAK1P,KAAKub,MAAM5S,IAGtC7C,EAFS6C,IAAMsF,EAAKyB,KAAK1P,KAAKR,OAExByO,EAAKyW,QAGLmE,EASV,SAA8BlgB,EAAGsF,OAC3B6B,EAAI7B,EAAKyB,KACTzX,EAAI,EACJ6N,EAAMgK,EAAE9P,KACZ2I,GAAK7C,EAAItG,YACFsQ,EAAIA,EAAEwG,MAAM,KACbnT,EAAM2M,EAAE9P,KACR8oB,EAAKngB,EAAIxF,EAAI3D,OAAS2D,EAAI3D,OAASmJ,KACnCmgB,IAAO3lB,EAAI3D,OAAQsG,GAAO3C,EAAS2C,GAAO3C,EAAIoY,MAAM,EAAG5S,GAEjD,KADVA,GAAKmgB,GACQ,CACPA,IAAO3lB,EAAI3D,UACXvH,EACE6X,EAAEwG,KAAMrI,EAAKyB,KAAOI,EAAEwG,KAAUrI,EAAKyB,KAAOzB,EAAKuW,KAAO,OAE5DvW,EAAKyB,KAAOI,EACZA,EAAE9P,KAAOmD,EAAIoY,MAAMuN,YAIrB7wB,SAEJgW,EAAKzO,QAAUvH,EACR6N,EAhCcijB,CAAqBpgB,EAAGsF,GAsC/C,SAAwBtF,EAAGsF,OACrBnI,EAAM6D,OAAOiR,YAAYjS,GACzBmH,EAAI7B,EAAKyB,KACTzX,EAAI,EACR6X,EAAE9P,KAAK8M,KAAKhH,GACZ6C,GAAKmH,EAAE9P,KAAKR,YACLsQ,EAAIA,EAAEwG,MAAM,KACb4G,EAAMpN,EAAE9P,KACR8oB,EAAKngB,EAAIuU,EAAI1d,OAAS0d,EAAI1d,OAASmJ,KACvCuU,EAAIpQ,KAAKhH,EAAKA,EAAItG,OAASmJ,EAAG,EAAGmgB,GAEvB,KADVngB,GAAKmgB,GACQ,CACPA,IAAO5L,EAAI1d,UACXvH,EACE6X,EAAEwG,KAAMrI,EAAKyB,KAAOI,EAAEwG,KAAUrI,EAAKyB,KAAOzB,EAAKuW,KAAO,OAE5DvW,EAAKyB,KAAOI,EACZA,EAAE9P,KAAOkd,EAAI3B,MAAMuN,YAIrB7wB,SAEJgW,EAAKzO,QAAUvH,EACR6N,EA9D8CkjB,CAAergB,EAAGsF,UAEhEnI,EAtBCmjB,CAAgBtgB,EAAG+e,EAAMrO,OAAQqO,EAAML,SAGxCvhB,OAVHA,EA4FN,SAASojB,GAAYnD,OACf2B,EAAQ3B,EAAOuB,kBAIfI,EAAMloB,OAAS,EAAG,MAAM,IAAI/F,MAAM,8CAEjCiuB,EAAMhB,aACTgB,EAAMjB,OAAQ,EACd/kB,GAASynB,GAAezB,EAAO3B,IAInC,SAASoD,GAAczB,EAAO3B,GAEvB2B,EAAMhB,YAA+B,IAAjBgB,EAAMloB,SAC7BkoB,EAAMhB,YAAa,EACnBX,EAAOwB,UAAW,EAClBxB,EAAOha,KAAK,QAUhB,SAASnF,GAAQwiB,EAAI/lB,OACd,IAAIjP,EAAI,EAAGiT,EAAI+hB,EAAG5pB,OAAQpL,EAAIiT,EAAGjT,OAChCg1B,EAAGh1B,KAAOiP,EAAG,OAAOjP,SAElB,ECj3BV,SAASi1B,MAET,SAASC,GAASjqB,EAAO+b,EAAUmO,QAC5BlqB,MAAQA,OACR+b,SAAWA,OACX3F,SAAW8T,OACXjT,KAAO,KAGd,SAASkT,GAAc7wB,EAASotB,GAC9B7jB,OAAOmT,eAAexb,KAAM,SAAU,CACpCoO,IAAKrE,IAAU,kBACN/J,KAAK4vB,cACX,gFAEL9wB,EAAUA,GAAW,QAIhBqtB,aAAertB,EAAQqtB,WAExBD,aAAkBE,KAAQpsB,KAAKmsB,WAAansB,KAAKmsB,cAAgBrtB,EAAQ+wB,wBAKzEvD,EAAMxtB,EAAQytB,cACdC,EAAaxsB,KAAKmsB,WAAa,GAAK,WACnCI,cAAgBD,GAAe,IAARA,EAAYA,EAAME,OAGzCD,gBAAmBvsB,KAAKusB,mBAExBuD,WAAY,OAEZC,QAAS,OAETnD,OAAQ,OAERoD,UAAW,MAKZC,GAAqC,IAA1BnxB,EAAQoxB,mBAClBA,eAAiBD,OAKjB7C,gBAAkBtuB,EAAQsuB,iBAAmB,YAK7CznB,OAAS,OAGTwqB,SAAU,OAGVC,OAAS,OAMTrD,MAAO,OAKPsD,kBAAmB,OAGnBC,QAAU,SAAU7c,IA8M3B,SAAiByY,EAAQzY,OACnBoa,EAAQ3B,EAAOqE,eACfxD,EAAOc,EAAMd,KACb2C,EAAK7B,EAAM2C,WAVjB,SAA4B3C,GAC1BA,EAAMsC,SAAU,EAChBtC,EAAM2C,QAAU,KAChB3C,EAAMloB,QAAUkoB,EAAM4C,SACtB5C,EAAM4C,SAAW,EAQjBC,CAAmB7C,GAEfpa,GAtBN,SAAsByY,EAAQ2B,EAAOd,EAAMtZ,EAAIic,KAC3C7B,EAAM8C,UACJ5D,EAAMllB,GAAS6nB,EAAIjc,GAASic,EAAGjc,GAEnCyY,EAAOqE,eAAeK,cAAe,EACrC1E,EAAOha,KAAK,QAASuB,GAiBbod,CAAa3E,EAAQ2B,EAAOd,EAAMtZ,EAAIic,OAAS,KAEjDM,EAAWc,GAAWjD,GAErBmC,GAAanC,EAAMuC,QAAWvC,EAAMwC,mBAAoBxC,EAAMkD,iBACjEC,GAAY9E,EAAQ2B,GAGlBd,EAEAllB,GAASopB,GAAY/E,EAAQ2B,EAAOmC,EAAUN,GAG9CuB,GAAW/E,EAAQ2B,EAAOmC,EAAUN,IAjOxCY,CAAQpE,EAAQzY,SAIb+c,QAAU,UAGVC,SAAW,OAEXM,gBAAkB,UAClBG,oBAAsB,UAItBP,UAAY,OAIZQ,aAAc,OAGdP,cAAe,OAGfQ,qBAAuB,OAIvBC,mBAAqB,IAAIC,GAActxB,MAcvC,SAASuxB,GAASzyB,QAIjBkB,gBAAgBuxB,IAAevxB,gBAAgBosB,IAAS,OAAO,IAAImF,GAASzyB,QAE7EyxB,eAAiB,IAAIZ,GAAc7wB,EAASkB,WAG5C4I,UAAW,EAEZ9J,IAC2B,mBAAlBA,EAAQyG,QAAsBvF,KAAKwxB,OAAS1yB,EAAQyG,OAEjC,mBAAnBzG,EAAQ2yB,SAAuBzxB,KAAK0xB,QAAU5yB,EAAQ2yB,SAGnEthB,GAAa9J,KAAKrG,MA0HpB,SAAS2xB,GAAQzF,EAAQ2B,EAAO4D,EAAQhqB,EAAKjC,EAAO+b,EAAUmO,GAC5D7B,EAAM4C,SAAWhpB,EACjBomB,EAAM2C,QAAUd,EAChB7B,EAAMsC,SAAU,EAChBtC,EAAMd,MAAO,EACT0E,EAAQvF,EAAOwF,QAAQlsB,EAAOqoB,EAAMyC,SAAcpE,EAAOsF,OAAOhsB,EAAO+b,EAAUsM,EAAMyC,SAC3FzC,EAAMd,MAAO,EA2Cf,SAASkE,GAAW/E,EAAQ2B,EAAOmC,EAAUN,GACtCM,GASP,SAAsB9D,EAAQ2B,GACP,IAAjBA,EAAMloB,QAAgBkoB,EAAMiC,YAC9BjC,EAAMiC,WAAY,EAClB5D,EAAOha,KAAK,UAZC0f,CAAa1F,EAAQ2B,GACpCA,EAAM8C,YACNjB,IACAmC,GAAY3F,EAAQ2B,GActB,SAASmD,GAAY9E,EAAQ2B,GAC3BA,EAAMwC,kBAAmB,MACrBhS,EAAQwP,EAAMkD,mBAEd7E,EAAOwF,SAAWrT,GAASA,EAAM5B,KAAM,KAErCjP,EAAIqgB,EAAMuD,qBACV5R,EAAS,IAAIzX,MAAMyF,GACnBskB,EAASjE,EAAMwD,mBACnBS,EAAOzT,MAAQA,UAEX9L,EAAQ,EACL8L,GACLmB,EAAOjN,GAAS8L,EAChBA,EAAQA,EAAM5B,KACdlK,GAAS,EAGXof,GAAQzF,EAAQ2B,GAAO,EAAMA,EAAMloB,OAAQ6Z,EAAQ,GAAIsS,EAAOC,QAI9DlE,EAAM8C,YACN9C,EAAMqD,oBAAsB,KACxBY,EAAOrV,MACToR,EAAMwD,mBAAqBS,EAAOrV,KAClCqV,EAAOrV,KAAO,MAEdoR,EAAMwD,mBAAqB,IAAIC,GAAczD,OAE1C,MAEExP,GAAO,KACR7Y,EAAQ6Y,EAAM7Y,MACd+b,EAAWlD,EAAMkD,SACjBmO,EAAKrR,EAAMzC,YAGf+V,GAAQzF,EAAQ2B,GAAO,EAFbA,EAAM1B,WAAa,EAAI3mB,EAAMG,OAEJH,EAAO+b,EAAUmO,GACpDrR,EAAQA,EAAM5B,KAKVoR,EAAMsC,cAKE,OAAV9R,IAAgBwP,EAAMqD,oBAAsB,MAGlDrD,EAAMuD,qBAAuB,EAC7BvD,EAAMkD,gBAAkB1S,EACxBwP,EAAMwC,kBAAmB,EAiC3B,SAASS,GAAWjD,UACXA,EAAMkC,QAA2B,IAAjBlC,EAAMloB,QAA0C,OAA1BkoB,EAAMkD,kBAA6BlD,EAAMmC,WAAanC,EAAMsC,QAG3G,SAAS6B,GAAU9F,EAAQ2B,GACpBA,EAAMsD,cACTtD,EAAMsD,aAAc,EACpBjF,EAAOha,KAAK,cAIhB,SAAS2f,GAAY3F,EAAQ2B,OACvBoE,EAAOnB,GAAWjD,UAClBoE,IACsB,IAApBpE,EAAM8C,WACRqB,GAAU9F,EAAQ2B,GAClBA,EAAMmC,UAAW,EACjB9D,EAAOha,KAAK,WAEZ8f,GAAU9F,EAAQ2B,IAGfoE,EAeT,SAASX,GAAczD,OACjBqE,EAAQlyB,UAEPyc,KAAO,UACP4B,MAAQ,UAER0T,OAAS,SAAUpe,OAClB0K,EAAQ6T,EAAM7T,UAClB6T,EAAM7T,MAAQ,KACPA,GAAO,KACRqR,EAAKrR,EAAMzC,SACfiS,EAAM8C,YACNjB,EAAG/b,GACH0K,EAAQA,EAAM5B,KAEZoR,EAAMwD,mBACRxD,EAAMwD,mBAAmB5U,KAAOyV,EAEhCrE,EAAMwD,mBAAqBa,GDrOjCnG,GAASjsB,UAAUyf,KAAO,SAAUzQ,GAClCmd,GAAM,OAAQnd,GACdA,EAAI5J,SAAS4J,EAAG,QACZ+e,EAAQ7tB,KAAKytB,eACb0E,EAAQrjB,KAEF,IAANA,IAAS+e,EAAMZ,iBAAkB,GAK3B,IAANne,GAAW+e,EAAMb,eAAiBa,EAAMloB,QAAUkoB,EAAMtB,eAAiBsB,EAAMjB,cACjFX,GAAM,qBAAsB4B,EAAMloB,OAAQkoB,EAAMjB,OAC3B,IAAjBiB,EAAMloB,QAAgBkoB,EAAMjB,MAAOyC,GAAYrvB,MAAWguB,GAAahuB,MACpE,QAMC,KAHV8O,EAAI2f,GAAc3f,EAAG+e,KAGNA,EAAMjB,aACE,IAAjBiB,EAAMloB,QAAc0pB,GAAYrvB,MAC7B,SAsDLiM,EA5BAmmB,EAASvE,EAAMb,oBACnBf,GAAM,gBAAiBmG,IAGF,IAAjBvE,EAAMloB,QAAgBkoB,EAAMloB,OAASmJ,EAAI+e,EAAMtB,gBAEjDN,GAAM,6BADNmG,GAAS,GAMPvE,EAAMjB,OAASiB,EAAMf,QAEvBb,GAAM,mBADNmG,GAAS,GAEAA,IACTnG,GAAM,WACN4B,EAAMf,SAAU,EAChBe,EAAMd,MAAO,EAEQ,IAAjBc,EAAMloB,SAAckoB,EAAMb,cAAe,QAExCW,MAAME,EAAMtB,eACjBsB,EAAMd,MAAO,EAGRc,EAAMf,UAAShe,EAAI2f,GAAc0D,EAAOtE,KAMnC,QAFD5hB,EAAP6C,EAAI,EAASigB,GAASjgB,EAAG+e,GAAkB,OAG7CA,EAAMb,cAAe,EACrBle,EAAI,GAEJ+e,EAAMloB,QAAUmJ,EAGG,IAAjB+e,EAAMloB,SAGHkoB,EAAMjB,QAAOiB,EAAMb,cAAe,GAGnCmF,IAAUrjB,GAAK+e,EAAMjB,OAAOyC,GAAYrvB,OAGlC,OAARiM,GAAcjM,KAAKkS,KAAK,OAAQjG,GAE7BA,GA0ET8f,GAASjsB,UAAU6tB,MAAQ,SAAU7e,QAC9BoD,KAAK,QAAS,IAAItS,MAAM,qBAG/BmsB,GAASjsB,UAAUuyB,KAAO,SAAUC,EAAMC,OACpCjI,EAAMtqB,KACN6tB,EAAQ7tB,KAAKytB,sBAETI,EAAMnB,iBACP,EACHmB,EAAMpB,MAAQ6F,aAEX,EACHzE,EAAMpB,MAAQ,CAACoB,EAAMpB,MAAO6F,iBAG5BzE,EAAMpB,MAAMxkB,KAAKqqB,GAGrBzE,EAAMnB,YAAc,EACpBT,GAAM,wBAAyB4B,EAAMnB,WAAY6F,OAI7CC,GAFUD,IAA6B,IAAjBA,EAASvsB,IAEfE,EAAQusB,WAInBC,EAAShF,GAChBzB,GAAM,YACFyB,IAAapD,GACfmI,aAIKvsB,IACP+lB,GAAM,SACNqG,EAAKtsB,MAZH6nB,EAAMhB,WAAYhlB,GAAS2qB,GAAYlI,EAAIpW,KAAK,MAAOse,GAE3DF,EAAKte,GAAG,SAAU0e,OAiBdC,EA4FN,SAAqBrI,UACZ,eACDuD,EAAQvD,EAAImD,eAChBxB,GAAM,cAAe4B,EAAMP,YACvBO,EAAMP,YAAYO,EAAMP,aACH,IAArBO,EAAMP,YAAoBhD,EAAIxZ,UAAU,QAAQnL,SAClDkoB,EAAMlB,SAAU,EAChBiC,GAAKtE,KAnGKsI,CAAYtI,GAC1BgI,EAAKte,GAAG,QAAS2e,OAEbE,GAAY,WACPJ,IACPxG,GAAM,WAENqG,EAAKzf,eAAe,QAASigB,GAC7BR,EAAKzf,eAAe,SAAUkgB,GAC9BT,EAAKzf,eAAe,QAAS8f,GAC7BL,EAAKzf,eAAe,QAASpN,GAC7B6sB,EAAKzf,eAAe,SAAU6f,GAC9BpI,EAAIzX,eAAe,MAAO3M,GAC1BokB,EAAIzX,eAAe,MAAO4f,GAC1BnI,EAAIzX,eAAe,OAAQmgB,GAE3BH,GAAY,GAORhF,EAAMP,YAAgBgF,EAAK/B,iBAAkB+B,EAAK/B,eAAeT,WAAY6C,QAO/EM,GAAsB,WAEjBD,EAAOxtB,GACdymB,GAAM,UACNgH,GAAsB,GAElB,IADMX,EAAK/sB,MAAMC,IACCytB,KAKM,IAArBpF,EAAMnB,YAAoBmB,EAAMpB,QAAU6F,GAAQzE,EAAMnB,WAAa,IAAqC,IAAhC3f,GAAQ8gB,EAAMpB,MAAO6F,MAAkBO,IACpH5G,GAAM,8BAA+B3B,EAAImD,eAAeH,YACxDhD,EAAImD,eAAeH,aACnB2F,GAAsB,GAExB3I,EAAIzkB,kBAMCJ,EAAQgO,GArenB,IAAiChC,EAse7Bwa,GAAM,UAAWxY,GACjByf,IACAZ,EAAKzf,eAAe,QAASpN,GACQ,KAzeRgM,EAyeL,QAAN6gB,EAxeLxhB,UAAUW,GAAM9L,SAweW2sB,EAAKpgB,KAAK,QAASuB,YAOpDqf,IACPR,EAAKzf,eAAe,SAAUkgB,GAC9BG,aAGOH,IACP9G,GAAM,YACNqG,EAAKzf,eAAe,QAASigB,GAC7BI,aAIOA,IACPjH,GAAM,UACN3B,EAAI4I,OAAOZ,UA9CbhI,EAAItW,GAAG,OAAQgf,GAlejB,SAAyB1gB,EAAS6gB,EAAOnpB,MAGA,mBAA5BsI,EAAQ2B,uBACV3B,EAAQ2B,gBAAgBkf,EAAOnpB,GAMjCsI,EAAQN,SAAYM,EAAQN,QAAQmhB,GAEhCprB,MAAMuF,QAAQgF,EAAQN,QAAQmhB,IACrC7gB,EAAQN,QAAQmhB,GAAO/gB,QAAQpI,GAE/BsI,EAAQN,QAAQmhB,GAAS,CAACnpB,EAAIsI,EAAQN,QAAQmhB,IAJ9C7gB,EAAQ0B,GAAGmf,EAAOnpB,GAoftBiK,CAAgBqe,EAAM,QAAS7sB,GAO/B6sB,EAAKpe,KAAK,QAAS4e,GAMnBR,EAAKpe,KAAK,SAAU6e,GAQpBT,EAAKpgB,KAAK,OAAQoY,GAGbuD,EAAMlB,UACTV,GAAM,eACN3B,EAAIxkB,UAGCwsB,GAeTvG,GAASjsB,UAAUozB,OAAS,SAAUZ,OAChCzE,EAAQ7tB,KAAKytB,kBAGQ,IAArBI,EAAMnB,WAAkB,OAAO1sB,QAGV,IAArB6tB,EAAMnB,kBAEJ4F,GAAQA,IAASzE,EAAMpB,QAEtB6F,IAAMA,EAAOzE,EAAMpB,OAGxBoB,EAAMpB,MAAQ,KACdoB,EAAMnB,WAAa,EACnBmB,EAAMlB,SAAU,EACZ2F,GAAMA,EAAKpgB,KAAK,SAAUlS,OARWA,SActCsyB,EAAM,KAELc,EAAQvF,EAAMpB,MACdhlB,EAAMomB,EAAMnB,WAChBmB,EAAMpB,MAAQ,KACdoB,EAAMnB,WAAa,EACnBmB,EAAMlB,SAAU,MAEX,IAAI0G,EAAK,EAAGA,EAAK5rB,EAAK4rB,IACzBD,EAAMC,GAAInhB,KAAK,SAAUlS,aACnBA,SAINzF,EAAIwS,GAAQ8gB,EAAMpB,MAAO6F,UAClB,IAAP/3B,IAEJszB,EAAMpB,MAAM6G,OAAO/4B,EAAG,GACtBszB,EAAMnB,YAAc,EACK,IAArBmB,EAAMnB,aAAkBmB,EAAMpB,MAAQoB,EAAMpB,MAAM,IAEtD6F,EAAKpgB,KAAK,SAAUlS,OANCA,MAavB+rB,GAASjsB,UAAUkU,GAAK,SAAUuf,EAAIvpB,OAChC0a,EAAMvU,GAAarQ,UAAUkU,GAAG3N,KAAKrG,KAAMuzB,EAAIvpB,MAExC,SAAPupB,GAEkC,IAAhCvzB,KAAKytB,eAAed,SAAmB3sB,KAAK8F,cAC3C,GAAW,aAAPytB,EAAmB,KACxB1F,EAAQ7tB,KAAKytB,eACZI,EAAMhB,YAAegB,EAAMX,oBAC9BW,EAAMX,kBAAoBW,EAAMb,cAAe,EAC/Ca,EAAMZ,iBAAkB,EACnBY,EAAMf,QAEAe,EAAMloB,QACfqoB,GAAahuB,MAFb6H,GAASgnB,GAAkB7uB,cAO1B0kB,GAETqH,GAASjsB,UAAUiU,YAAcgY,GAASjsB,UAAUkU,GASpD+X,GAASjsB,UAAUgG,OAAS,eACtB+nB,EAAQ7tB,KAAKytB,sBACZI,EAAMlB,UACTV,GAAM,UACN4B,EAAMlB,SAAU,EAMpB,SAAgBT,EAAQ2B,GACjBA,EAAMV,kBACTU,EAAMV,iBAAkB,EACxBtlB,GAASinB,GAAS5C,EAAQ2B,IAR1B/nB,CAAO9F,KAAM6tB,IAER7tB,MAuBT+rB,GAASjsB,UAAU+F,MAAQ,kBACzBomB,GAAM,wBAAyBjsB,KAAKytB,eAAed,UAC/C,IAAU3sB,KAAKytB,eAAed,UAChCV,GAAM,cACDwB,eAAed,SAAU,OACzBza,KAAK,UAELlS,MAYT+rB,GAASjsB,UAAU0zB,KAAO,SAAUtH,OAC9B2B,EAAQ7tB,KAAKytB,eACbgG,GAAS,EAET5iB,EAAO7Q,SA2BN,IAAIzF,KA1BT2xB,EAAOlY,GAAG,OAAO,cACfiY,GAAM,eACF4B,EAAML,UAAYK,EAAMjB,MAAO,KAC7BpnB,EAAQqoB,EAAML,QAAQxnB,MACtBR,GAASA,EAAMG,QAAQkL,EAAK5I,KAAKzC,GAGvCqL,EAAK5I,KAAK,SAGZikB,EAAOlY,GAAG,QAAQ,SAAUxO,IAC1BymB,GAAM,gBACF4B,EAAML,UAAShoB,EAAQqoB,EAAML,QAAQjoB,MAAMC,IAG3CqoB,EAAM1B,kBAAe3mB,KAAyDqoB,EAAM1B,YAAgB3mB,GAAUA,EAAMG,UAE9GkL,EAAK5I,KAAKzC,KAElBiuB,GAAS,EACTvH,EAAOrmB,aAMGqmB,OACI3b,IAAZvQ,KAAKzF,IAAyC,mBAAd2xB,EAAO3xB,UACpCA,GAAK,SAAUm5B,UACX,kBACExH,EAAOwH,GAAQtrB,MAAM8jB,EAAQlkB,YAF9B,CAIRzN,WAoJR,SAAiBg1B,EAAItmB,OACd,IAAI1O,EAAI,EAAGiT,EAAI+hB,EAAG5pB,OAAQpL,EAAIiT,EAAGjT,IACpC0O,EAAEsmB,EAAGh1B,GAAIA,GAhJXkS,CADa,CAAC,QAAS,QAAS,UAAW,QAAS,WACpC,SAAU8mB,GACxBrH,EAAOlY,GAAGuf,EAAI1iB,EAAKqB,KAAKyhB,KAAK9iB,EAAM0iB,OAKrC1iB,EAAK8c,MAAQ,SAAU7e,GACrBmd,GAAM,gBAAiBnd,GACnB2kB,IACFA,GAAS,EACTvH,EAAOpmB,WAIJ+K,GAITkb,GAAS6H,UAAY7E,GCjvBrBwC,GAAS5B,cAAgBA,GAIzBjgB,GAAS6hB,GAAUphB,IA6GnBwf,GAAc7vB,UAAU8vB,UAAY,mBAC9BiE,EAAU7zB,KAAK+wB,gBACfxK,EAAM,GACHsN,GACLtN,EAAIte,KAAK4rB,GACTA,EAAUA,EAAQpX,YAEb8J,GAyBTgL,GAASzxB,UAAUuyB,KAAO,gBACnBngB,KAAK,QAAS,IAAItS,MAAM,+BAkC/B2xB,GAASzxB,UAAUyF,MAAQ,SAAUC,EAAO+b,EAAUmO,OAChD7B,EAAQ7tB,KAAKuwB,eACbtkB,GAAM,QAEc,mBAAbsV,IACTmO,EAAKnO,EACLA,EAAW,MAGTzR,GAAOF,SAASpK,GAAQ+b,EAAW,SAAmBA,IAAUA,EAAWsM,EAAMT,iBAEnE,mBAAPsC,IAAmBA,EAAKF,IAE/B3B,EAAMjB,MA5CZ,SAAuBV,EAAQwD,OACzBjc,EAAK,IAAI7T,MAAM,mBAEnBssB,EAAOha,KAAK,QAASuB,GACrB5L,GAAS6nB,EAAIjc,GAwCIqgB,CAAc9zB,KAAM0vB,GAhCvC,SAAoBxD,EAAQ2B,EAAOroB,EAAOkqB,OACpCqE,GAAQ,EACRtgB,GAAK,SAIK,OAAVjO,EACFiO,EAAK,IAAI1B,UAAU,uCACTjC,GAAOF,SAASpK,IAA2B,iBAAVA,QAAgC+K,IAAV/K,GAAwBqoB,EAAM1B,aAC/F1Y,EAAK,IAAI1B,UAAU,oCAEjB0B,IACFyY,EAAOha,KAAK,QAASuB,GACrB5L,GAAS6nB,EAAIjc,GACbsgB,GAAQ,GAEHA,EAgB2CC,CAAWh0B,KAAM6tB,EAAOroB,EAAOkqB,KAC/E7B,EAAM8C,YACN1kB,EAwCJ,SAAuBigB,EAAQ2B,EAAOroB,EAAO+b,EAAUmO,GACrDlqB,EAXF,SAAqBqoB,EAAOroB,EAAO+b,GAC5BsM,EAAM1B,aAAsC,IAAxB0B,EAAMqC,eAA4C,iBAAV1qB,IAC/DA,EAAQsK,GAAOkR,KAAKxb,EAAO+b,WAEtB/b,EAOCyuB,CAAYpG,EAAOroB,EAAO+b,GAE9BzR,GAAOF,SAASpK,KAAQ+b,EAAW,cACnC9Z,EAAMomB,EAAM1B,WAAa,EAAI3mB,EAAMG,OAEvCkoB,EAAMloB,QAAU8B,MAEZwE,EAAM4hB,EAAMloB,OAASkoB,EAAMtB,cAE1BtgB,IAAK4hB,EAAMiC,WAAY,MAExBjC,EAAMsC,SAAWtC,EAAMuC,OAAQ,KAC7B8D,EAAOrG,EAAMqD,oBACjBrD,EAAMqD,oBAAsB,IAAIzB,GAASjqB,EAAO+b,EAAUmO,GACtDwE,EACFA,EAAKzX,KAAOoR,EAAMqD,oBAElBrD,EAAMkD,gBAAkBlD,EAAMqD,oBAEhCrD,EAAMuD,sBAAwB,OAE9BO,GAAQzF,EAAQ2B,GAAO,EAAOpmB,EAAKjC,EAAO+b,EAAUmO,UAG/CzjB,EAjECkoB,CAAcn0B,KAAM6tB,EAAOroB,EAAO+b,EAAUmO,IAG7CzjB,GAGTslB,GAASzxB,UAAUs0B,KAAO,WACZp0B,KAAKuwB,eAEXH,UAGRmB,GAASzxB,UAAUu0B,OAAS,eACtBxG,EAAQ7tB,KAAKuwB,eAEb1C,EAAMuC,SACRvC,EAAMuC,SAEDvC,EAAMsC,SAAYtC,EAAMuC,QAAWvC,EAAMmC,UAAanC,EAAMwC,mBAAoBxC,EAAMkD,iBAAiBC,GAAYhxB,KAAM6tB,KAIlI0D,GAASzxB,UAAUw0B,mBAAqB,SAA4B/S,MAE1C,iBAAbA,IAAuBA,EAAWA,EAAS9iB,iBAChD,CAAC,MAAO,OAAQ,QAAS,QAAS,SAAU,SAAU,OAAQ,QAAS,UAAW,WAAY,OAAOsO,SAASwU,EAAW,IAAI9iB,gBAAkB,GAAI,MAAM,IAAIsT,UAAU,qBAAuBwP,eAC/LgP,eAAenD,gBAAkB7L,EAC/BvhB,MAqKTuxB,GAASzxB,UAAU0xB,OAAS,SAAUhsB,EAAO+b,EAAUmO,GACrDA,EAAG,IAAI9vB,MAAM,qBAGf2xB,GAASzxB,UAAU4xB,QAAU,KAE7BH,GAASzxB,UAAUkG,IAAM,SAAUR,EAAO+b,EAAUmO,OAC9C7B,EAAQ7tB,KAAKuwB,eAEI,mBAAV/qB,GACTkqB,EAAKlqB,EACLA,EAAQ,KACR+b,EAAW,MACkB,mBAAbA,IAChBmO,EAAKnO,EACLA,EAAW,MAGT/b,MAAAA,GAAuCxF,KAAKuF,MAAMC,EAAO+b,GAGzDsM,EAAMuC,SACRvC,EAAMuC,OAAS,OACViE,UAIFxG,EAAMkC,QAAWlC,EAAMmC,UA4B9B,SAAqB9D,EAAQ2B,EAAO6B,GAClC7B,EAAMkC,QAAS,EACf8B,GAAY3F,EAAQ2B,GAChB6B,IACE7B,EAAMmC,SAAUnoB,GAAS6nB,GAASxD,EAAOhY,KAAK,SAAUwb,IAE9D7B,EAAMjB,OAAQ,EACdV,EAAOtjB,UAAW,EAnCoB2rB,CAAYv0B,KAAM6tB,EAAO6B,IC9ZjEhgB,GAAS0c,GAAQL,IAGjB,IADA,IAAIzf,GAAOjE,OAAOiE,KAAKilB,GAASzxB,WACvB8qB,GAAI,EAAGA,GAAIte,GAAK3G,OAAQilB,KAAK,KAChC8I,GAASpnB,GAAKse,IACbwB,GAAOtsB,UAAU4zB,MAAStH,GAAOtsB,UAAU4zB,IAAUnC,GAASzxB,UAAU4zB,KAGxE,SAAStH,GAAOttB,QACfkB,gBAAgBosB,IAAS,OAAO,IAAIA,GAAOttB,GAEjDitB,GAAS1lB,KAAKrG,KAAMlB,GACpByyB,GAASlrB,KAAKrG,KAAMlB,GAEhBA,IAAgC,IAArBA,EAAQ4uB,WAAoB1tB,KAAK0tB,UAAW,GAEvD5uB,IAAgC,IAArBA,EAAQ8J,WAAoB5I,KAAK4I,UAAW,QAEtD4rB,eAAgB,EACjB11B,IAAqC,IAA1BA,EAAQ01B,gBAAyBx0B,KAAKw0B,eAAgB,QAEhEtgB,KAAK,MAAOhO,IAInB,SAASA,KAGHlG,KAAKw0B,eAAiBx0B,KAAKuwB,eAAe3D,OAI9C/kB,GAAS4sB,GAASz0B,MAGpB,SAASy0B,GAAQ5jB,GACfA,EAAK7K,MCMP,SAAS0uB,GAAexI,QACjByI,eAAiB,SAAUlhB,EAAItN,UAWtC,SAAwB+lB,EAAQzY,EAAItN,OAC9ByuB,EAAK1I,EAAO2I,gBAChBD,EAAGE,cAAe,MAEdpF,EAAKkF,EAAGpE,YAEPd,EAAI,OAAOxD,EAAOha,KAAK,QAAS,IAAItS,MAAM,kCAE/Cg1B,EAAGG,WAAa,KAChBH,EAAGpE,QAAU,KAETrqB,MAAAA,GAAqC+lB,EAAOjkB,KAAK9B,GAErDupB,EAAGjc,OAECuhB,EAAK9I,EAAOuB,eAChBuH,EAAGlI,SAAU,GACTkI,EAAGhI,cAAgBgI,EAAGrvB,OAASqvB,EAAGzI,gBACpCL,EAAOyB,MAAMqH,EAAGzI,eA5BToI,CAAezI,EAAQzY,EAAItN,SAG/B8uB,eAAgB,OAChBH,cAAe,OACftE,QAAU,UACVuE,WAAa,UACbG,cAAgB,KAyBhB,SAASC,GAAUr2B,QAClBkB,gBAAgBm1B,IAAY,OAAO,IAAIA,GAAUr2B,GAEvDstB,GAAO/lB,KAAKrG,KAAMlB,QAEb+1B,gBAAkB,IAAIH,GAAe10B,UAGtCksB,EAASlsB,UAGRytB,eAAeT,cAAe,OAK9BS,eAAeV,MAAO,EAEvBjuB,IAC+B,mBAAtBA,EAAQs2B,YAA0Bp1B,KAAKq1B,WAAav2B,EAAQs2B,WAE1C,mBAAlBt2B,EAAQw2B,QAAsBt1B,KAAKu1B,OAASz2B,EAAQw2B,aAG5DphB,KAAK,aAAa,WACM,mBAAhBlU,KAAKu1B,OAAuBv1B,KAAKu1B,QAAO,SAAU9hB,GAC3DoG,GAAKqS,EAAQzY,MACPoG,GAAKqS,MAkDjB,SAASrS,GAAKqS,EAAQzY,MAChBA,EAAI,OAAOyY,EAAOha,KAAK,QAASuB,OAIhC+hB,EAAKtJ,EAAOqE,eACZqE,EAAK1I,EAAO2I,mBAEZW,EAAG7vB,OAAQ,MAAM,IAAI/F,MAAM,iDAE3Bg1B,EAAGE,aAAc,MAAM,IAAIl1B,MAAM,yDAE9BssB,EAAOjkB,KAAK,MCtKd,SAASwtB,GAAY32B,QACpBkB,gBAAgBy1B,IAAc,OAAO,IAAIA,GAAY32B,GAE3Dq2B,GAAU9uB,KAAKrG,KAAMlB,GCevB,SAAS42B,KACPC,GAAGtvB,KAAKrG,MFsBV0P,GAASylB,GAAW/I,IAmEpB+I,GAAUr1B,UAAUmI,KAAO,SAAUzC,EAAO+b,eACrCsT,gBAAgBI,eAAgB,EAC9B7I,GAAOtsB,UAAUmI,KAAK5B,KAAKrG,KAAMwF,EAAO+b,IAajD4T,GAAUr1B,UAAUu1B,WAAa,SAAU7vB,EAAO+b,EAAUmO,SACpD,IAAI9vB,MAAM,oBAGlBu1B,GAAUr1B,UAAU0xB,OAAS,SAAUhsB,EAAO+b,EAAUmO,OAClDkF,EAAK50B,KAAK60B,mBACdD,EAAGpE,QAAUd,EACbkF,EAAGG,WAAavvB,EAChBovB,EAAGM,cAAgB3T,GACdqT,EAAGE,aAAc,KAChBE,EAAKh1B,KAAKytB,gBACVmH,EAAGK,eAAiBD,EAAGhI,cAAgBgI,EAAGrvB,OAASqvB,EAAGzI,gBAAevsB,KAAK2tB,MAAMqH,EAAGzI,iBAO3F4I,GAAUr1B,UAAU6tB,MAAQ,SAAU7e,OAChC8lB,EAAK50B,KAAK60B,gBAEQ,OAAlBD,EAAGG,YAAuBH,EAAGpE,UAAYoE,EAAGE,cAC9CF,EAAGE,cAAe,OACbO,WAAWT,EAAGG,WAAYH,EAAGM,cAAeN,EAAGD,iBAIpDC,EAAGK,eAAgB,GCxJvBvlB,GAAS+lB,GAAaN,IAQtBM,GAAY31B,UAAUu1B,WAAa,SAAU7vB,EAAO+b,EAAUmO,GAC5DA,EAAG,KAAMlqB,ICLXkK,GAASgmB,GAAQC,IACjBD,GAAO3J,SAAWA,GAClB2J,GAAOnE,SAAWA,GAClBmE,GAAOtJ,OAASA,GAChBsJ,GAAOP,UAAYA,GACnBO,GAAOD,YAAcA,GAGrBC,GAAOA,OAASA,GAYhBA,GAAO51B,UAAUuyB,KAAO,SAASC,EAAMxzB,OACjCmY,EAASjX,cAEJgzB,EAAOxtB,GACV8sB,EAAK1pB,WACH,IAAU0pB,EAAK/sB,MAAMC,IAAUyR,EAAOpR,OACxCoR,EAAOpR,iBAOJ8sB,IACH1b,EAAOyW,UAAYzW,EAAOnR,QAC5BmR,EAAOnR,SAJXmR,EAAOjD,GAAG,OAAQgf,GAQlBV,EAAKte,GAAG,QAAS2e,GAIZL,EAAKsD,UAAc92B,IAA2B,IAAhBA,EAAQkH,MACzCiR,EAAOjD,GAAG,MAAO9N,GACjB+Q,EAAOjD,GAAG,QAAS8e,QAGjB+C,GAAW,WACN3vB,IACH2vB,IACJA,GAAW,EAEXvD,EAAKtsB,gBAIE8sB,IACH+C,IACJA,GAAW,EAEiB,mBAAjBvD,EAAKwD,SAAwBxD,EAAKwD,oBAItCrwB,EAAQgO,MACfgf,IACwC,IAApCkD,GAAG7iB,cAAc9S,KAAM,eACnByT,WAQDgf,IACPxb,EAAOpE,eAAe,OAAQmgB,GAC9BV,EAAKzf,eAAe,QAAS8f,GAE7B1b,EAAOpE,eAAe,MAAO3M,GAC7B+Q,EAAOpE,eAAe,QAASigB,GAE/B7b,EAAOpE,eAAe,QAASpN,GAC/B6sB,EAAKzf,eAAe,QAASpN,GAE7BwR,EAAOpE,eAAe,MAAO4f,GAC7Bxb,EAAOpE,eAAe,QAAS4f,GAE/BH,EAAKzf,eAAe,QAAS4f,UAjB/Bxb,EAAOjD,GAAG,QAASvO,GACnB6sB,EAAKte,GAAG,QAASvO,GAmBjBwR,EAAOjD,GAAG,MAAOye,GACjBxb,EAAOjD,GAAG,QAASye,GAEnBH,EAAKte,GAAG,QAASye,GAEjBH,EAAKpgB,KAAK,OAAQ+E,GAGXqb,GC5GTxY,OAAiB/R,MAAMuF,SAAW,SAAU0F,SACI,kBAAvC3K,OAAOvI,UAAUoN,SAAS7G,KAAK2M,ICuGxC,SAAStE,GAAeE,UACfvG,OAAOvI,UAAUoN,SAAS7G,KAAKuI,mBAjFxC,SAAiBJ,UACXzG,MAAMuF,QACDvF,MAAMuF,QAAQkB,GAEQ,mBAAxBE,GAAeF,cAIxB,SAAmBA,SACK,kBAARA,UAIhB,SAAgBA,UACC,OAARA,qBAIT,SAA2BA,UACX,MAAPA,YAIT,SAAkBA,SACM,iBAARA,YAIhB,SAAkBA,SACM,iBAARA,YAIhB,SAAkBA,SACM,iBAARA,eAIhB,SAAqBA,eACJ,IAARA,YAIT,SAAkBC,SACc,oBAAvBC,GAAeD,aAIxB,SAAkBD,SACM,iBAARA,GAA4B,OAARA,UAIpC,SAAgBG,SACe,kBAAtBD,GAAeC,YAIxB,SAAiB7H,SACe,mBAAtB4H,GAAe5H,IAA2BA,aAAalH,kBAIjE,SAAoB4O,SACI,mBAARA,eAIhB,SAAqBA,UACJ,OAARA,GACe,kBAARA,GACQ,iBAARA,GACQ,iBAARA,GACQ,iBAARA,QACQ,IAARA,YAIGsB,OAAOF,4BCtGG,mBAAlBvH,OAAOC,OAEhBwR,UAAiB,SAAkBvR,EAAMC,GACnCA,IACFD,EAAKE,OAASD,EACdD,EAAKzI,UAAYuI,OAAOC,OAAOE,EAAU1I,UAAW,CAClD4I,YAAa,CACXnC,MAAOgC,EACPI,YAAY,EACZC,UAAU,EACVC,cAAc,OAOtBiR,UAAiB,SAAkBvR,EAAMC,MACnCA,EAAW,CACbD,EAAKE,OAASD,MACVM,EAAW,aACfA,EAAShJ,UAAY0I,EAAU1I,UAC/ByI,EAAKzI,UAAY,IAAIgJ,EACrBP,EAAKzI,UAAU4I,YAAcH,yBCvBnC,QACMwtB,EAAOvd,MAEkB,mBAAlBud,EAAKrmB,SAAyB,KAAM,GAC/CoK,UAAiBic,EAAKrmB,SACtB,MAAO5I,GAEPgT,UAAiBtB,UCkBF+Y,GAGbzhB,GAAS0I,GAAkB1I,OAe/B,SAAS2f,GAASjqB,EAAO+b,EAAUmO,QAC5BlqB,MAAQA,OACR+b,SAAWA,OACX3F,SAAW8T,EAGlB,SAASC,GAAc7wB,EAASotB,OAC1BE,EAAS5T,GAOT8T,GALJxtB,EAAUA,GAAW,IAKHytB,cACdC,EAAa1tB,EAAQqtB,WAAa,GAAK,WACtCI,cAAiBD,GAAe,IAARA,EAAaA,EAAME,OAI3CL,aAAertB,EAAQqtB,WAExBD,aAAkBE,IACpBpsB,KAAKmsB,WAAansB,KAAKmsB,cAAgBrtB,EAAQ+wB,yBAG5CtD,gBAAkBvsB,KAAKusB,mBAEvBuD,WAAY,OAEZC,QAAS,OAETnD,OAAQ,OAERoD,UAAW,MAKZC,GAAqC,IAA1BnxB,EAAQoxB,mBAClBA,eAAiBD,OAKjB7C,gBAAkBtuB,EAAQsuB,iBAAmB,YAK7CznB,OAAS,OAGTwqB,SAAU,OAGVC,OAAS,OAMTrD,MAAO,OAKPsD,kBAAmB,OAGnBC,QAAU,SAAS7c,IA+L1B,SAAiByY,EAAQzY,OACnBoa,EAAQ3B,EAAOqE,eACfxD,EAAOc,EAAMd,KACb2C,EAAK7B,EAAM2C,WAVjB,SAA4B3C,GAC1BA,EAAMsC,SAAU,EAChBtC,EAAM2C,QAAU,KAChB3C,EAAMloB,QAAUkoB,EAAM4C,SACtB5C,EAAM4C,SAAW,EAQjBC,CAAmB7C,GAEfpa,GA7BN,SAAsByY,EAAQ2B,EAAOd,EAAMtZ,EAAIic,GACzC3C,EACF5iB,QAAQtC,UAAS,WACfgmB,EAAM8C,YACNjB,EAAGjc,OAGLoa,EAAM8C,YACNjB,EAAGjc,IAGLyY,EAAOqE,eAAeK,cAAe,EACrC1E,EAAOha,KAAK,QAASuB,GAkBnBod,CAAa3E,EAAQ2B,EAAOd,EAAMtZ,EAAIic,OACnC,KAECM,EAAWc,GAAW5E,EAAQ2B,GAE7BmC,GACAnC,EAAMuC,QACNvC,EAAMwC,mBACPxC,EAAMrO,OAAO7Z,QACfqrB,GAAY9E,EAAQ2B,GAGlBd,EACF5iB,QAAQtC,UAAS,WACfopB,GAAW/E,EAAQ2B,EAAOmC,EAAUN,MAGtCuB,GAAW/E,EAAQ2B,EAAOmC,EAAUN,IAvNtCY,CAAQpE,EAAQzY,SAIb+c,QAAU,UAGVC,SAAW,OAEXjR,OAAS,QAITmR,UAAY,OAIZQ,aAAc,OAGdP,cAAe,EAGtB,SAASW,GAASzyB,QAKVkB,gBAAgBuxB,IAAevxB,gBAJxBwY,IAKX,OAAO,IAAI+Y,GAASzyB,QAEjByxB,eAAiB,IAAIZ,GAAc7wB,EAASkB,WAG5C4I,UAAW,EAEhB8sB,GAAOrvB,KAAKrG,MAwHd,SAAS2xB,GAAQzF,EAAQ2B,EAAO4D,EAAQhqB,EAAKjC,EAAO+b,EAAUmO,GAC5D7B,EAAM4C,SAAWhpB,EACjBomB,EAAM2C,QAAUd,EAChB7B,EAAMsC,SAAU,EAChBtC,EAAMd,MAAO,EACT0E,EACFvF,EAAOwF,QAAQlsB,EAAOqoB,EAAMyC,SAE5BpE,EAAOsF,OAAOhsB,EAAO+b,EAAUsM,EAAMyC,SACvCzC,EAAMd,MAAO,EAuDf,SAASkE,GAAW/E,EAAQ2B,EAAOmC,EAAUN,GACtCM,GAUP,SAAsB9D,EAAQ2B,GACP,IAAjBA,EAAMloB,QAAgBkoB,EAAMiC,YAC9BjC,EAAMiC,WAAY,EAClB5D,EAAOha,KAAK,UAZZ0f,CAAa1F,EAAQ2B,GACvBA,EAAM8C,YACNjB,IACAmC,GAAY3F,EAAQ2B,GAetB,SAASmD,GAAY9E,EAAQ2B,MAC3BA,EAAMwC,kBAAmB,EAErBnE,EAAOwF,SAAW7D,EAAMrO,OAAO7Z,OAAS,EAAG,SAEzC5G,EAAM,GACDX,EAAI,EAAGA,EAAIyvB,EAAMrO,OAAO7Z,OAAQvH,IACvCW,EAAIkJ,KAAK4lB,EAAMrO,OAAOphB,GAAGwd,UAI3BiS,EAAM8C,YACNgB,GAAQzF,EAAQ2B,GAAO,EAAMA,EAAMloB,OAAQkoB,EAAMrO,OAAQ,IAAI,SAAS7L,OAC/D,IAAIpZ,EAAI,EAAGA,EAAIwE,EAAI4G,OAAQpL,IAC9BszB,EAAM8C,YACN5xB,EAAIxE,GAAGoZ,MAKXka,EAAMrO,OAAS,OACV,KAEIphB,EAAI,EAAGA,EAAIyvB,EAAMrO,OAAO7Z,OAAQvH,IAAK,KACxCigB,EAAQwP,EAAMrO,OAAOphB,GACrBoH,EAAQ6Y,EAAM7Y,MACd+b,EAAWlD,EAAMkD,SACjBmO,EAAKrR,EAAMzC,SACXnU,EAAMomB,EAAM1B,WAAa,EAAI3mB,EAAMG,UAEvCgsB,GAAQzF,EAAQ2B,GAAO,EAAOpmB,EAAKjC,EAAO+b,EAAUmO,GAMhD7B,EAAMsC,QAAS,CACjB/xB,WAKAA,EAAIyvB,EAAMrO,OAAO7Z,OACnBkoB,EAAMrO,OAASqO,EAAMrO,OAAOkC,MAAMtjB,GAElCyvB,EAAMrO,OAAO7Z,OAAS,EAG1BkoB,EAAMwC,kBAAmB,EAqC3B,SAASS,GAAW5E,EAAQ2B,UAClBA,EAAMkC,QACW,IAAjBlC,EAAMloB,SACLkoB,EAAMmC,WACNnC,EAAMsC,QAGjB,SAAS6B,GAAU9F,EAAQ2B,GACpBA,EAAMsD,cACTtD,EAAMsD,aAAc,EACpBjF,EAAOha,KAAK,cAIhB,SAAS2f,GAAY3F,EAAQ2B,OACvBoE,EAAOnB,GAAW5E,EAAQ2B,UAC1BoE,IACsB,IAApBpE,EAAM8C,WACRqB,GAAU9F,EAAQ2B,GAClBA,EAAMmC,UAAW,EACjB9D,EAAOha,KAAK,WAEZ8f,GAAU9F,EAAQ2B,IAEfoE,EAhbTV,GAAS5B,cAAgBA,GAKzBoG,GAAKrmB,SAAW8I,GAKhBud,GAAKrmB,SAAS6hB,GAAUmE,IAiHxBnE,GAASzxB,UAAUuyB,KAAO,gBACnBngB,KAAK,QAAS,IAAItS,MAAM,gCAkC/B2xB,GAASzxB,UAAUyF,MAAQ,SAASC,EAAO+b,EAAUmO,OAC/C7B,EAAQ7tB,KAAKuwB,eACbtkB,GAAM,SAEN8pB,GAAK/pB,WAAWuV,KAClBmO,EAAKnO,EACLA,EAAW,MAGTwU,GAAKnmB,SAASpK,GAChB+b,EAAW,SACHA,IACRA,EAAWsM,EAAMT,iBAEd2I,GAAK/pB,WAAW0jB,KACnBA,EAAK,cAEH7B,EAAMjB,MA/CZ,SAAuBV,EAAQ2B,EAAO6B,OAChCjc,EAAK,IAAI7T,MAAM,mBAEnBssB,EAAOha,KAAK,QAASuB,GACrBtJ,QAAQtC,UAAS,WACf6nB,EAAGjc,MA2CHqgB,CAAc9zB,KAAM6tB,EAAO6B,GAlC/B,SAAoBxD,EAAQ2B,EAAOroB,EAAOkqB,OACpCqE,GAAQ,OACPgC,GAAKnmB,SAASpK,IACduwB,GAAK7sB,SAAS1D,IACduwB,GAAK9lB,kBAAkBzK,IACvBqoB,EAAM1B,YAAY,KACjB1Y,EAAK,IAAI1B,UAAU,mCACvBma,EAAOha,KAAK,QAASuB,GACrBtJ,QAAQtC,UAAS,WACf6nB,EAAGjc,MAELsgB,GAAQ,SAEHA,EAsBEC,CAAWh0B,KAAM6tB,EAAOroB,EAAOkqB,KACtC7B,EAAM8C,YACN1kB,EAuCJ,SAAuBigB,EAAQ2B,EAAOroB,EAAO+b,EAAUmO,GACrDlqB,EAbF,SAAqBqoB,EAAOroB,EAAO+b,IAC5BsM,EAAM1B,aACiB,IAAxB0B,EAAMqC,eACN6F,GAAK7sB,SAAS1D,KAChBA,EAAQ,IAAIsK,GAAOtK,EAAO+b,WAErB/b,EAOCyuB,CAAYpG,EAAOroB,EAAO+b,GAC9BwU,GAAKnmB,SAASpK,KAChB+b,EAAW,cACT9Z,EAAMomB,EAAM1B,WAAa,EAAI3mB,EAAMG,OAEvCkoB,EAAMloB,QAAU8B,MAEZwE,EAAM4hB,EAAMloB,OAASkoB,EAAMtB,cAE1BtgB,IACH4hB,EAAMiC,WAAY,GAEhBjC,EAAMsC,SAAWtC,EAAMuC,OACzBvC,EAAMrO,OAAOvX,KAAK,IAAIwnB,GAASjqB,EAAO+b,EAAUmO,IAEhDiC,GAAQzF,EAAQ2B,GAAO,EAAOpmB,EAAKjC,EAAO+b,EAAUmO,UAE/CzjB,EAzDCkoB,CAAcn0B,KAAM6tB,EAAOroB,EAAO+b,EAAUmO,IAG7CzjB,GAGTslB,GAASzxB,UAAUs0B,KAAO,WACZp0B,KAAKuwB,eAEXH,UAGRmB,GAASzxB,UAAUu0B,OAAS,eACtBxG,EAAQ7tB,KAAKuwB,eAEb1C,EAAMuC,SACRvC,EAAMuC,SAEDvC,EAAMsC,SACNtC,EAAMuC,QACNvC,EAAMmC,UACNnC,EAAMwC,mBACPxC,EAAMrO,OAAO7Z,QACfqrB,GAAYhxB,KAAM6tB,KA4KxB0D,GAASzxB,UAAU0xB,OAAS,SAAShsB,EAAO+b,EAAUmO,GACpDA,EAAG,IAAI9vB,MAAM,qBAIf2xB,GAASzxB,UAAU4xB,QAAU,KAE7BH,GAASzxB,UAAUkG,IAAM,SAASR,EAAO+b,EAAUmO,OAC7C7B,EAAQ7tB,KAAKuwB,eAEbwF,GAAK/pB,WAAWxG,IAClBkqB,EAAKlqB,EACLA,EAAQ,KACR+b,EAAW,MACFwU,GAAK/pB,WAAWuV,KACzBmO,EAAKnO,EACLA,EAAW,MAGRwU,GAAK9lB,kBAAkBzK,IAC1BxF,KAAKuF,MAAMC,EAAO+b,GAGhBsM,EAAMuC,SACRvC,EAAMuC,OAAS,OACViE,UAIFxG,EAAMkC,QAAWlC,EAAMmC,UAgC9B,SAAqB9D,EAAQ2B,EAAO6B,GAClC7B,EAAMkC,QAAS,EACf8B,GAAY3F,EAAQ2B,GAChB6B,IACE7B,EAAMmC,SACR7lB,QAAQtC,SAAS6nB,GAEjBxD,EAAOhY,KAAK,SAAUwb,IAE1B7B,EAAMjB,OAAQ,EAxCZ2H,CAAYv0B,KAAM6tB,EAAO6B,ICzZ7B5V,OAAiBsS,GAGb4J,GAAa3tB,OAAOiE,MAAQ,SAAUxB,OACpCwB,EAAO,OACN,IAAIoB,KAAO5C,EAAKwB,EAAKrE,KAAKyF,UACxBpB,GAoBT,SAAS8f,GAAOttB,QACRkB,gBAAgBosB,IACpB,OAAO,IAAIA,GAAOttB,GAEpBitB,GAAS1lB,KAAKrG,KAAMlB,GACpByyB,GAASlrB,KAAKrG,KAAMlB,GAEhBA,IAAgC,IAArBA,EAAQ4uB,WACrB1tB,KAAK0tB,UAAW,GAEd5uB,IAAgC,IAArBA,EAAQ8J,WACrB5I,KAAK4I,UAAW,QAEb4rB,eAAgB,EACjB11B,IAAqC,IAA1BA,EAAQ01B,gBACrBx0B,KAAKw0B,eAAgB,QAElBtgB,KAAK,MAAOhO,IAInB,SAASA,KAGHlG,KAAKw0B,eAAiBx0B,KAAKuwB,eAAe3D,OAK9CziB,QAAQtC,SAAS7H,KAAKgG,IAAI2tB,KAAK3zB,OA1CjC+1B,GAAKrmB,SAAW8I,GAMhBud,GAAKrmB,SAAS0c,GAAQL,IAuCtB,SAAkBwD,EAAItmB,OACf,IAAI1O,EAAI,EAAGiT,EAAI+hB,EAAG5pB,OAAQpL,EAAIiT,EAAGjT,IACpC0O,EAAEsmB,EAAGh1B,GAAIA,GAvCbkS,CAAQupB,GAAWzE,GAASzxB,YAAY,SAAS4zB,GAC1CtH,GAAOtsB,UAAU4zB,KACpBtH,GAAOtsB,UAAU4zB,GAAUnC,GAASzxB,UAAU4zB,+BC5BlD,IAAI5jB,EAAS0I,GAAkB1I,OAE3Bib,EAAmBjb,EAAO0R,YACzB,SAASD,UACCA,GAAYA,EAAS9iB,mBACtB,UAAY,WAAa,YAAc,YAAc,aAAe,aAAe,WAAa,YAAc,cAAgB,eAAiB,aAAc,iBAClJ,IAmBzB,IAAIusB,EAAgBiL,gBAAwB,SAAS1U,eAC9CA,UAAYA,GAAY,QAAQ9iB,cAAc8K,QAAQ,OAAQ,IAfrE,SAAwBgY,MAClBA,IAAawJ,EAAiBxJ,SAC1B,IAAI3hB,MAAM,qBAAuB2hB,GAczC0J,CAAe1J,GACPvhB,KAAKuhB,cACN,YAEE2J,cAAgB,YAElB,WACA,eAEEA,cAAgB,OAChBC,qBAAuBC,YAEzB,cAEEF,cAAgB,OAChBC,qBAAuBE,iCAGvB9lB,MAAQ+lB,QAMZC,WAAa,IAAIzb,EAAO,QAExB0b,aAAe,OAEfC,WAAa,GAoIpB,SAASH,EAAiB9L,UACjBA,EAAOtS,SAASlN,KAAKuhB,UAG9B,SAAS6J,EAA0B5L,QAC5BgM,aAAehM,EAAO7Z,OAAS,OAC/B8lB,WAAazrB,KAAKwrB,aAAe,EAAI,EAG5C,SAASH,EAA2B7L,QAC7BgM,aAAehM,EAAO7Z,OAAS,OAC/B8lB,WAAazrB,KAAKwrB,aAAe,EAAI,EAlI5CR,EAAclrB,UAAUyF,MAAQ,SAASia,WACnCkM,EAAU,GAEP1rB,KAAKyrB,YAAY,KAElBE,EAAanM,EAAO7Z,QAAU3F,KAAKyrB,WAAazrB,KAAKwrB,aACrDxrB,KAAKyrB,WAAazrB,KAAKwrB,aACvBhM,EAAO7Z,UAGX6Z,EAAOvM,KAAKjT,KAAKurB,WAAYvrB,KAAKwrB,aAAc,EAAGG,QAC9CH,cAAgBG,EAEjB3rB,KAAKwrB,aAAexrB,KAAKyrB,iBAEpB,MAITjM,EAASA,EAAOkC,MAAMiK,EAAWnM,EAAO7Z,WAMpCimB,GAHJF,EAAU1rB,KAAKurB,WAAW7J,MAAM,EAAG1hB,KAAKyrB,YAAYve,SAASlN,KAAKuhB,WAG3CzC,WAAW4M,EAAQ/lB,OAAS,KACnC,OAAUimB,GAAY,gBAKjCJ,aAAexrB,KAAKyrB,WAAa,EAGhB,IAAlBjM,EAAO7Z,cACF+lB,aARFD,YAAczrB,KAAKkrB,cACxBQ,EAAU,QAaTP,qBAAqB3L,OAEtBxZ,EAAMwZ,EAAO7Z,OACb3F,KAAKyrB,aAEPjM,EAAOvM,KAAKjT,KAAKurB,WAAY,EAAG/L,EAAO7Z,OAAS3F,KAAKwrB,aAAcxlB,GACnEA,GAAOhG,KAAKwrB,kBAMVI,EADA5lB,GAFJ0lB,GAAWlM,EAAOtS,SAASlN,KAAKuhB,SAAU,EAAGvb,IAE3BL,OAAS,MACvBimB,EAAWF,EAAQ5M,WAAW9Y,KAElB,OAAU4lB,GAAY,MAAQ,KACxC5J,EAAOhiB,KAAKkrB,0BACXO,YAAczJ,OACdwJ,cAAgBxJ,OAChBuJ,WAAWtY,KAAKjT,KAAKurB,WAAYvJ,EAAM,EAAGA,GAC/CxC,EAAOvM,KAAKjT,KAAKurB,WAAY,EAAG,EAAGvJ,GAC5B0J,EAAQ3pB,UAAU,EAAGiE,UAIvB0lB,GAOTV,EAAclrB,UAAUqrB,qBAAuB,SAAS3L,WAElDjlB,EAAKilB,EAAO7Z,QAAU,EAAK,EAAI6Z,EAAO7Z,OAInCpL,EAAI,EAAGA,IAAK,KACb6D,EAAIohB,EAAOA,EAAO7Z,OAASpL,MAKtB,GAALA,GAAU6D,GAAK,GAAK,EAAM,MACvBqtB,WAAa,WAKhBlxB,GAAK,GAAK6D,GAAK,GAAK,GAAM,MACvBqtB,WAAa,WAKhBlxB,GAAK,GAAK6D,GAAK,GAAK,GAAM,MACvBqtB,WAAa,cAIjBD,aAAejxB,GAGtBywB,EAAclrB,UAAUkG,IAAM,SAASwZ,OACjCkF,EAAM,MACNlF,GAAUA,EAAO7Z,SACnB+e,EAAM1kB,KAAKuF,MAAMia,IAEfxf,KAAKwrB,aAAc,KACjBK,EAAK7rB,KAAKwrB,aACVnI,EAAMrjB,KAAKurB,WACXO,EAAM9rB,KAAKuhB,SACfmD,GAAOrB,EAAI3B,MAAM,EAAGmK,GAAI3e,SAAS4e,UAG5BpH,2BCxLQqH,IAQbjc,GAAS0I,GAAkB1I,OAG/Bic,GAASC,cAAgBA,GAEzB,IAeIhB,GAfA2K,GAAKnd,GAAkBrI,aAGtBwlB,GAAG7iB,gBAAe6iB,GAAG7iB,cAAgB,SAASR,EAASb,UACnDa,EAAQxB,UAAUW,GAAM9L,SAQjCowB,GAAKrmB,SAAW8I,GAOhB,IAAIyT,GAAQzT,GAWZ,SAASwT,GAAcltB,EAASotB,OAC1BE,EAAS5T,GAMT8T,GAJJxtB,EAAUA,GAAW,IAIHytB,cACdC,EAAa1tB,EAAQqtB,WAAa,GAAK,WACtCI,cAAiBD,GAAe,IAARA,EAAaA,EAAME,OAG3CD,gBAAkBvsB,KAAKusB,mBAEvB/M,OAAS,QACT7Z,OAAS,OACT8mB,MAAQ,UACRC,WAAa,OACbC,QAAU,UACVC,OAAQ,OACRC,YAAa,OACbC,SAAU,OAMVC,MAAO,OAIPC,cAAe,OACfC,iBAAkB,OAClBC,mBAAoB,OAKpBf,aAAertB,EAAQqtB,WAExBD,aAAkBE,IACpBpsB,KAAKmsB,WAAansB,KAAKmsB,cAAgBrtB,EAAQutB,yBAK5Ce,gBAAkBtuB,EAAQsuB,iBAAmB,YAI7CC,QAAS,OAGTC,WAAa,OAGbC,aAAc,OAEdC,QAAU,UACVjM,SAAW,KACZziB,EAAQyiB,WACLyJ,KACHA,GAAgBxS,GAA2BwS,oBACxCwC,QAAU,IAAIxC,GAAclsB,EAAQyiB,eACpCA,SAAWziB,EAAQyiB,UAI5B,SAASwK,GAASjtB,QAGVkB,gBAAgB+rB,IACpB,OAAO,IAAIA,GAASjtB,QAEjB2uB,eAAiB,IAAIzB,GAAcltB,EAASkB,WAG5C0tB,UAAW,EAEhBgI,GAAOrvB,KAAKrG,MA2Bd,SAAS4tB,GAAiB1B,EAAQ2B,EAAOroB,EAAO+b,EAAUuM,OACpDra,EA8ON,SAAsBoa,EAAOroB,OACvBiO,EAAK,KACJsiB,GAAKnmB,SAASpK,IACduwB,GAAK7sB,SAAS1D,IACduwB,GAAK9lB,kBAAkBzK,IACvBqoB,EAAM1B,aACT1Y,EAAK,IAAI1B,UAAU,2CAEd0B,EAtPEsa,CAAaF,EAAOroB,MACzBiO,EACFyY,EAAOha,KAAK,QAASuB,QAChB,GAAIsiB,GAAK9lB,kBAAkBzK,GAChCqoB,EAAMf,SAAU,EACXe,EAAMjB,OAqPf,SAAoBV,EAAQ2B,MACtBA,EAAML,UAAYK,EAAMjB,MAAO,KAC7BpnB,EAAQqoB,EAAML,QAAQxnB,MACtBR,GAASA,EAAMG,SACjBkoB,EAAMrO,OAAOvX,KAAKzC,GAClBqoB,EAAMloB,QAAUkoB,EAAM1B,WAAa,EAAI3mB,EAAMG,QAGjDkoB,EAAMjB,OAAQ,EAGdoB,GAAa9B,GA/PT+B,CAAW/B,EAAQ2B,QAChB,GAAIA,EAAM1B,YAAc3mB,GAASA,EAAMG,OAAS,KACjDkoB,EAAMjB,QAAUkB,EAAY,KAC1BhnB,EAAI,IAAIlH,MAAM,2BAClBssB,EAAOha,KAAK,QAASpL,QAChB,GAAI+mB,EAAMhB,YAAciB,EAAY,CACrChnB,EAAI,IAAIlH,MAAM,oCAClBssB,EAAOha,KAAK,QAASpL,QAEjB+mB,EAAML,SAAYM,GAAevM,IACnC/b,EAAQqoB,EAAML,QAAQjoB,MAAMC,IAEzBsoB,IACHD,EAAMf,SAAU,GAGde,EAAMlB,SAA4B,IAAjBkB,EAAMloB,SAAiBkoB,EAAMd,MAChDb,EAAOha,KAAK,OAAQ1M,GACpB0mB,EAAO3M,KAAK,KAGZsO,EAAMloB,QAAUkoB,EAAM1B,WAAa,EAAI3mB,EAAMG,OACzCmoB,EACFD,EAAMrO,OAAOpN,QAAQ5M,GAErBqoB,EAAMrO,OAAOvX,KAAKzC,GAEhBqoB,EAAMb,cACRgB,GAAa9B,IAqQvB,SAAuBA,EAAQ2B,GACxBA,EAAMN,cACTM,EAAMN,aAAc,EACpBpjB,QAAQtC,UAAS,YAMrB,SAAwBqkB,EAAQ2B,OAC1BpmB,EAAMomB,EAAMloB,aACRkoB,EAAMf,UAAYe,EAAMlB,UAAYkB,EAAMjB,OAC3CiB,EAAMloB,OAASkoB,EAAMtB,gBAC1BN,GAAM,wBACNC,EAAO3M,KAAK,GACR9X,IAAQomB,EAAMloB,SAIhB8B,EAAMomB,EAAMloB,OAEhBkoB,EAAMN,aAAc,EAjBhBa,CAAelC,EAAQ2B,OAtQvBQ,CAAcnC,EAAQ2B,QAEdC,IACVD,EAAMf,SAAU,UAepB,SAAsBe,UACZA,EAAMjB,QACNiB,EAAMb,cACNa,EAAMloB,OAASkoB,EAAMtB,eACJ,IAAjBsB,EAAMloB,QAhBP2oB,CAAaT,GA/JpB5B,GADEA,IAASA,GAAMxhB,SACTwhB,GAAMxhB,SAAS,UAEf,aAKVsrB,GAAKrmB,SAASqc,GAAU2J,IAwFxB3J,GAASjsB,UAAUmI,KAAO,SAASzC,EAAO+b,OACpCsM,EAAQ7tB,KAAKytB,sBAEbsI,GAAK7sB,SAAS1D,KAAWqoB,EAAM1B,aACjC5K,EAAWA,GAAYsM,EAAMT,mBACZS,EAAMtM,WACrB/b,EAAQ,IAAIsK,GAAOtK,EAAO+b,GAC1BA,EAAW,IAIRqM,GAAiB5tB,KAAM6tB,EAAOroB,EAAO+b,GAAU,IAIxDwK,GAASjsB,UAAUsS,QAAU,SAAS5M,UAE7BooB,GAAiB5tB,KADZA,KAAKytB,eACoBjoB,EAAO,IAAI,IAmElDumB,GAASjsB,UAAU0uB,YAAc,SAAS1C,UACnCd,KACHA,GAAgBxS,GAA2BwS,oBACxCyC,eAAeD,QAAU,IAAIxC,GAAcc,QAC3C2B,eAAelM,SAAWuK,EACxB9rB,MAiBT,SAASyuB,GAAc3f,EAAG+e,UACH,IAAjBA,EAAMloB,QAAgBkoB,EAAMjB,MACvB,EAELiB,EAAM1B,WACK,IAANrd,EAAU,EAAI,EAEnByE,MAAMzE,IAAMinB,GAAKlsB,OAAOiF,GAEtB+e,EAAMlB,SAAWkB,EAAMrO,OAAO7Z,OACzBkoB,EAAMrO,OAAO,GAAG7Z,OAEhBkoB,EAAMloB,OAGbmJ,GAAK,EACA,GAMLA,EAAI+e,EAAMtB,gBACZsB,EAAMtB,cAnCV,SAA+Bzd,MACzBA,GAFQ,QAGVA,EAHU,YAIL,CAELA,QACK,IAAImH,EAAI,EAAGA,EAAI,GAAIA,IAAM,EAAGnH,GAAKA,GAAKmH,EAC3CnH,WAEKA,EA0BiBonB,CAAsBpnB,IAG1CA,EAAI+e,EAAMloB,OACPkoB,EAAMjB,MAIFiB,EAAMloB,QAHbkoB,EAAMb,cAAe,EACd,GAKJle,GAoJT,SAASkf,GAAa9B,OAChB2B,EAAQ3B,EAAOuB,eACnBI,EAAMb,cAAe,EAChBa,EAAMZ,kBACThB,GAAM,eAAgB4B,EAAMlB,SAC5BkB,EAAMZ,iBAAkB,EACpBY,EAAMd,KACR5iB,QAAQtC,UAAS,WACf8mB,GAAczC,MAGhByC,GAAczC,IAIpB,SAASyC,GAAczC,GACrBD,GAAM,iBACNC,EAAOha,KAAK,YACZ0c,GAAK1C,GA+TP,SAAS0C,GAAK1C,OACR2B,EAAQ3B,EAAOuB,kBACnBxB,GAAM,OAAQ4B,EAAMlB,SAChBkB,EAAMlB,eAEFnnB,EAAQ0mB,EAAO3M,aACZ,OAAS/Z,GAASqoB,EAAMlB,SAyErC,SAASoC,GAASjgB,EAAG+e,OAKf5hB,EAJAmI,EAAOyZ,EAAMrO,OACb7Z,EAASkoB,EAAMloB,OACfwwB,IAAetI,EAAML,QACrBrB,IAAe0B,EAAM1B,cAIL,IAAhB/X,EAAKzO,OACP,OAAO,QAEM,IAAXA,EACFsG,EAAM,UACH,GAAIkgB,EACPlgB,EAAMmI,EAAKyW,aACR,IAAK/b,GAAKA,GAAKnJ,EAGhBsG,EADEkqB,EACI/hB,EAAK/K,KAAK,IAEVyG,GAAOxI,OAAO8M,EAAMzO,GAC5ByO,EAAKzO,OAAS,MACT,IAEDmJ,EAAIsF,EAAK,GAAGzO,OAIdsG,GADIoX,EAAMjP,EAAK,IACLsN,MAAM,EAAG5S,GACnBsF,EAAK,GAAKiP,EAAI3B,MAAM5S,QACf,GAAIA,IAAMsF,EAAK,GAAGzO,OAEvBsG,EAAMmI,EAAKyW,YACN,CAIH5e,EADEkqB,EACI,GAEA,IAAIrmB,GAAOhB,WAEf1Q,EAAI,EACC7D,EAAI,EAAGiT,EAAI4G,EAAKzO,OAAQpL,EAAIiT,GAAKpP,EAAI0Q,EAAGvU,IAAK,KAChD8oB,EAAMjP,EAAK,GACXgiB,EAAMjW,KAAKsE,IAAI3V,EAAI1Q,EAAGilB,EAAI1d,QAE1BwwB,EACFlqB,GAAOoX,EAAI3B,MAAM,EAAG0U,GAEpB/S,EAAIpQ,KAAKhH,EAAK7N,EAAG,EAAGg4B,GAElBA,EAAM/S,EAAI1d,OACZyO,EAAK,GAAKiP,EAAI3B,MAAM0U,GAEpBhiB,EAAKyW,QAEPzsB,GAAKg4B,WAKJnqB,EAGT,SAASojB,GAAYnD,OACf2B,EAAQ3B,EAAOuB,kBAIfI,EAAMloB,OAAS,EACjB,MAAM,IAAI/F,MAAM,0CAEbiuB,EAAMhB,aACTgB,EAAMjB,OAAQ,EACdziB,QAAQtC,UAAS,WAEVgmB,EAAMhB,YAA+B,IAAjBgB,EAAMloB,SAC7BkoB,EAAMhB,YAAa,EACnBX,EAAOwB,UAAW,EAClBxB,EAAOha,KAAK,YA/nBpB6Z,GAASjsB,UAAUyf,KAAO,SAASzQ,GACjCmd,GAAM,OAAQnd,OACV+e,EAAQ7tB,KAAKytB,eACb0E,EAAQrjB,OAEPinB,GAAK3pB,SAAS0C,IAAMA,EAAI,KAC3B+e,EAAMZ,iBAAkB,GAKhB,IAANne,GACA+e,EAAMb,eACLa,EAAMloB,QAAUkoB,EAAMtB,eAAiBsB,EAAMjB,cAChDX,GAAM,qBAAsB4B,EAAMloB,OAAQkoB,EAAMjB,OAC3B,IAAjBiB,EAAMloB,QAAgBkoB,EAAMjB,MAC9ByC,GAAYrvB,MAEZguB,GAAahuB,MACR,QAMC,KAHV8O,EAAI2f,GAAc3f,EAAG+e,KAGNA,EAAMjB,aACE,IAAjBiB,EAAMloB,QACR0pB,GAAYrvB,MACP,SA2DLiM,EAjCAmmB,EAASvE,EAAMb,oBACnBf,GAAM,gBAAiBmG,IAGF,IAAjBvE,EAAMloB,QAAgBkoB,EAAMloB,OAASmJ,EAAI+e,EAAMtB,gBAEjDN,GAAM,6BADNmG,GAAS,IAMPvE,EAAMjB,OAASiB,EAAMf,UAEvBb,GAAM,mBADNmG,GAAS,GAIPA,IACFnG,GAAM,WACN4B,EAAMf,SAAU,EAChBe,EAAMd,MAAO,EAEQ,IAAjBc,EAAMloB,SACRkoB,EAAMb,cAAe,QAElBW,MAAME,EAAMtB,eACjBsB,EAAMd,MAAO,GAKXqF,IAAWvE,EAAMf,UACnBhe,EAAI2f,GAAc0D,EAAOtE,IAIzB5hB,EADE6C,EAAI,EACAigB,GAASjgB,EAAG+e,GAEZ,KAEJkI,GAAKlsB,OAAOoC,KACd4hB,EAAMb,cAAe,EACrBle,EAAI,GAGN+e,EAAMloB,QAAUmJ,EAIK,IAAjB+e,EAAMloB,QAAiBkoB,EAAMjB,QAC/BiB,EAAMb,cAAe,GAGnBmF,IAAUrjB,GAAK+e,EAAMjB,OAA0B,IAAjBiB,EAAMloB,QACtC0pB,GAAYrvB,MAET+1B,GAAKlsB,OAAOoC,IACfjM,KAAKkS,KAAK,OAAQjG,GAEbA,GAwFT8f,GAASjsB,UAAU6tB,MAAQ,SAAS7e,QAC7BoD,KAAK,QAAS,IAAItS,MAAM,qBAG/BmsB,GAASjsB,UAAUuyB,KAAO,SAASC,EAAMC,OACnCjI,EAAMtqB,KACN6tB,EAAQ7tB,KAAKytB,sBAETI,EAAMnB,iBACP,EACHmB,EAAMpB,MAAQ6F,aAEX,EACHzE,EAAMpB,MAAQ,CAACoB,EAAMpB,MAAO6F,iBAG5BzE,EAAMpB,MAAMxkB,KAAKqqB,GAGrBzE,EAAMnB,YAAc,EACpBT,GAAM,wBAAyB4B,EAAMnB,WAAY6F,OAM7CC,IAJUD,IAA6B,IAAjBA,EAASvsB,MACvBssB,IAASnoB,QAAQksB,QACjB/D,IAASnoB,QAAQmsB,OAETpwB,EAAQusB,WAOnBC,EAAShF,GAChBzB,GAAM,YACFyB,IAAapD,GACfmI,aAIKvsB,IACP+lB,GAAM,SACNqG,EAAKtsB,MAfH6nB,EAAMhB,WACR1iB,QAAQtC,SAAS2qB,GAEjBlI,EAAIpW,KAAK,MAAOse,GAElBF,EAAKte,GAAG,SAAU0e,OAiBdC,EAuFN,SAAqBrI,UACZ,eACDuD,EAAQvD,EAAImD,eAChBxB,GAAM,cAAe4B,EAAMP,YACvBO,EAAMP,YACRO,EAAMP,aACiB,IAArBO,EAAMP,YAAoBqI,GAAG7iB,cAAcwX,EAAK,UAClDuD,EAAMlB,SAAU,EAChBiC,GAAKtE,KA/FKsI,CAAYtI,YAGjBmI,IACPxG,GAAM,WAENqG,EAAKzf,eAAe,QAASigB,GAC7BR,EAAKzf,eAAe,SAAUkgB,GAC9BT,EAAKzf,eAAe,QAAS8f,GAC7BL,EAAKzf,eAAe,QAASpN,GAC7B6sB,EAAKzf,eAAe,SAAU6f,GAC9BpI,EAAIzX,eAAe,MAAO3M,GAC1BokB,EAAIzX,eAAe,MAAO4f,GAC1BnI,EAAIzX,eAAe,OAAQmgB,IAOvBnF,EAAMP,YACJgF,EAAK/B,iBAAkB+B,EAAK/B,eAAeT,WAC/C6C,aAIKK,EAAOxtB,GACdymB,GAAM,WAEF,IADMqG,EAAK/sB,MAAMC,KAEnBymB,GAAM,8BACA3B,EAAImD,eAAeH,YACzBhD,EAAImD,eAAeH,aACnBhD,EAAIzkB,kBAMCJ,EAAQgO,GACfwY,GAAM,UAAWxY,GACjByf,IACAZ,EAAKzf,eAAe,QAASpN,GACW,IAApCkwB,GAAG7iB,cAAcwf,EAAM,UACzBA,EAAKpgB,KAAK,QAASuB,YAcdqf,IACPR,EAAKzf,eAAe,SAAUkgB,GAC9BG,aAGOH,IACP9G,GAAM,YACNqG,EAAKzf,eAAe,QAASigB,GAC7BI,aAIOA,IACPjH,GAAM,UACN3B,EAAI4I,OAAOZ,UAvEbA,EAAKte,GAAG,QAAS2e,GAwBjBrI,EAAItW,GAAG,OAAQgf,GAuBVV,EAAKtgB,SAAYsgB,EAAKtgB,QAAQ1H,MAE1BgD,GAAQglB,EAAKtgB,QAAQ1H,OAC5BgoB,EAAKtgB,QAAQ1H,MAAM8H,QAAQ3M,GAE3B6sB,EAAKtgB,QAAQ1H,MAAQ,CAAC7E,EAAS6sB,EAAKtgB,QAAQ1H,OAJ5CgoB,EAAKte,GAAG,QAASvO,GAanB6sB,EAAKpe,KAAK,QAAS4e,GAMnBR,EAAKpe,KAAK,SAAU6e,GAQpBT,EAAKpgB,KAAK,OAAQoY,GAGbuD,EAAMlB,UACTV,GAAM,eACN3B,EAAIxkB,UAGCwsB,GAiBTvG,GAASjsB,UAAUozB,OAAS,SAASZ,OAC/BzE,EAAQ7tB,KAAKytB,kBAGQ,IAArBI,EAAMnB,WACR,OAAO1sB,QAGgB,IAArB6tB,EAAMnB,kBAEJ4F,GAAQA,IAASzE,EAAMpB,QAGtB6F,IACHA,EAAOzE,EAAMpB,OAGfoB,EAAMpB,MAAQ,KACdoB,EAAMnB,WAAa,EACnBmB,EAAMlB,SAAU,EACZ2F,GACFA,EAAKpgB,KAAK,SAAUlS,OAVbA,SAgBNsyB,EAAM,KAELc,EAAQvF,EAAMpB,MACdhlB,EAAMomB,EAAMnB,WAChBmB,EAAMpB,MAAQ,KACdoB,EAAMnB,WAAa,EACnBmB,EAAMlB,SAAU,MAEX,IAAIpyB,EAAI,EAAGA,EAAIkN,EAAKlN,IACvB64B,EAAM74B,GAAG2X,KAAK,SAAUlS,aACnBA,YAKE,KADPzF,EAoQN,SAAkBg1B,EAAI/lB,OACf,IAAIjP,EAAI,EAAGiT,EAAI+hB,EAAG5pB,OAAQpL,EAAIiT,EAAGjT,OAChCg1B,EAAGh1B,KAAOiP,EAAG,OAAOjP,SAElB,EAxQAwS,CAAQ8gB,EAAMpB,MAAO6F,MAI7BzE,EAAMpB,MAAM6G,OAAO/4B,EAAG,GACtBszB,EAAMnB,YAAc,EACK,IAArBmB,EAAMnB,aACRmB,EAAMpB,MAAQoB,EAAMpB,MAAM,IAE5B6F,EAAKpgB,KAAK,SAAUlS,OAPXA,MAcX+rB,GAASjsB,UAAUkU,GAAK,SAASuf,EAAIvpB,OAC/B0a,EAAMgR,GAAO51B,UAAUkU,GAAG3N,KAAKrG,KAAMuzB,EAAIvpB,MAIlC,SAAPupB,IAAiB,IAAUvzB,KAAKytB,eAAed,cAC5C7mB,SAGI,aAAPytB,GAAqBvzB,KAAK0tB,SAAU,KAClCG,EAAQ7tB,KAAKytB,mBACZI,EAAMX,qBACTW,EAAMX,mBAAoB,EAC1BW,EAAMZ,iBAAkB,EACxBY,EAAMb,cAAe,EAChBa,EAAMf,QAMAe,EAAMloB,QACfqoB,GAAahuB,UAPK,KACd6Q,EAAO7Q,KACXmK,QAAQtC,UAAS,WACfokB,GAAM,4BACNpb,EAAK0O,KAAK,cAQXmF,GAETqH,GAASjsB,UAAUiU,YAAcgY,GAASjsB,UAAUkU,GAIpD+X,GAASjsB,UAAUgG,OAAS,eACtB+nB,EAAQ7tB,KAAKytB,sBACZI,EAAMlB,UACTV,GAAM,UACN4B,EAAMlB,SAAU,EACXkB,EAAMf,UACTb,GAAM,sBACD1M,KAAK,IAOhB,SAAgB2M,EAAQ2B,GACjBA,EAAMV,kBACTU,EAAMV,iBAAkB,EACxBhjB,QAAQtC,UAAS,YAMrB,SAAiBqkB,EAAQ2B,GACvBA,EAAMV,iBAAkB,EACxBjB,EAAOha,KAAK,UACZ0c,GAAK1C,GACD2B,EAAMlB,UAAYkB,EAAMf,SAC1BZ,EAAO3M,KAAK,GAVVuP,CAAQ5C,EAAQ2B,OATlB/nB,CAAO9F,KAAM6tB,IAER7tB,MAoBT+rB,GAASjsB,UAAU+F,MAAQ,kBACzBomB,GAAM,wBAAyBjsB,KAAKytB,eAAed,UAC/C,IAAU3sB,KAAKytB,eAAed,UAChCV,GAAM,cACDwB,eAAed,SAAU,OACzBza,KAAK,UAELlS,MAgBT+rB,GAASjsB,UAAU0zB,KAAO,SAAStH,OAC7B2B,EAAQ7tB,KAAKytB,eACbgG,GAAS,EAET5iB,EAAO7Q,SA4BN,IAAIzF,KA3BT2xB,EAAOlY,GAAG,OAAO,cACfiY,GAAM,eACF4B,EAAML,UAAYK,EAAMjB,MAAO,KAC7BpnB,EAAQqoB,EAAML,QAAQxnB,MACtBR,GAASA,EAAMG,QACjBkL,EAAK5I,KAAKzC,GAGdqL,EAAK5I,KAAK,SAGZikB,EAAOlY,GAAG,QAAQ,SAASxO,IACzBymB,GAAM,gBACF4B,EAAML,UACRhoB,EAAQqoB,EAAML,QAAQjoB,MAAMC,IACzBA,IAAUqoB,EAAM1B,YAAe3mB,EAAMG,WAGhCkL,EAAK5I,KAAKzC,KAElBiuB,GAAS,EACTvH,EAAOrmB,aAMGqmB,EACR6J,GAAK/pB,WAAWkgB,EAAO3xB,KAAOw7B,GAAK7rB,YAAYlK,KAAKzF,WACjDA,GAAK,SAASm5B,UAAiB,kBAC3BxH,EAAOwH,GAAQtrB,MAAM8jB,EAAQlkB,YAD5B,CAEPzN,WAmHT,SAAkBg1B,EAAItmB,OACf,IAAI1O,EAAI,EAAGiT,EAAI+hB,EAAG5pB,OAAQpL,EAAIiT,EAAGjT,IACpC0O,EAAEsmB,EAAGh1B,GAAIA,GA/GXkS,CADa,CAAC,QAAS,QAAS,UAAW,QAAS,WACpC,SAAS8mB,GACvBrH,EAAOlY,GAAGuf,EAAI1iB,EAAKqB,KAAKyhB,KAAK9iB,EAAM0iB,OAKrC1iB,EAAK8c,MAAQ,SAAS7e,GACpBmd,GAAM,gBAAiBnd,GACnB2kB,IACFA,GAAS,EACTvH,EAAOpmB,WAIJ+K,GAMTkb,GAAS6H,UAAY7E,GClxBrBjV,OAAiBqb,GAYjB,SAAST,GAAe51B,EAASotB,QAC1ByI,eAAiB,SAASlhB,EAAItN,UAUrC,SAAwB+lB,EAAQzY,EAAItN,OAC9ByuB,EAAK1I,EAAO2I,gBAChBD,EAAGE,cAAe,MAEdpF,EAAKkF,EAAGpE,YAEPd,EACH,OAAOxD,EAAOha,KAAK,QAAS,IAAItS,MAAM,kCAExCg1B,EAAGG,WAAa,KAChBH,EAAGpE,QAAU,KAERuF,GAAK9lB,kBAAkB9J,IAC1B+lB,EAAOjkB,KAAK9B,GAEVupB,GACFA,EAAGjc,OAEDuhB,EAAK9I,EAAOuB,eAChBuH,EAAGlI,SAAU,GACTkI,EAAGhI,cAAgBgI,EAAGrvB,OAASqvB,EAAGzI,gBACpCL,EAAOyB,MAAMqH,EAAGzI,eA9BToI,CAAezI,EAAQzY,EAAItN,SAG/B8uB,eAAgB,OAChBH,cAAe,OACftE,QAAU,UACVuE,WAAa,KA6BpB,SAASI,GAAUr2B,QACXkB,gBAAgBm1B,IACpB,OAAO,IAAIA,GAAUr2B,GAEvBstB,GAAO/lB,KAAKrG,KAAMlB,QAEb+1B,gBAAkB,IAAIH,GAAe51B,EAASkB,UAG/CksB,EAASlsB,UAGRytB,eAAeT,cAAe,OAK9BS,eAAeV,MAAO,OAEtB7Y,KAAK,aAAa,WACjB6hB,GAAK/pB,WAAWhM,KAAKu1B,QACvBv1B,KAAKu1B,QAAO,SAAS9hB,GACnBoG,GAAKqS,EAAQzY,MAGfoG,GAAKqS,MAsDX,SAASrS,GAAKqS,EAAQzY,MAChBA,EACF,OAAOyY,EAAOha,KAAK,QAASuB,OAI1B+hB,EAAKtJ,EAAOqE,eACZqE,EAAK1I,EAAO2I,mBAEZW,EAAG7vB,OACL,MAAM,IAAI/F,MAAM,iDAEdg1B,EAAGE,aACL,MAAM,IAAIl1B,MAAM,yDAEXssB,EAAOjkB,KAAK,MAzIrB8tB,GAAKrmB,SAAW8I,GAGhBud,GAAKrmB,SAASylB,GAAW/I,IAqEzB+I,GAAUr1B,UAAUmI,KAAO,SAASzC,EAAO+b,eACpCsT,gBAAgBI,eAAgB,EAC9B7I,GAAOtsB,UAAUmI,KAAK5B,KAAKrG,KAAMwF,EAAO+b,IAajD4T,GAAUr1B,UAAUu1B,WAAa,SAAS7vB,EAAO+b,EAAUmO,SACnD,IAAI9vB,MAAM,oBAGlBu1B,GAAUr1B,UAAU0xB,OAAS,SAAShsB,EAAO+b,EAAUmO,OACjDkF,EAAK50B,KAAK60B,mBACdD,EAAGpE,QAAUd,EACbkF,EAAGG,WAAavvB,EAChBovB,EAAGM,cAAgB3T,GACdqT,EAAGE,aAAc,KAChBE,EAAKh1B,KAAKytB,gBACVmH,EAAGK,eACHD,EAAGhI,cACHgI,EAAGrvB,OAASqvB,EAAGzI,gBACjBvsB,KAAK2tB,MAAMqH,EAAGzI,iBAOpB4I,GAAUr1B,UAAU6tB,MAAQ,SAAS7e,OAC/B8lB,EAAK50B,KAAK60B,gBAETkB,GAAKlsB,OAAO+qB,EAAGG,cAAeH,EAAGpE,SAAYoE,EAAGE,aAMnDF,EAAGK,eAAgB,GALnBL,EAAGE,cAAe,OACbO,WAAWT,EAAGG,WAAYH,EAAGM,cAAeN,EAAGD,kBC9JxD7a,OAAiB2b,GAWjB,SAASA,GAAY32B,QACbkB,gBAAgBy1B,IACpB,OAAO,IAAIA,GAAY32B,GAEzBq2B,GAAU9uB,KAAKrG,KAAMlB,GATvBi3B,GAAKrmB,SAAW8I,GAGhBud,GAAKrmB,SAAS+lB,GAAaN,IAS3BM,GAAY31B,UAAUu1B,WAAa,SAAS7vB,EAAO+b,EAAUmO,GAC3DA,EAAG,KAAMlqB,6BC5CXywB,EAAUnc,UAAiBtB,WACVA,GACjByd,WAAmBA,EACnBA,WAAmBzd,GACnByd,SAAiBzd,GACjByd,YAAoBzd,GACpByd,cAAsBzd,GACjBrO,QAAQosB,SAA2C,YAAhCpsB,QAAQqsB,IAAIC,kBAClC3c,UAAiBtB,mFCRFkd,IAGbgB,GAAiBle,GAAkB+Y,UAAY/Y,GAA2B+Y,SAE9E,SAASmE,GAAO32B,EAAKD,OAChB63B,EAAS32B,KAAK42B,QAAU,IAAIlf,GAAO3Y,EAAKD,GAE5C43B,GAAerwB,KAAKrG,KAAM,CAACkwB,eAAe,SAErChc,KAAK,UAAU,WACnByiB,EAAO3wB,SAITwS,GAAgB9I,SAASgmB,GAAQgB,IAEjCA,GAAe52B,UAAU0xB,OAAS,SAAShsB,EAAO+b,EAAUmO,QACtDkH,QAAQrxB,MAAMC,GACnBkqB,KCnBD5V,OAAiB4b,GAIjB,SAASA,GAAO52B,GACf4Y,GAAOrR,KAAKrG,KAAM,IAAI62B,GAAI72B,MAAOlB,GAOlC,SAAS+3B,GAAIC,QACPA,MAAQA,EALdte,GAAgB9I,SAASgmB,GAAQhe,IAEjCge,GAAO51B,UAAU4tB,UAAW,EAM5B,IAAIqJ,GAASve,GAAeue,OAE5B1uB,OAAOiE,KAAKyqB,IAAQtqB,SAAQ,SAASnG,MAChB,IAAjBywB,GAAOzwB,GACTuwB,GAAI/2B,UAAU,KAAOwG,GAAQ,gBACvBwwB,MAAM5kB,KAAK5L,SAEX,GAAoB,IAAjBywB,GAAOzwB,GAChBuwB,GAAI/2B,UAAU,KAAOwG,GAAQ,SAASmf,QAChCqR,MAAM5kB,KAAK5L,EAAMmf,QAEjB,CAAA,GAAoB,IAAjBsR,GAAOzwB,SAKV1G,MAAM,8BAJZi3B,GAAI/2B,UAAU,KAAOwG,GAAQ,SAASmf,EAAGxD,QACnC6U,MAAM5kB,KAAK5L,EAAMmf,EAAGxD,QC7B5BnI,OAAiBkd,GAEjB,SAASA,GAAaj4B,QAChBK,KAAOL,GAAO,GAGpB,IAAIg4B,GAASve,GAAcue,OAC3B1uB,OAAOiE,KAAKyqB,IAAQtqB,SAAQ,SAASnG,MAChB,IAAjBywB,GAAOzwB,GACTA,EAAO,KAAOA,EACd0wB,GAAal3B,UAAUwG,GAAQ,WAC3BtG,KAAKZ,KAAKkH,IAAOtG,KAAKZ,KAAKkH,WAEzB,GAAoB,IAAjBywB,GAAOzwB,GAChBA,EAAO,KAAOA,EACd0wB,GAAal3B,UAAUwG,GAAQ,SAASmf,GACpCzlB,KAAKZ,KAAKkH,IAAOtG,KAAKZ,KAAKkH,GAAMmf,QAE/B,CAAA,GAAoB,IAAjBsR,GAAOzwB,SAMV1G,MAAM,6BALZ0G,EAAO,KAAOA,EACd0wB,GAAal3B,UAAUwG,GAAQ,SAASmf,EAAGxD,GACvCjiB,KAAKZ,KAAKkH,IAAOtG,KAAKZ,KAAKkH,GAAMmf,EAAGxD,QCpB1CnI,OAEY,eACF,aAIF,WAEA,SAASU,SACM,QAAdA,EAAK/I,MAAgC,WAAd+I,EAAK/I,MAAmC,UAAd+I,EAAK/I,mvhDCX3DwlB,GAAaC,GAAc1e,OAGjB2e,GAAWF,GAFPG,GAAmBH,KAIjCI,GAAcH,GAAc1e,OAGjB2e,GAAWE,GAFPD,GAAmBC,KAItC,SAASH,GAAcpsB,UACZzC,OAAOiE,KAAKxB,GACdwsB,OACAxpB,QAAO,SAASypB,EAASjxB,UACtBixB,EAAQzsB,EAAIxE,IAAS,IAAMA,EAAO,IAC3BixB,IACR,IAGX,SAASH,GAAmBG,OACpBC,EAAS,GACTC,EAAW,UAEfpvB,OAAOiE,KAAKirB,GAAS9qB,SAAQ,SAAS+H,GACjB,IAAbA,EAAE7O,OACF6xB,EAAOvvB,KAAK,KAAOuM,GAEnBijB,EAASxvB,KAAKuM,MAKtBijB,EAASrlB,QAAQ,IAAMolB,EAAOnuB,KAAK,IAAM,KAElC,IAAIuB,OAAO6sB,EAASpuB,KAAK,KAAM,KAG1C,IAAIquB,GAAc,cACdC,GAAmB,kCAEvB,SAASC,GAAmBx5B,SAEpB,MACAA,EACK0gB,WAAW,GACX5R,SAAS,IACTvC,cACL,IAIR,SAASktB,GAAez5B,SAKb,OAD2B,MAFvBA,EAAE0gB,WAAW,GAEA,OADd1gB,EAAE0gB,WAAW,GACyB,MAAS,OAChC5R,SAAS,IAAIvC,cAAgB,IAG1D,SAASwsB,GAAWI,EAAS9oB,YAChBqpB,EAAKxxB,UACHixB,EAAQjxB,UAGZ,SAASH,UACLA,EACFoD,QAAQkF,EAAIqpB,GACZvuB,QAAQouB,GAAkBE,IAC1BtuB,QAAQmuB,GAAaE,KAIlC,IAAIG,GAAcX,GAAmBH,IASrChB,8BAPA,SAAmB9vB,UACRA,EACFoD,QAAQwuB,GAAaH,IACrBruB,QAAQouB,GAAkBE,IAC1BtuB,QAAQmuB,GAAaE,i4ECzE9B,SAAyB79B,MAChBA,GAAa,OAAUA,GAAa,OAAWA,EAAY,cACrD,IAGPA,KAAaC,KACbD,EAAYC,GAAUD,QAGtBE,EAAS,GAETF,EAAY,QACZA,GAAa,MACbE,GAAUC,OAAOC,aAAeJ,IAAc,GAAM,KAAS,OAC7DA,EAAY,MAAsB,KAAZA,UAG1BE,GAAUC,OAAOC,aAAaJ,iBCjB9Bi+B,GAAkBC,GAAiB9zB,IACnC+zB,GAAmBD,GAAiB7zB,IAExC,SAAS6zB,GAAiB/zB,OAClBoI,EAAOjE,OAAOiE,KAAKpI,GAAKmF,KAAK,KAC7BE,EAAU4uB,GAAYj0B,GAItBuK,EAAK,IAAI7D,OAAO,QAFpB0B,GAAQ,4BAE4B,KAAM,YAEnC,SAAShD,UACLpP,OAAOoP,GAAKC,QAAQkF,EAAIlF,IAgCvC,SAAS6uB,GAAO3S,EAAGxD,UACRwD,EAAIxD,EAAI,GAAK,EAGxB,SAASkW,GAAYj0B,UACV,SAAiBoF,SACE,MAAlBA,EAAI1D,OAAO,GACW,MAAlB0D,EAAI1D,OAAO,IAAgC,MAAlB0D,EAAI1D,OAAO,GAC7BT,GAAgBD,SAASoE,EAAI5E,OAAO,GAAI,KAE5CS,GAAgBD,SAASoE,EAAI5E,OAAO,GAAI,KAE5CR,EAAIoF,EAAIoY,MAAM,GAAI,KAIjC5H,OAAiB,CACbue,IAAKL,GACLM,KA9Cc,mBACVC,EAASlwB,OAAOiE,KAAK3H,IAAW2yB,KAAKc,IAErC9rB,EAAOjE,OAAOiE,KAAKlI,IAAWkzB,KAAKc,IAE9B79B,EAAI,EAAGwD,EAAI,EAAGxD,EAAI+R,EAAK3G,OAAQpL,IAChCg+B,EAAOx6B,KAAOuO,EAAK/R,IACnB+R,EAAK/R,IAAM,KACXwD,KAEAuO,EAAK/R,IAAM,QAIfkU,EAAK,IAAI7D,OAAO,OAAS0B,EAAKjD,KAAK,KAAO,gCAAiC,KAC3EE,EAAU4uB,GAAY/zB,aAEjBo0B,EAASlvB,SACS,MAAnBA,EAAI5E,QAAQ,KAAY4E,GAAO,KAC5BC,EAAQD,UAIZ,SAASA,UACLpP,OAAOoP,GAAKC,QAAQkF,EAAI+pB,IAxBrB,GA+CdC,WAAYP,wBCjEhBjC,SAAiB,SAAS9vB,EAAMuyB,WACnBA,GAASA,GAAS,EAAIC,GAAON,IAAMM,GAAOL,MAAMnyB,IAG7D8vB,eAAuB,SAAS9vB,EAAMuyB,WACzBA,GAASA,GAAS,EAAIC,GAAON,IAAMM,GAAOF,YAAYtyB,IAGnE8vB,SAAiB,SAAS9vB,EAAMuyB,WACnBA,GAASA,GAAS,EAAIE,GAAOP,IAAMO,GAAON,MAAMnyB,IAG7D8vB,YAAoB2C,GAAOP,IAE3BpC,cAAsBA,cAAsBA,aAAqB2C,GAAON,KAExErC,YAAoBA,kBAA0B0C,GAAON,IAErDpC,cAAsBA,cAAsBA,aAAqB0C,GAAOL,KAExErC,oBAA4BA,oBAA4BA,mBAA2B0C,GAAOF,WAE1FxC,SAAiB2C,GAAOC,8QChBxB,IAAIC,EAAoB,CACtB3iB,UAAW,KACX4iB,iBAAiB,EACjBC,OAAO,EACPC,WAAW,EACXC,UAAU,EACVrX,SAAS,EACTsX,UAAU,EACVC,SAAS,EACTC,OAAO,EACPC,UAAU,EACVC,QAAQ,EACRC,OAAO,EACPC,MAAM,EACNhC,UAAU,EACViC,OAAO,EACPC,MAAM,EACNC,UAAU,EACVC,UAAU,EACVC,UAAU,EACVC,QAAQ,EACRC,UAAU,EACVC,UAAU,EACVC,eAAe,GAGbC,EAAoB,CACtBhkB,UAAW,KACXtK,OAAO,EACPkK,QAAQ,EACRqkB,KAAK,EACLC,QAAQ,EACRC,SAAS,EACTC,UAAU,EACVC,WAAW,EACXC,UAAU,GAgCZ,IAAIC,EAAY,CACdvkB,UAAW,KACXC,MAAM,EACNrR,MAAM,EACNsR,UAAU,EACVC,IAAI,EACJC,KAAK,EACLC,SAAS,EACTC,OAAO,EACPC,OAAO,EACPC,IAAI,EACJC,KAAK,EACL5B,OAAO,EACP6B,SAAS,EACTC,QAAQ,EACRhB,MAAM,EACNiB,MAAM,EACNC,OAAO,EACPC,QAAQ,EACRC,OAAO,EACPC,KAAK,EAGLC,MAAM,EACNC,QAAQ,EACRC,SAAS,EACThJ,MAAM,EACNiJ,MAAM,EACNC,KAAK,GAGHmjB,EAAS7gB,UAAiB,SAASmC,EAAKlR,GACrChD,MAAMuF,QAAQ2O,IAASA,EAAI2e,UAAS3e,EAAM,CAACA,IAChDlR,EAAOA,GAAQ,WAEX9Q,EAAS,GAELM,EAAI,EAAGA,EAAI0hB,EAAItW,OAAQpL,IAAI,KAC7BigB,EAAOyB,EAAI1hB,GAEG,SAAdigB,EAAK/I,KACPxX,GAAU0gC,EAAOngB,EAAKE,SAAU3P,GACzB6R,GAAkBpC,GACzBvgB,GAAU4gC,EAAUrgB,EAAMzP,GACnByP,EAAK/I,OAASmL,GACrB3iB,GAAU6gC,EAAgBtgB,GACnBA,EAAK/I,OAASmL,GACrB3iB,GAAU8gC,EAAcvgB,GACjBA,EAAK/I,OAASmL,GACrB3iB,GAAU+gC,EAAYxgB,GAEtBvgB,GAAUghC,EAAWzgB,EAAMzP,UAGxB9Q,GAGT,SAAS4gC,EAAUrgB,EAAMzP,OACnBmwB,EAAM,IAAM1gB,EAAKlU,KACjBqW,EArFN,SAAqBwe,EAAYpwB,MAC1BowB,OAGD50B,EADAtM,EAAS,OAIR,IAAIyT,KAAOytB,EAEVlhC,IACFA,GAAU,KAIVA,KANFsM,EAAQ40B,EAAWztB,KAKLorB,EAAkBprB,GACpBA,EAEAA,EAAM,MAAQ3C,EAAKrL,eAAiB07B,GAASC,UAAU90B,GAASA,GAAS,WAIhFtM,GAiEOqhC,CAAY9gB,EAAKmC,QAAS5R,UAEpC4R,IACFue,GAAO,IAAMve,IAIb5R,EAAKvL,SACHgb,EAAKE,UAAqC,IAAzBF,EAAKE,SAAS/U,QAIjCu1B,GAAO,IACPA,GAAOP,EAAOngB,EAAKE,SAAU3P,GAExB2vB,EAAUlgB,EAAKlU,QAASyE,EAAKvL,UAChC07B,GAAO,KAAO1gB,EAAKlU,KAAO,MAN5B40B,GAAO,KAYFA,EAGT,SAASJ,EAAgBtgB,SAChB,IAAMA,EAAKrU,KAAO,IAG3B,SAAS80B,EAAWzgB,EAAMzP,OACpB5E,EAAOqU,EAAKrU,MAAQ,UAGpB4E,EAAKrL,gBAAoB8a,EAAK+B,QAAU/B,EAAK+B,OAAOjW,QAAQ6zB,IAC9Dh0B,EAAOi1B,GAASC,UAAUl1B,IAGrBA,EAGT,SAAS60B,EAAYxgB,SACZ,YAAcA,EAAKE,SAAS,GAAGvU,KAAO,MAG/C,SAAS40B,EAAcvgB,SACd,UAASA,EAAKrU,KAAO,cClL1BoU,GAAQqC,GAAYrC,SAEP,CAChBghB,aAKD,SAAsB/gB,EAAMzP,UACpByP,EAAKE,SAAWF,EAAKE,SAASxW,KAAI,SAASsW,UAC1CghB,GAAahhB,EAAMzP,MACxB1B,KAAK,IAAM,IAPdmyB,aAAcA,GACd/d,QASD,SAASA,EAAQjD,UACbzS,MAAMuF,QAAQkN,GAAcA,EAAKtW,IAAIuZ,GAASpU,KAAK,IACnDkR,GAAMC,IAASA,EAAK/I,OAASmL,GAAYvC,MAAcoD,EAAQjD,EAAKE,UACpEF,EAAK/I,OAASmL,GAAY7C,KAAaS,EAAKrU,KACxC,6BCpBR,IAAIs1B,EAAcxF,cAAsB,SAASzb,UACzCA,EAAKE,UAGTghB,EAAYzF,YAAoB,SAASzb,UACrCA,EAAK+B,QAGb0Z,cAAsB,SAASzb,OAC1B+B,EAASmf,EAAUlhB,UAChB+B,EAASkf,EAAYlf,GAAU,CAAC/B,IAGxCyb,oBAA4B,SAASzb,EAAMlU,UACnCkU,EAAKmC,SAAWnC,EAAKmC,QAAQrW,IAGrC2vB,YAAoB,SAASzb,EAAMlU,WACzBkU,EAAKmC,SAAWtY,eAAegC,KAAKmU,EAAKmC,QAASrW,IAG5D2vB,UAAkB,SAASzb,UACnBA,EAAKlU,oHCtBW,SAASkU,MAC7BA,EAAKzM,OAAMyM,EAAKzM,KAAK0O,KAAOjC,EAAKiC,MACjCjC,EAAKiC,OAAMjC,EAAKiC,KAAK1O,KAAOyM,EAAKzM,MAEjCyM,EAAK+B,OAAO,KACVuB,EAAStD,EAAK+B,OAAO7B,SACzBoD,EAAOwV,OAAOxV,EAAO7E,YAAYuB,GAAO,oBAIjB,SAASA,EAAMmhB,OACnC5tB,EAAO4tB,EAAY5tB,KAAOyM,EAAKzM,KAChCA,IACFA,EAAK0O,KAAOkf,OAGTlf,EAAOkf,EAAYlf,KAAOjC,EAAKiC,KAChCA,IACFA,EAAK1O,KAAO4tB,OAGTpf,EAASof,EAAYpf,OAAS/B,EAAK+B,UACpCA,EAAO,KACLuB,EAASvB,EAAO7B,SACpBoD,EAAOA,EAAO7E,YAAYuB,IAASmhB,gBAIf,SAASnhB,EAAMohB,MACpCA,EAAMrf,OAAS/B,EAEkB,IAA9BA,EAAKE,SAASzS,KAAK2zB,GAAa,KAC9BC,EAAUrhB,EAAKE,SAASF,EAAKE,SAAS/U,OAAS,GACnDk2B,EAAQpf,KAAOmf,EACfA,EAAM7tB,KAAO8tB,EACbD,EAAMnf,KAAO,cAIE,SAASjC,EAAMiC,OAC3BF,EAAS/B,EAAK+B,OACjBuf,EAAWthB,EAAKiC,QAEjBA,EAAKA,KAAOqf,EACZrf,EAAK1O,KAAOyM,EACZA,EAAKiC,KAAOA,EACZA,EAAKF,OAASA,EAEXuf,MACFA,EAAS/tB,KAAO0O,EACbF,EAAO,KACLuB,EAASvB,EAAO7B,SACpBoD,EAAOwV,OAAOxV,EAAO7E,YAAY6iB,GAAW,EAAGrf,SAEvCF,GACTA,EAAO7B,SAASzS,KAAKwU,YAIL,SAASjC,EAAMzM,OAC5BwO,EAAS/B,EAAK+B,UACfA,EAAO,KACLuB,EAASvB,EAAO7B,SACpBoD,EAAOwV,OAAOxV,EAAO7E,YAAYuB,GAAO,EAAGzM,GAGzCyM,EAAKzM,OACPyM,EAAKzM,KAAK0O,KAAO1O,GAGlBA,EAAKwO,OAASA,EACdxO,EAAKA,KAAOyM,EAAKzM,KACjBA,EAAK0O,KAAOjC,EACZA,EAAKzM,KAAOA,KCzETwM,GAAQ/B,GAA0B+B,SAErB,CAChBwhB,OAQD,SAAgBlxB,EAAM+P,EAAS4C,EAAS/Y,GACnCsD,MAAMuF,QAAQsN,KAAUA,EAAU,CAACA,IAEnB,iBAAVnW,GAAuB2hB,SAAS3hB,KACzCA,EAAQyb,EAAAA,UAEF8b,GAAKnxB,EAAM+P,GAAqB,IAAZ4C,EAAmB/Y,IAb9Cu3B,KAAMA,GACNC,aAoCD,SAAsBpxB,EAAMqxB,OACvB,IAAI3hC,EAAI,EAAGiT,EAAI0uB,EAAMv2B,OAAQpL,EAAIiT,EAAGjT,OACpCsQ,EAAKqxB,EAAM3hC,IAAK,OAAO2hC,EAAM3hC,UAG1B,MAxCP4hC,QA2CD,SAASA,EAAQtxB,EAAMqxB,WAClB1hB,EAAO,KAEHjgB,EAAI,EAAGiT,EAAI0uB,EAAMv2B,OAAQpL,EAAIiT,IAAMgN,EAAMjgB,IAC5CggB,GAAM2hB,EAAM3hC,MAENsQ,EAAKqxB,EAAM3hC,IACpBigB,EAAO0hB,EAAM3hC,GACJ2hC,EAAM3hC,GAAGmgB,SAAS/U,OAAS,IACpC6U,EAAO2hB,EAAQtxB,EAAMqxB,EAAM3hC,GAAGmgB,mBAIzBF,GAvDP4hB,UA0DD,SAASA,EAAUvxB,EAAMqxB,OACpB,IAAI3hC,EAAI,EAAGiT,EAAI0uB,EAAMv2B,OAAQpL,EAAIiT,EAAGjT,OAEtCggB,GAAM2hB,EAAM3hC,MACXsQ,EAAKqxB,EAAM3hC,KACV2hC,EAAM3hC,GAAGmgB,SAAS/U,OAAS,GAC3By2B,EAAUvxB,EAAMqxB,EAAM3hC,GAAGmgB,kBAIpB,SAIF,GAvEP2hB,QA0ED,SAASA,EAAQxxB,EAAMqxB,WAClBI,EAAS,GACL/hC,EAAI,EAAGwD,EAAIm+B,EAAMv2B,OAAQpL,EAAIwD,EAAGxD,IACnCggB,GAAM2hB,EAAM3hC,MACbsQ,EAAKqxB,EAAM3hC,KAAK+hC,EAAOr0B,KAAKi0B,EAAM3hC,IAElC2hC,EAAM3hC,GAAGmgB,SAAS/U,OAAS,IAC7B22B,EAASA,EAAOh1B,OAAO+0B,EAAQxxB,EAAMqxB,EAAM3hC,GAAGmgB,oBAGzC4hB,IAxER,SAASN,GAAKnxB,EAAMqxB,EAAO1e,EAAS/Y,WAClBqZ,EAAbwe,EAAS,GAEL/hC,EAAI,EAAGwD,EAAIm+B,EAAMv2B,OAAQpL,EAAIwD,KACjC8M,EAAKqxB,EAAM3hC,MACb+hC,EAAOr0B,KAAKi0B,EAAM3hC,MACbkK,GAAS,MAGfqZ,EAASoe,EAAM3hC,GAAGmgB,WACf8C,GAAWM,GAAUA,EAAOnY,OAAS,IACvCmY,EAASke,GAAKnxB,EAAMiT,EAAQN,EAAS/Y,GACrC63B,EAASA,EAAOh1B,OAAOwW,IACvBrZ,GAASqZ,EAAOnY,SACJ,KAX0BpL,YAejC+hC,0BCrCR,IAAI/hB,EAAQ0b,QAAgBrZ,GAAYrC,MAExC0b,cAAsB,SAASn3B,EAAS8b,OACnC,IAAIlN,KAAO5O,KACVA,EAAQuF,eAAeqJ,IACtB,GAAW,aAARA,OACH6M,EAAMK,KAAa9b,EAAQy9B,SAAS3hB,EAAQtU,aACxC,OAEF,GAAW,aAARoH,OACL5O,EAAQ09B,SAAS5hB,EAAQnJ,MAAO,OAAO,OACrC,GAAW,iBAAR/D,MACN6M,EAAMK,KAAa9b,EAAQ29B,aAAa7hB,EAAQzU,aAC3C,OAEF,IAAIyU,EAAQ+B,UAAY7d,EAAQ4O,GAAKkN,EAAQ+B,QAAQjP,WACpD,cAGF,GAGR,IAAIgvB,EAAS,CACZH,SAAU,SAASj2B,SACC,mBAATA,EACF,SAASkU,UAAcD,EAAMC,IAASlU,EAAKkU,EAAKlU,OACrC,MAATA,EACFiU,EAEA,SAASC,UAAcD,EAAMC,IAASA,EAAKlU,OAASA,IAG7Dk2B,SAAU,SAAS/qB,SACC,mBAATA,EACF,SAAS+I,UAAc/I,EAAK+I,EAAK/I,OAEjC,SAAS+I,UAAcA,EAAK/I,OAASA,IAG9CgrB,aAAc,SAASt2B,SACH,mBAATA,EACF,SAASqU,UAAeD,EAAMC,IAASrU,EAAKqU,EAAKrU,OAEjD,SAASqU,UAAeD,EAAMC,IAASA,EAAKrU,OAASA,KAK/D,SAASw2B,EAAeC,EAAQr2B,SACX,mBAAVA,EACF,SAASiU,UAAcA,EAAKmC,SAAWpW,EAAMiU,EAAKmC,QAAQigB,KAE1D,SAASpiB,UAAcA,EAAKmC,SAAWnC,EAAKmC,QAAQigB,KAAYr2B,GAIzE,SAASs2B,EAAapX,EAAGxD,UACjB,SAASzH,UACRiL,EAAEjL,IAASyH,EAAEzH,IAItByb,cAAsB,SAASn3B,EAAS8b,EAAS4C,EAAS/Y,OACrDq4B,EAAQz0B,OAAOiE,KAAKxN,GAASoF,KAAI,SAASwJ,OACzCnH,EAAQzH,EAAQ4O,UACbA,KAAOgvB,EAASA,EAAOhvB,GAAKnH,GAASo2B,EAAejvB,EAAKnH,aAGzC,IAAjBu2B,EAAMn3B,OAAe,GAAK3F,KAAK+7B,OACrCe,EAAMhvB,OAAO+uB,GACbjiB,EAAS4C,EAAS/Y,IAIpBwxB,iBAAyB,SAAS1X,EAAI3D,EAAS4C,UAC1CzV,MAAMuF,QAAQsN,KAAUA,EAAU,CAACA,IAChC5a,KAAKm8B,QAAQQ,EAAe,KAAMpe,GAAK3D,GAAqB,IAAZ4C,IAGxDyY,uBAA+B,SAAS3vB,EAAMsU,EAAS4C,EAAS/Y,UACxDzE,KAAK+7B,OAAOW,EAAOH,SAASj2B,GAAOsU,EAAS4C,EAAS/Y,IAG7DwxB,uBAA+B,SAASxkB,EAAMmJ,EAAS4C,EAAS/Y,UACxDzE,KAAK+7B,OAAOW,EAAOF,SAAS/qB,GAAOmJ,EAAS4C,EAAS/Y,qICnF7DwxB,gBAAwB,SAAS8G,WACRC,EAAMC,EAAU1zB,EAApCoD,EAAMowB,EAAMp3B,SAIPgH,GAAO,GAAG,KAClBqwB,EAAOC,EAAWF,EAAMpwB,GAGxBowB,EAAMpwB,GAAO,KACbpD,GAAU,EAEH0zB,GAAU,IACZF,EAAMhwB,QAAQkwB,IAAa,EAAG,CACjC1zB,GAAU,EACVwzB,EAAMzJ,OAAO3mB,EAAK,SAGnBswB,EAAWA,EAAS1gB,OAIjBhT,IACHwzB,EAAMpwB,GAAOqwB,UAIRD,GAIR,IAAIG,EACW,EADXA,EAEQ,EAFRA,EAGQ,EAHRA,EAIO,EAJPA,EAKW,GAyBXC,EAAalH,0BAAkC,SAASmH,EAAOC,OAG9DxJ,EAASyJ,EAAc9gB,EAAU+gB,EAAUC,EAAU7wB,EAFrD8wB,EAAW,GACXC,EAAW,MAGXN,IAAUC,SACN,MAGRxJ,EAAUuJ,EACHvJ,GACN4J,EAASrrB,QAAQyhB,GACjBA,EAAUA,EAAQtX,WAEnBsX,EAAUwJ,EACHxJ,GACN6J,EAAStrB,QAAQyhB,GACjBA,EAAUA,EAAQtX,WAGnB5P,EAAM,EACC8wB,EAAS9wB,KAAS+wB,EAAS/wB,IACjCA,WAGW,IAARA,EACIuwB,GAIR1gB,GADA8gB,EAAeG,EAAS9wB,EAAM,IACN+N,SACxB6iB,EAAWE,EAAS9wB,GACpB6wB,EAAWE,EAAS/wB,GAEhB6P,EAASzP,QAAQwwB,GAAY/gB,EAASzP,QAAQywB,GAC7CF,IAAiBD,EACbH,EAAqBA,EAEtBA,EAEHI,IAAiBF,EACbF,EAAqBA,EAEtBA,IAWTjH,aAAqB,SAAS8G,OACLC,EAAM3oB,EAA1B1H,EAAMowB,EAAMp3B,WAEhBo3B,EAAQA,EAAMrb,UAEL/U,GAAO,GACfqwB,EAAOD,EAAMpwB,IACb0H,EAAW0oB,EAAMhwB,QAAQiwB,KACT,GAAK3oB,EAAW1H,GAC/BowB,EAAMzJ,OAAO3mB,EAAK,UAGpBowB,EAAMzF,MAAK,SAAS7R,EAAGxD,OAClB0b,EAAWR,EAAW1X,EAAGxD,UACzB0b,EAAWT,GACN,EACES,EAAWT,EACd,EAED,KAGDH,oFC3IR,IAAI/f,EAAWlD,EAAOmc,QAEtB,CACCzd,GACAA,GACAA,GACAA,GACAA,GACAA,IACC/L,SAAQ,SAASka,GAClBte,OAAOiE,KAAKqa,GAAKla,SAAQ,SAASiB,GACjCsP,EAAStP,GAAOiZ,EAAIjZ,GAAKimB,KAAK3W,gBCXf4gB,GAEjB,SAASA,GAAkB7+B,QACrBK,KAAOL,GAAO,QACd8S,OAAS,GAGf,IAAIklB,GAASve,GAAcue,OAC3B1uB,OAAOiE,KAAKyqB,IAAQtqB,SAAQ,SAASnG,MAChB,IAAjBywB,GAAOzwB,GACTA,EAAO,KAAOA,EACds3B,GAAkB99B,UAAUwG,GAAQ,gBAC9BuL,OAAO5J,KAAK,CAAC3B,IACftG,KAAKZ,KAAKkH,IAAOtG,KAAKZ,KAAKkH,WAEzB,GAAoB,IAAjBywB,GAAOzwB,GAChBA,EAAO,KAAOA,EACds3B,GAAkB99B,UAAUwG,GAAQ,SAASmf,QACvC5T,OAAO5J,KAAK,CAAC3B,EAAMmf,IACrBzlB,KAAKZ,KAAKkH,IAAOtG,KAAKZ,KAAKkH,GAAMmf,QAE/B,CAAA,GAAoB,IAAjBsR,GAAOzwB,SAOV1G,MAAM,6BANZ0G,EAAO,KAAOA,EACds3B,GAAkB99B,UAAUwG,GAAQ,SAASmf,EAAGxD,QAC1CpQ,OAAO5J,KAAK,CAAC3B,EAAMmf,EAAGxD,IACxBjiB,KAAKZ,KAAKkH,IAAOtG,KAAKZ,KAAKkH,GAAMmf,EAAGxD,QAO1C2b,GAAkB99B,UAAU4Z,QAAU,gBAChC7H,OAAS,GACX7R,KAAKZ,KAAKsa,SAAS1Z,KAAKZ,KAAKsa,WAGjCkkB,GAAkB99B,UAAU+9B,QAAU,WAClC79B,KAAKZ,KAAKsa,SAAS1Z,KAAKZ,KAAKsa,cAE5B,IAAInf,EAAI,EAAGkN,EAAMzH,KAAK6R,OAAOlM,OAAQpL,EAAIkN,EAAKlN,OAC9CyF,KAAKZ,KAAKY,KAAK6R,OAAOtX,GAAG,IAAI,KAE3BykB,EAAMhf,KAAK6R,OAAOtX,GAAGoL,OAEd,IAARqZ,OACG5f,KAAKY,KAAK6R,OAAOtX,GAAG,MACR,IAARykB,OACJ5f,KAAKY,KAAK6R,OAAOtX,GAAG,IAAIyF,KAAK6R,OAAOtX,GAAG,SAEvC6E,KAAKY,KAAK6R,OAAOtX,GAAG,IAAIyF,KAAK6R,OAAOtX,GAAG,GAAIyF,KAAK6R,OAAOtX,GAAG,4BC/CnE,SAASujC,EAAWx3B,EAAMC,iBAClBuT,EAAOmc,QAAQ3vB,GACtBwT,EAAOmc,QAAQ3vB,GAAQC,EAChBA,EAGRuT,UAAiB,CAChBpC,OAAQA,GACRpd,UAAWke,GACXoE,YAAapE,GACbmD,WAAYA,4BAEJmiB,EAAW,cAAetlB,yBAG1BslB,EAAW,SAAUtlB,iCAGrBslB,EAAW,iBAAkBtlB,+BAG7BslB,EAAW,eAAgBtlB,2BAG3BslB,EAAW,WAAYtlB,oCAGvBslB,EAAW,oBAAqBtlB,KAGxCulB,eAAgBpiB,2BAERmiB,EAAW,aAAc99B,KAAKid,cAGtC+gB,SAAU,SAAS73B,EAAMrH,OACpB6R,EAAU,IAAIgL,GAAW7c,cACzB4Y,GAAO/G,EAAS7R,GAASkH,IAAIG,GAC1BwK,EAAQsL,KAEhBgiB,UAAW,SAASlgB,EAAMjf,OACrB6R,EAAU,IAAImJ,EAAOmc,QAAQhZ,YAAYne,cACzC4Y,GAAO/G,EAAS7R,GAASkH,IAAI+X,GAC1BpN,EAAQsL,KAEhBiiB,gBAAiB,SAASxO,EAAI5wB,EAASq/B,OAClCxtB,EAAU,IAAIgL,GAAW+T,EAAI5wB,EAASq/B,UACnC,IAAIzmB,GAAO/G,EAAS7R,IAG5Bi4B,OAAQ,CACPqH,UAAW,EACXC,WAAY,EACZC,SAAU,EACVljB,KAAM,EACNmjB,sBAAuB,EACvBjjB,QAAS,EACTkjB,WAAY,EACZC,SAAU,EACVC,QAAS,EACTC,YAAa,EACbr0B,MAAO,EACPtE,IAAK,OC7DH44B,0OAAO,CAAE1D,KAAK,EAAMnlB,QAAQ,EAAMlK,OAAO,OAQ7B,SAAS4F,UACnBA,EAAKA,OAAMA,EAAOA,EAAKA,MACpBmtB,GAAKntB,KAAS,MASH,SAASnI,UACpBA,EAAIC,QAAQ,gBAAgB,SAASK,EAAGJ,UACtCA,EAAEmB,qBAUK,SAASrB,UAClBA,EAAIC,QAAQ,SAAU,OAAO9K,kBAUpB,SAASm8B,EAAS5wB,WAC9BzP,EAAI,EAAGkN,EAAMmzB,EAAQj1B,OAClBpL,EAAIkN,IAA6B,IAAtBuC,EAAGzP,EAAGqgC,EAAQrgC,OAAiBA,SAC1CqgC,uBCrBT,IAAIiE,GAnBJ5I,EAAUnc,UAAiB,SAASglB,EAAShgC,OACvCmd,EAAM4iB,EAASC,EAAShgC,GAGxBigC,EAAO,CACTttB,KAAM,OACNnL,KAAM,OACNiW,OAAQ,KACRxO,KAAM,KACN0O,KAAM,KACN/B,SAAU,WAIZskB,EAAO/iB,EAAK8iB,GAELA,aAGyB,SAASD,EAAShgC,SAK3B,iBAAZggC,GAAwBhvB,OAAOF,SAASkvB,GAC3CG,GAAWjB,SAASc,EAAShgC,GAE7BggC,GASNE,EAAS/I,SAAiB,SAASjjB,EAAKuJ,GAErCxU,MAAMuF,QAAQ0F,KAAMA,EAAM,CAACA,IAG5BuJ,EACFA,EAAO7B,SAAW1H,EAElBuJ,EAAS,SAIN,IAAIhiB,EAAI,EAAGA,EAAIyY,EAAIrN,OAAQpL,IAAK,KAC/ByiC,EAAOhqB,EAAIzY,GAGX2kC,EAAYlC,EAAKzgB,QAAUygB,EAAK+B,KAChCI,EAAcD,GAAaA,EAAUxkB,SACrCykB,GAAeA,IAAgBnsB,IACjCmsB,EAAY7L,OAAO6L,EAAYpyB,QAAQiwB,GAAO,GAC1CA,EAAKjvB,OACPivB,EAAKjvB,KAAK0O,KAAOugB,EAAKvgB,MAEpBugB,EAAKvgB,OACPugB,EAAKvgB,KAAK1O,KAAOivB,EAAKjvB,OAItBwO,GACFygB,EAAKjvB,KAAOiF,EAAIzY,EAAI,IAAM,KAC1ByiC,EAAKvgB,KAAOzJ,EAAIzY,EAAI,IAAM,MAE1ByiC,EAAKjvB,KAAOivB,EAAKvgB,KAAO,KAGtBF,GAA0B,SAAhBA,EAAO9K,MACnBurB,EAAK+B,KAAOxiB,EACZygB,EAAKzgB,OAAS,OAEdygB,EAAK+B,KAAO,KACZ/B,EAAKzgB,OAASA,UAIXA,kDChFP,eAMI6iB,EAAY,GACZC,EAAa,GAGbC,EAAY,EAGZC,GAAa,IAAInyB,KAAO,GAqBxBoyB,EAAuB,iBACvBC,EAAsB,qBACtBC,EAAwB,gCAMxBC,EAAe,kCAGfC,EAAU,OAGVC,EAAa,2BAGbC,EAAgB,mBAGhBC,EAA0Bn1B,OAAO,8DAGjCo1B,EAAY,OAGZC,EAAS,WAGTC,EAAoB,2BAGpBC,EAAe,CACjB,QAAS,UAAW,OAAQ,WAAY,OAAQ,SAAU,SAC1D,SAAU,SAAU,IAAK,cAAe,eAAgB,WAAY,QACpE,WAAY,cAIVC,EAAkB,EAGlBC,EAAY,qBACZC,EAAa,iBACbC,EAAY,mBACZC,EAAY,gBAGZC,EAAc,kBAEdC,EAAc,kBAGdC,EAAmB,CACvBA,qBAA8B,GAC9BA,EAAiBN,GAAaM,EAAiBL,GAC/CK,EAAiBJ,GAAaI,EAAiBH,GAC/CG,EAVkB,mBAUcA,EAAiBF,GACjDE,EATkB,mBAScA,EAAiBD,IAAe,MAG5DE,EAAkB,UACT,UACA,YACC,GAIVC,EAAa,eACC,cACF,QACL,eACG,GAIVC,EAAc,UACL,YACC,UACF,UACA,UACA,aACG,GAIXC,EAAgB,MACZ,SACD,SACC,SACA,SACA,aACI,iBACA,SAIRhC,EAAQ+B,SAAmBE,SAAWA,QAAWhhC,KAGjDihC,EAAcH,EAAW,QAAoB7K,IAAYA,EAAQiL,UAAYjL,EAG7EkL,EAAaL,EAAW,QAAmBhnB,IAAWA,EAAOonB,UAAYpnB,EAGzEsnB,EAAgBD,GAAcA,EAAWlL,UAAYgL,GAAeA,EAGpEI,EAAaP,SAAmB/5B,IAAWA,WAiBtCu6B,EAAYn5B,EAAO5B,EAAOg7B,WAC7BhtB,GAASgtB,GAAa,GAAK,EAC3B57B,EAASwC,EAAQA,EAAMxC,OAAS,IAE3B4O,EAAQ5O,MACXwC,EAAMoM,KAAWhO,SACZgO,SAGH,WAYDitB,EAAaC,EAAOl7B,OACvBkL,SAAclL,KAClBk7B,EAAQA,EAAMA,MAEF,WAARhwB,GAA8B,MAATlL,SAChBk7B,EAAMl7B,GAAS,GAAK,EAEjB,UAARkL,GAA4B,UAARA,IACtBA,EAAO,cAEL/D,EAAc,UAAR+D,EAAmBlL,EAAQg5B,EAAYh5B,SACjDk7B,GAASA,EAAQA,EAAMhwB,KAAUgwB,EAAM/zB,GAExB,UAAR+D,EACFgwB,GAASH,EAAYG,EAAOl7B,IAAU,EAAI,GAAK,EAC/Ck7B,EAAQ,GAAK,WASXC,EAAUn7B,OACbk7B,EAAQzhC,KAAKyhC,MACbhwB,SAAclL,KAEN,WAARkL,GAA8B,MAATlL,EACvBk7B,EAAMl7B,IAAS,MACV,CACO,UAARkL,GAA4B,UAARA,IACtBA,EAAO,cAEL/D,EAAc,UAAR+D,EAAmBlL,EAAQg5B,EAAYh5B,EAC7Co7B,EAAYF,EAAMhwB,KAAUgwB,EAAMhwB,GAAQ,IAElC,UAARA,GACDkwB,EAAUj0B,KAASi0B,EAAUj0B,GAAO,KAAKzF,KAAK1B,GAE/Co7B,EAAUj0B,IAAO,YAadk0B,EAAer7B,UACfA,EAAMuY,WAAW,YAYjB+iB,EAAiBpc,EAAGxD,WACvB6f,EAAKrc,EAAEsc,SACPC,EAAK/f,EAAE8f,SACPxtB,GAAS,EACT5O,EAASm8B,EAAGn8B,SAEP4O,EAAQ5O,GAAQ,KACnBY,EAAQu7B,EAAGvtB,GACX0tB,EAAQD,EAAGztB,MAEXhO,IAAU07B,EAAO,IACf17B,EAAQ07B,QAAyB,IAAT17B,SACnB,KAELA,EAAQ07B,QAAyB,IAATA,SAClB,UAUPxc,EAAElR,MAAQ0N,EAAE1N,eAUZ2tB,EAAY/5B,OACfoM,GAAS,EACT5O,EAASwC,EAAMxC,OACfw8B,EAAQh6B,EAAM,GACdi6B,EAAMj6B,EAAOxC,EAAS,EAAK,GAC3BuuB,EAAO/rB,EAAMxC,EAAS,MAEtBw8B,GAAyB,iBAATA,GAChBC,GAAqB,iBAAPA,GAAmBlO,GAAuB,iBAARA,SAC3C,MAELuN,EAAQY,IACZZ,EAAK,MAAYA,EAAK,KAAWA,EAAK,KAAWA,OAAM,IAAe,MAElEnF,EAAS+F,QACb/F,EAAOn0B,MAAQA,EACfm0B,EAAOmF,MAAQA,EACfnF,EAAOr0B,KAAOy5B,IAELntB,EAAQ5O,GACf22B,EAAOr0B,KAAKE,EAAMoM,WAEb+nB,WAWAgG,EAAiB30B,SACjB,KAAOozB,EAAcpzB,YASrB40B,WACAnD,EAAUvxB,OAAS,YASnBw0B,WACAhD,EAAWxxB,OAAS,OAChB,WACA,cACG,YACH,QACA,QACD,SACE,YACA,UACF,YACE,WACF,aACK,QACJ,eAUJ20B,EAAar6B,GACpBA,EAAMxC,OAAS,EACXy5B,EAAUz5B,OAtVE,IAuVdy5B,EAAUn3B,KAAKE,YAUVs6B,EAAcC,OACjBjB,EAAQiB,EAAOjB,MACfA,GACFgB,EAAchB,GAEhBiB,EAAOv6B,MAAQu6B,EAAOjB,MAAQiB,EAAOX,SAAWW,EAAOA,OAASA,EAAOC,OAASD,EAAOphB,OAASohB,EAAOn8B,MAAQ,KAC3G84B,EAAW15B,OAvWC,IAwWd05B,EAAWp3B,KAAKy6B,YAiBXhhB,EAAMvZ,EAAO3D,EAAOwB,GAC3BxB,IAAUA,EAAQ,QACA,IAAPwB,IACTA,EAAMmC,EAAQA,EAAMxC,OAAS,WAE3B4O,GAAS,EACT5O,EAASK,EAAMxB,GAAS,EACxB83B,EAASv0B,MAAMpC,EAAS,EAAI,EAAIA,KAE3B4O,EAAQ5O,GACf22B,EAAO/nB,GAASpM,EAAM3D,EAAQ+P,UAEzB+nB,GAxQL+E,GAAeA,EAAWt6B,SAAWs6B,GAAcA,EAAWL,SAAWK,IAC3EtC,EAAOsC,OAy8MLz3B,WAprMKg5B,EAAahvB,OAQhB7L,GAHJ6L,EAAUA,EAAUhK,EAAEi5B,SAAS9D,EAAK12B,SAAUuL,EAAShK,EAAEk5B,KAAK/D,EAAMoB,IAAiBpB,GAGjEh3B,MAChBg7B,EAAUnvB,EAAQmvB,QAClB31B,EAAOwG,EAAQxG,KACf41B,EAAWpvB,EAAQovB,SACnB7iB,EAAOvM,EAAQuM,KACf1W,EAASmK,EAAQnK,OACjBpB,EAASuL,EAAQvL,OACjBuC,EAASgJ,EAAQhJ,OACjB1Q,EAAS0Z,EAAQ1Z,OACjB6X,EAAY6B,EAAQ7B,UAQpBkxB,EAAW,GAGXC,EAAc76B,EAAOvI,UAGrBqjC,EAAUvvB,EAAQhK,EAGlBsD,EAAWg2B,EAAYh2B,SAGvBk2B,GAAWx4B,EAAO,IACpB1Q,EAAOgT,GACJ3D,QAAQ,sBAAuB,QAC/BA,QAAQ,wBAAyB,OAAS,KAI3C85B,GAAOljB,EAAKkjB,KACZr8B,GAAe4M,EAAQ5M,aACvBuZ,GAAQJ,EAAKI,MACb+iB,GAAaN,EAASljC,UAAUoN,SAChCmG,GAAiBkwB,GAASlwB,GAAiBhL,EAAOgL,iBAAmBA,GACrEhP,GAAiB6+B,EAAY7+B,eAC7B4D,GAAOg7B,EAASh7B,KAChBpB,GAAa+M,EAAQ/M,WACrBysB,GAAS2P,EAAS3P,OAClBlhB,GAAU6wB,EAAS7wB,QAGnBoJ,GAAkB,mBAGd5M,EAAI,GACJkpB,EAAOyL,GAASzL,EAAOzvB,EAAOmT,iBAAmBsc,EACjDwE,EAASxE,EAAKlpB,EAAGA,EAAGA,IAAMkpB,EAC9B,MAAMhxB,WACDw1B,EAPa,GAWlBkH,GAAeD,GAASC,GAAen7B,EAAOC,SAAWk7B,GACzDC,GAAgBF,GAASE,GAAgB17B,EAAMuF,UAAYm2B,GAC3DC,GAAiB9vB,EAAQwS,SACzBud,GAAc/vB,EAAQL,MACtBqwB,GAAaL,GAASK,GAAav7B,EAAOiE,OAASs3B,GACnDC,GAAY1jB,EAAK0G,IACjBid,GAAY3jB,EAAKsE,IACjBsf,GAAiBnwB,EAAQ1O,SACzB8+B,GAAe7jB,EAAK8jB,OAGpBC,GAAc,YA6ETC,GAAO59B,UAENA,GAAyB,iBAATA,IAAsB+G,GAAQ/G,IAAUlC,GAAegC,KAAKE,EAAO,eACxFA,EACA,IAAI69B,GAAc79B,YAWd69B,GAAc79B,EAAO89B,QACvBC,YAAcD,OACdE,YAAch+B,EA7FrB29B,GAAY5D,GAAcv4B,EAC1Bm8B,GAAY3D,GAAawC,EACzBmB,GAAY1D,GAAapzB,EACzB82B,GAxac,qBAwaWlB,EACzBkB,GAAYzD,GAAep4B,EAC3B67B,GAzagB,mBAyaWz6B,EAC3By6B,GAxagB,mBAwaWt5B,EAC3Bs5B,GAAYxD,GAAexmC,EAyF3BkqC,GAActkC,UAAYqkC,GAAOrkC,cAS7B0kC,GAAUL,GAAOK,QAAU,YA0FtBC,GAASC,OACZ5M,EAAO4M,EAAS,GAChBC,EAAcD,EAAS,GACvBE,EAAUF,EAAS,YAEdG,OAGHF,EAAa,KAIX78B,EAAO4Z,EAAMijB,GACjB18B,GAAKG,MAAMN,EAAME,cAIfhI,gBAAgB6kC,EAAO,KAErBC,EAAcC,GAAWjN,EAAKh4B,WAC9Bw8B,EAASxE,EAAK1vB,MAAM08B,EAAah9B,GAAQE,kBACtC8B,GAASwyB,GAAUA,EAASwI,SAE9BhN,EAAK1vB,MAAMw8B,EAAS98B,GAAQE,kBAErCg9B,GAAYH,EAAOH,GACZG,WAeAI,GAAU1+B,EAAO2+B,EAAQtpB,EAAUupB,EAAQC,MAC9CxpB,EAAU,KACR0gB,EAAS1gB,EAASrV,WACD,IAAV+1B,SACFA,MAICxyB,GAASvD,UAsBZA,MApBH8+B,EAAYn4B,EAAS7G,KAAKE,OACzBo6B,EAAiB0E,UACb9+B,MAELgC,EAAO27B,GAAYmB,UACfA,QACD9E,OACAC,SACI,IAAIj4B,GAAMhC,OAlqBT,uBAqqBLm6B,SACI,IAAIn4B,EAAKhC,OApqBR,yBAuqBR+1B,EAAS/zB,EAAKhC,EAAM0Q,OAAQ2oB,EAAQ0F,KAAK/+B,KAClCg/B,UAAYh/B,EAAMg/B,UAClBjJ,MAKTkJ,EAAQl4B,GAAQ/G,MAChB2+B,EAAQ,KAENO,GAAeN,EACnBA,IAAWA,EAAS5C,KACpB6C,IAAWA,EAAS7C,aAEhB58B,EAASw/B,EAAOx/B,OACbA,QACDw/B,EAAOx/B,IAAWY,SACb6+B,EAAOz/B,GAGlB22B,EAASkJ,EAAQj9B,EAAKhC,EAAMZ,QAAU,QAGtC22B,EAASkJ,EAAQ9jB,EAAMnb,GAASm/B,GAAO,GAAIn/B,UAGzCi/B,IACEnhC,GAAegC,KAAKE,EAAO,WAC7B+1B,EAAO/nB,MAAQhO,EAAMgO,OAEnBlQ,GAAegC,KAAKE,EAAO,WAC7B+1B,EAAOtnB,MAAQzO,EAAMyO,QAIpBkwB,GAKLC,EAAOl9B,KAAK1B,GACZ6+B,EAAOn9B,KAAKq0B,IAGXkJ,EAAQ/4B,GAAUk5B,IAAQp/B,GAAO,SAASq/B,EAAUl4B,GACnD4uB,EAAO5uB,GAAOu3B,GAAUW,EAAUV,EAAQtpB,EAAUupB,EAAQC,MAG1DK,IACFjD,EAAa2C,GACb3C,EAAa4C,IAER9I,GAhBEA,WA2BFyI,GAAWjlC,EAAW+lC,UACtB/7B,GAAShK,GAAa0jC,GAAa1jC,GAAa,YA2BhDgmC,GAAmBhO,EAAM8M,EAASmB,MACtB,mBAARjO,SACFkO,WAGa,IAAXpB,KAA4B,cAAe9M,UAC7CA,MAEL4M,EAAW5M,EAAKmO,qBACG,IAAZvB,IACLF,GAAQ0B,YACVxB,GAAY5M,EAAKxxB,QAEnBo+B,EAAWA,IAAaF,GAAQ2B,aACjB,KACTlvB,EAASqsB,GAAWj9B,KAAKyxB,GACxB0M,GAAQ0B,YACXxB,GAAY7E,EAAWh1B,KAAKoM,IAEzBytB,IAEHA,EAAWzE,EAAOp1B,KAAKoM,GACvB+tB,GAAYlN,EAAM4M,QAKP,IAAbA,IAAoC,IAAbA,GAAmC,EAAdA,EAAS,UAChD5M,SAEDiO,QACD,SAAU,SAASx/B,UACfuxB,EAAKzxB,KAAKu+B,EAASr+B,SAEvB,SAAU,SAASkf,EAAGxD,UAClB6V,EAAKzxB,KAAKu+B,EAASnf,EAAGxD,SAE1B,SAAU,SAAS1b,EAAOgO,EAAO6xB,UAC7BtO,EAAKzxB,KAAKu+B,EAASr+B,EAAOgO,EAAO6xB,SAErC,SAAU,SAASC,EAAa9/B,EAAOgO,EAAO6xB,UAC1CtO,EAAKzxB,KAAKu+B,EAASyB,EAAa9/B,EAAOgO,EAAO6xB,WAGlDzS,GAAKmE,EAAM8M,YAWX0B,GAAkB5B,OACrB5M,EAAO4M,EAAS,GAChB6B,EAAU7B,EAAS,GACnBC,EAAcD,EAAS,GACvB8B,EAAmB9B,EAAS,GAC5BE,EAAUF,EAAS,GACnB+B,EAAQ/B,EAAS,GAEjBgC,EAAmB,EAAVH,EACTI,EAAsB,EAAVJ,EACZK,EAAoB,EAAVL,EACVM,EAAyB,EAAVN,EACf74B,EAAMoqB,WAED+M,QACHC,EAAc4B,EAAS9B,EAAU5kC,QACjC2kC,EAAa,KACX78B,EAAO4Z,EAAMijB,GACjB18B,GAAKG,MAAMN,EAAME,eAEfw+B,GAAoBI,KACtB9+B,IAASA,EAAO4Z,EAAM1Z,YAClBw+B,GACFv+B,GAAKG,MAAMN,EAAM0+B,GAEfI,GAAW9+B,EAAKnC,OAAS8gC,UAC3BF,GAAW,GACJD,GAAkB,CAACxO,EAAO+O,EAAeN,GAAoB,EAAVA,EAAez+B,EAAM,KAAM88B,EAAS6B,OAGlG3+B,IAASA,EAAOE,WACZ2+B,IACF7O,EAAOgN,EAAYp3B,IAEjB1N,gBAAgB6kC,EAAO,CACzBC,EAAcC,GAAWjN,EAAKh4B,eAC1Bw8B,EAASxE,EAAK1vB,MAAM08B,EAAah9B,UAC9BgC,GAASwyB,GAAUA,EAASwI,SAE9BhN,EAAK1vB,MAAM08B,EAAah9B,UAEjCk9B,GAAYH,EAAOH,GACZG,WAYAiC,GAAe3+B,EAAO4+B,OACzBxyB,GAAS,EACTxH,EAAUi6B,KACVrhC,EAASwC,EAAQA,EAAMxC,OAAS,EAChCshC,EAAUthC,GAt7BG,IAs7ByBoH,IAAYu0B,EAClDhF,EAAS,MAET2K,EAAS,KACPxF,EAAQS,EAAY6E,GACpBtF,GACF10B,EAAUy0B,EACVuF,EAAStF,GAETwF,GAAU,SAGL1yB,EAAQ5O,GAAQ,KACnBY,EAAQ4B,EAAMoM,GACdxH,EAAQg6B,EAAQxgC,GAAS,GAC3B+1B,EAAOr0B,KAAK1B,UAGZ0gC,GACFxE,EAAcsE,GAETzK,WAcA4K,GAAY/+B,EAAOg/B,EAAWC,EAAU7F,WAC3ChtB,GAASgtB,GAAa,GAAK,EAC3B57B,EAASwC,EAAQA,EAAMxC,OAAS,EAChC22B,EAAS,KAEJ/nB,EAAQ5O,GAAQ,KACnBY,EAAQ4B,EAAMoM,MAEdhO,GAAyB,iBAATA,GAA4C,iBAAhBA,EAAMZ,SAC9C2H,GAAQ/G,IAAU8gC,GAAY9gC,IAAS,CAExC4gC,IACH5gC,EAAQ2gC,GAAY3gC,EAAO4gC,EAAWC,QAEpCE,GAAY,EACZlkB,EAAY7c,EAAMZ,OAClB4hC,EAAWjL,EAAO32B,WAEtB22B,EAAO32B,QAAUyd,IACRkkB,EAAWlkB,GAClBkZ,EAAOiL,KAAchhC,EAAM+gC,QAEnBF,GACV9K,EAAOr0B,KAAK1B,UAGT+1B,WAgBAkL,GAAY/hB,EAAGxD,EAAGrG,EAAU6rB,EAAStC,EAAQC,MAEhDxpB,EAAU,KACR0gB,EAAS1gB,EAAS6J,EAAGxD,WACJ,IAAVqa,UACAA,KAIT7W,IAAMxD,SAEK,IAANwD,GAAY,EAAIA,GAAK,EAAIxD,OAM9BwD,GAAMA,GACJA,GAAKqb,SALOrb,IAMZxD,GAAK6e,SALY7e,WAMd,KAIA,MAALwD,GAAkB,MAALxD,SACRwD,IAAMxD,MAGXojB,EAAYn4B,EAAS7G,KAAKof,GAC1BiiB,EAAax6B,EAAS7G,KAAK4b,MAE3BojB,GAAahF,IACfgF,EAAY5E,GAEViH,GAAcrH,IAChBqH,EAAajH,GAEX4E,GAAaqC,SACR,SAEDrC,QACD9E,OACAC,SAGK/a,IAAMxD,MA/+BJ,yBAm/BFwD,IAAMA,EACVxD,IAAMA,EAEA,GAALwD,EAAU,EAAIA,GAAK,EAAIxD,EAAKwD,IAAMxD,MAp/B7B,uBAu/BPye,SAGIjb,GAAKvrB,EAAO+nB,OAEnBujB,EAAQH,GAAa/E,MACpBkF,EAAO,KAENmC,EAAWtjC,GAAegC,KAAKof,EAAG,eAClCmiB,EAAWvjC,GAAegC,KAAK4b,EAAG,kBAElC0lB,GAAYC,SACPJ,GAAYG,EAAWliB,EAAE8e,YAAc9e,EAAGmiB,EAAW3lB,EAAEsiB,YAActiB,EAAGrG,EAAU6rB,EAAStC,EAAQC,MAGxGC,GAAa5E,SACR,MAGLoH,EAAQpiB,EAAE/c,YACVo/B,EAAQ7lB,EAAEvZ,eAGVm/B,GAASC,KACL97B,GAAW67B,IAAUA,aAAiBA,GAAS77B,GAAW87B,IAAUA,aAAiBA,IACtF,gBAAiBriB,GAAK,gBAAiBxD,SAErC,MAMPwjB,GAAeN,EACnBA,IAAWA,EAAS5C,KACpB6C,IAAWA,EAAS7C,aAEhB58B,EAASw/B,EAAOx/B,OACbA,QACDw/B,EAAOx/B,IAAW8f,SACb2f,EAAOz/B,IAAWsc,MAGzBD,EAAO,KACXsa,GAAS,EAGT6I,EAAOl9B,KAAKwd,GACZ2f,EAAOn9B,KAAKga,GAGRujB,MAEF7/B,EAAS8f,EAAE9f,OACXqc,EAAOC,EAAEtc,QACT22B,EAASta,GAAQrc,IAEH8hC,OAELzlB,KAAQ,KACTzN,EAAQ5O,EACRY,EAAQ0b,EAAED,MAEVylB,OACKlzB,OACA+nB,EAASkL,GAAY/hB,EAAElR,GAAQhO,EAAOqV,EAAU6rB,EAAStC,EAAQC,WAInE,KAAM9I,EAASkL,GAAY/hB,EAAEzD,GAAOzb,EAAOqV,EAAU6rB,EAAStC,EAAQC,gBASjF2C,GAAM9lB,GAAG,SAAS1b,EAAOmH,EAAKuU,MACxB5d,GAAegC,KAAK4b,EAAGvU,UAEzBsU,IAEQsa,EAASj4B,GAAegC,KAAKof,EAAG/X,IAAQ85B,GAAY/hB,EAAE/X,GAAMnH,EAAOqV,EAAU6rB,EAAStC,EAAQC,MAItG9I,IAAWmL,GAEbM,GAAMtiB,GAAG,SAASlf,EAAOmH,EAAK+X,MACxBphB,GAAegC,KAAKof,EAAG/X,UAEjB4uB,IAAWta,GAAQ,YAKnCmjB,EAAOt3B,MACPu3B,EAAOv3B,MAEH43B,IACFjD,EAAa2C,GACb3C,EAAa4C,IAER9I,WAcA0L,GAAUtF,EAAQzrB,EAAQ2E,EAAUupB,EAAQC,IAClD93B,GAAQ2J,GAAUxK,GAAUk5B,IAAQ1uB,GAAQ,SAASA,EAAQvJ,OACxD8V,EACAgiB,EACAlJ,EAASrlB,EACT1Q,EAAQm8B,EAAOh1B,MAEfuJ,KAAYuuB,EAAQl4B,GAAQ2J,KAAYgxB,GAAchxB,IAAU,SAU5DkwB,EARFe,EAAc/C,EAAOx/B,OAClBuiC,QACA1kB,EAAQ2hB,EAAO+C,IAAgBjxB,EAAS,CAC3C1Q,EAAQ6+B,EAAO8C,aAId1kB,EAEC5H,IAEGurB,OAA6B,KADlC7K,EAAS1gB,EAASrV,EAAO0Q,OAEvB1Q,EAAQ+1B,GAGP6K,IACH5gC,EAAQi/B,EACHl4B,GAAQ/G,GAASA,EAAQ,GACzB0hC,GAAc1hC,GAASA,EAAQ,IAGtC4+B,EAAOl9B,KAAKgP,GACZmuB,EAAOn9B,KAAK1B,GAGP4gC,GACHa,GAAUzhC,EAAO0Q,EAAQ2E,EAAUupB,EAAQC,QAK3CxpB,QAEmB,KADrB0gB,EAAS1gB,EAASrV,EAAO0Q,MAEvBqlB,EAASrlB,QAGQ,IAAVqlB,IACT/1B,EAAQ+1B,GAGZoG,EAAOh1B,GAAOnH,cAaT4hC,GAAW1jB,EAAKoC,UAChBpC,EAAMlE,GAAMyjB,MAAkBnd,EAAMpC,EAAM,aAa1C2jB,GAASjgC,EAAOkgC,EAAUzsB,OAC7BrH,GAAS,EACTxH,EAAUi6B,KACVrhC,EAASwC,EAAQA,EAAMxC,OAAS,EAChC22B,EAAS,GAET2K,GAAWoB,GAAY1iC,GAnwCV,IAmwCsCoH,IAAYu0B,EAC/Dr2B,EAAQ2Q,GAAYqrB,EAAW1E,IAAajG,EAE5C2K,IAEFl6B,EAAUy0B,EACVv2B,EAFYi3B,EAAYj3B,WAIjBsJ,EAAQ5O,GAAQ,KACnBY,EAAQ4B,EAAMoM,GACd+zB,EAAW1sB,EAAWA,EAASrV,EAAOgO,EAAOpM,GAAS5B,GAEtD8hC,GACK9zB,GAAStJ,EAAKA,EAAKtF,OAAS,KAAO2iC,EACpCv7B,EAAQ9B,EAAMq9B,GAAY,MAE5B1sB,GAAYqrB,IACdh8B,EAAKhD,KAAKqgC,GAEZhM,EAAOr0B,KAAK1B,WAGZ0gC,GACFzE,EAAav3B,EAAK9C,OAClBs6B,EAAcx3B,IACL2Q,GACT4mB,EAAav3B,GAERqxB,WAaAiM,GAAiBC,UACjB,SAASpC,EAAYxqB,EAAUgpB,OAChCtI,EAAS,GACb1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,OAEhDrwB,GAAS,EACT5O,EAASygC,EAAaA,EAAWzgC,OAAS,KAEzB,iBAAVA,SACA4O,EAAQ5O,GAAQ,KACnBY,EAAQ6/B,EAAW7xB,GACvBi0B,EAAOlM,EAAQ/1B,EAAOqV,EAASrV,EAAOgO,EAAO6xB,GAAaA,QAG5DT,GAAOS,GAAY,SAAS7/B,EAAOmH,EAAK04B,GACtCoC,EAAOlM,EAAQ/1B,EAAOqV,EAASrV,EAAOmH,EAAK04B,GAAaA,aAGrD9J,YA0BFoM,GAAc5Q,EAAMyO,EAAS5B,EAAa6B,EAAkB5B,EAAS6B,OACxEC,EAAmB,EAAVH,EAETK,EAAoB,EAAVL,EAEVoC,EAAsB,GAAVpC,EACZqC,EAA2B,GAAVrC,OAJK,EAAVA,KAMGv6B,GAAW8rB,SACtB,IAAI/lB,EAER42B,IAAchE,EAAYh/B,SAC5B4gC,IAAW,GACXoC,EAAYhE,GAAc,GAExBiE,IAAmBpC,EAAiB7gC,SACtC4gC,IAAW,GACXqC,EAAiBpC,GAAmB,OAElC9B,EAAW5M,GAAQA,EAAKmO,oBACxBvB,IAAyB,IAAbA,IAEdA,EAAWhjB,EAAMgjB,IACJ,KACXA,EAAS,GAAKhjB,EAAMgjB,EAAS,KAE3BA,EAAS,KACXA,EAAS,GAAKhjB,EAAMgjB,EAAS,MAG3BgC,GAA0B,EAAdhC,EAAS,KACvBA,EAAS,GAAKE,IAGX8B,GAAwB,EAAdhC,EAAS,KACtB6B,GAAW,IAGTK,GAA2B,EAAdlC,EAAS,KACxBA,EAAS,GAAK+B,GAGZkC,GACF1gC,GAAKG,MAAMs8B,EAAS,KAAOA,EAAS,GAAK,IAAKC,GAG5CiE,GACFx2B,GAAQhK,MAAMs8B,EAAS,KAAOA,EAAS,GAAK,IAAK8B,GAGnD9B,EAAS,IAAM6B,EACRmC,GAActgC,MAAM,KAAMs8B,KAGT,GAAX6B,GAA4B,KAAZA,EAAkB9B,GAAW6B,IAC7C,CAACxO,EAAMyO,EAAS5B,EAAa6B,EAAkB5B,EAAS6B,aAUhEoC,GAAel7B,UACfm7B,GAAYn7B,YAWZq5B,SACH1K,GAAUA,EAAS6H,GAAOp3B,WAAaA,GAAUu0B,EAAchF,SAC5DA,WAUAiH,GAASh9B,SACO,mBAATA,GAAuB68B,GAASv4B,KAAKtE,GA31BrDi+B,GAAQ2B,YAAc5C,GAAS3vB,EAAQm1B,aAAe9I,EAAOp1B,KAAK+3B,GAQlE4B,GAAQ0B,UAAoC,iBAAjBlD,EAAS18B,KAWpC69B,GAAO6E,iBAAmB,QAQd,4BAQE,8BAQGlJ,WAQH,WAQD,GAQJqE,KAmJJX,KACHuB,GAAc,oBACH18B,YACF,SAASvI,MACVgK,GAAShK,GAAY,CACvBuI,EAAOvI,UAAYA,MACfw8B,EAAS,IAAIj0B,EACjBA,EAAOvI,UAAY,YAEdw8B,GAAU1oB,EAAQvL,UARf,QA8oBZ28B,GAAexpB,GAAwB,SAASsc,EAAMvxB,GACxDs6B,EAAWt6B,MAAQA,EACnBiV,GAAesc,EAAM,eAAgB+I,GACrCA,EAAWt6B,MAAQ,MAHe0iC,YAgB3BC,GAAkB3iC,OACrBgC,EACA+zB,WAGE/1B,GAAS2G,EAAS7G,KAAKE,IAAUk6B,GACRz0B,GAA1BzD,EAAOhC,EAAMmC,gBAAmCH,aAAgBA,MAMrEw/B,GAAMxhC,GAAO,SAASA,EAAOmH,GAC3B4uB,EAAS5uB,UAEa,IAAV4uB,GAAyBj4B,GAAegC,KAAKE,EAAO+1B,aAU3D6M,GAAiBx7B,UACjBy7B,GAAcz7B,YAqBd05B,GAAY9gC,UACZA,GAAyB,iBAATA,GAA4C,iBAAhBA,EAAMZ,QACvDuH,EAAS7G,KAAKE,IAAU85B,IAAa,MAoBrC/yB,GAAUm2B,IAAiB,SAASl9B,UAC/BA,GAAyB,iBAATA,GAA4C,iBAAhBA,EAAMZ,QACvDuH,EAAS7G,KAAKE,IAAU+5B,IAAc,GAqCtCh0B,GAAQs3B,GAAwB,SAASlB,UACtC54B,GAAS44B,GAGPkB,GAAWlB,GAFT,IA3BI,SAASA,OAClBnuB,EAAO80B,EAAW3G,EAAQpG,EAAS,OAClC+M,EAAU,OAAO/M,MAChBwE,SAAmB4B,GAAU,OAAOpG,MACnC/nB,KAAS80B,EACRhlC,GAAegC,KAAKgjC,EAAU90B,IAChC+nB,EAAOr0B,KAAKsM,UAGX+nB,GA+BLwM,GAAc,KACX,YACA,WACA,WACA,aACA,SAIHM,GAAgBE,GAAOR,IAGvBS,GAAgB3+B,EAAO,IAAM0B,GAAK88B,IAAe//B,KAAK,KAAO,IAAK,KAClEmgC,GAAkB5+B,EAAO,IAAM0B,GAAKw8B,IAAaz/B,KAAK,IAAM,IAAK,KAkCjEq8B,GAAS,SAAShD,EAAQzrB,EAAQwyB,OAChCl1B,EAAO80B,EAAW3G,EAAQpG,EAAS+M,MAClCA,EAAU,OAAO/M,MAClBx0B,EAAOE,UACP0hC,EAAY,EACZC,EAA6B,iBAATF,EAAoB,EAAI3hC,EAAKnC,UACjDgkC,EAAa,GAAoC,mBAAxB7hC,EAAK6hC,EAAa,OACzC/tB,EAAWkqB,GAAmBh+B,IAAO6hC,EAAa,GAAI7hC,EAAK6hC,KAAe,QACrEA,EAAa,GAAoC,mBAAxB7hC,EAAK6hC,EAAa,KACpD/tB,EAAW9T,IAAO6hC,WAEXD,EAAYC,OACnBN,EAAWvhC,EAAK4hC,KACA5I,SAAmBuI,WAC/BO,GAAY,EACZC,EAAW/I,SAAmBuI,IAAa/8B,GAAK+8B,GAChD1jC,EAASkkC,EAAWA,EAASlkC,OAAS,IAEjCikC,EAAWjkC,GAElB22B,EADA/nB,EAAQs1B,EAASD,IACDhuB,EAAWA,EAAS0gB,EAAO/nB,GAAQ80B,EAAS90B,IAAU80B,EAAS90B,UAI5E+nB,GA2JLuG,GAAW,SAASH,EAAQzrB,EAAQwyB,OAClCl1B,EAAO80B,EAAW3G,EAAQpG,EAAS+M,MAClCA,EAAU,OAAO/M,UAClBx0B,EAAOE,UACP0hC,EAAY,EACZC,EAA6B,iBAATF,EAAoB,EAAI3hC,EAAKnC,SAC5C+jC,EAAYC,OACnBN,EAAWvhC,EAAK4hC,KACA5I,SAAmBuI,WAC/BO,GAAY,EACZC,EAAW/I,SAAmBuI,IAAa/8B,GAAK+8B,GAChD1jC,EAASkkC,EAAWA,EAASlkC,OAAS,IAEjCikC,EAAWjkC,QAEU,IAAjB22B,EADX/nB,EAAQs1B,EAASD,MACwBtN,EAAO/nB,GAAS80B,EAAS90B,WAI/D+nB,GA4ILyL,GAAQ,SAAS3B,EAAYxqB,EAAUgpB,OACrCrwB,EAAO80B,EAAWjD,EAAY9J,EAAS+M,MACtCA,EAAU,OAAO/M,MACjBwE,SAAmBuI,GAAW,OAAO/M,MAEnC/nB,KADPqH,EAAWA,QAA8B,IAAXgpB,EAAyBhpB,EAAWkqB,GAAmBlqB,EAAUgpB,EAAS,GACxFyE,MACyC,IAAjDztB,EAASytB,EAAS90B,GAAQA,EAAO6xB,GAAuB,OAAO9J,SAEhEA,GAqELqJ,GAAS,SAASS,EAAYxqB,EAAUgpB,OACtCrwB,EAAO80B,EAAWjD,EAAY9J,EAAS+M,MACtCA,EAAU,OAAO/M,MACjBwE,SAAmBuI,GAAW,OAAO/M,EAC1C1gB,EAAWA,QAA8B,IAAXgpB,EAAyBhpB,EAAWkqB,GAAmBlqB,EAAUgpB,EAAS,WAClGgF,GAAY,EACZC,EAAW/I,SAAmBuI,IAAa/8B,GAAK+8B,GAChD1jC,EAASkkC,EAAWA,EAASlkC,OAAS,IAEjCikC,EAAWjkC,OAEmC,IAAjDiW,EAASytB,EADb90B,EAAQs1B,EAASD,IACar1B,EAAO6xB,GAAuB,OAAO9J,SAEhEA,YAqBAwN,GAAYpH,EAAQ9mB,EAAUgpB,OACjCmF,EAAQz9B,GAAKo2B,GACb/8B,EAASokC,EAAMpkC,WAEnBiW,EAAWkqB,GAAmBlqB,EAAUgpB,EAAS,GAC1Cj/B,KAAU,KACX+H,EAAMq8B,EAAMpkC,OAC2B,IAAvCiW,EAAS8mB,EAAOh1B,GAAMA,EAAKg1B,gBAI1BA,WAkBAsH,GAAUtH,OACbpG,EAAS,UACbyL,GAAMrF,GAAQ,SAASn8B,EAAOmH,GACxB1B,GAAWzF,IACb+1B,EAAOr0B,KAAKyF,MAGT4uB,EAAOhF,gBAmCPgS,GAAO5G,WACVnuB,GAAS,EACTw1B,EAAQz9B,GAAKo2B,GACb/8B,EAASokC,EAAMpkC,OACf22B,EAAS,KAEJ/nB,EAAQ5O,GAAQ,KACnB+H,EAAMq8B,EAAMx1B,GAChB+nB,EAAOoG,EAAOh1B,IAAQA,SAEjB4uB,WAqLAtwB,GAAWzF,SACK,mBAATA,WAuBPuD,GAASvD,YAKNA,IAASu6B,SAAmBv6B,aAqE/B6F,GAAS7F,SACO,iBAATA,GACZA,GAAyB,iBAATA,GAh2EJ,mBAg2EyB2G,EAAS7G,KAAKE,KAAyB,MA2B5E0hC,GAAiB50B,GAAqC,SAAS9M,OAC3DA,GAAS2G,EAAS7G,KAAKE,IAAUk6B,SAC9B,MAELwJ,EAAU1jC,EAAM0jC,QAChBC,EAAW3G,GAAS0G,KAAaC,EAAW72B,GAAe42B,KAAa52B,GAAe62B,UAEpFA,EACF3jC,GAAS2jC,GAAY72B,GAAe9M,IAAU2jC,EAC/ChB,GAAkB3iC,IATc2iC,YA0C7BhgC,GAAS3C,SACO,iBAATA,GACZA,GAAyB,iBAATA,GAAqB2G,EAAS7G,KAAKE,IAAUm6B,IAAe,WAuVvEqG,GAAOrE,WACVnuB,GAAS,EACTw1B,EAAQz9B,GAAKo2B,GACb/8B,EAASokC,EAAMpkC,OACf22B,EAASv0B,EAAMpC,KAEV4O,EAAQ5O,GACf22B,EAAO/nB,GAASmuB,EAAOqH,EAAMx1B,WAExB+nB,WAkEA6N,GAAS/D,EAAY50B,EAAQ+vB,OAChChtB,GAAS,EACTxH,EAAUi6B,KACVrhC,EAASygC,EAAaA,EAAWzgC,OAAS,EAC1C22B,GAAS,SAEbiF,GAAaA,EAAY,EAAIsC,GAAU,EAAGl+B,EAAS47B,GAAaA,IAAc,EAC1Ej0B,GAAQ84B,GACV9J,EAASvvB,EAAQq5B,EAAY50B,EAAQ+vB,IAAc,EACzB,iBAAV57B,EAChB22B,GAAUpzB,GAASk9B,GAAcA,EAAWr5B,QAAQyE,EAAQ+vB,GAAax0B,EAAQq5B,EAAY50B,EAAQ+vB,KAAe,EAEpHoE,GAAOS,GAAY,SAAS7/B,QACpBgO,GAASgtB,UACJjF,EAAS/1B,IAAUiL,MAI3B8qB,MAqCL8N,GAAU7B,IAAiB,SAASjM,EAAQ/1B,EAAOmH,GACpDrJ,GAAegC,KAAKi2B,EAAQ5uB,GAAO4uB,EAAO5uB,KAAS4uB,EAAO5uB,GAAO,cA4C3D28B,GAAMjE,EAAYxqB,EAAUgpB,OAC/BtI,GAAS,EACb1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,OAEhDrwB,GAAS,EACT5O,EAASygC,EAAaA,EAAWzgC,OAAS,KAEzB,iBAAVA,SACA4O,EAAQ5O,IACT22B,IAAW1gB,EAASwqB,EAAW7xB,GAAQA,EAAO6xB,WAKtDT,GAAOS,GAAY,SAAS7/B,EAAOgO,EAAO6xB,UAChC9J,IAAW1gB,EAASrV,EAAOgO,EAAO6xB,aAGvC9J,WA2CAP,GAAOqK,EAAYxqB,EAAUgpB,OAChCtI,EAAS,GACb1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,OAEhDrwB,GAAS,EACT5O,EAASygC,EAAaA,EAAWzgC,OAAS,KAEzB,iBAAVA,SACA4O,EAAQ5O,GAAQ,KACnBY,EAAQ6/B,EAAW7xB,GACnBqH,EAASrV,EAAOgO,EAAO6xB,IACzB9J,EAAOr0B,KAAK1B,QAIhBo/B,GAAOS,GAAY,SAAS7/B,EAAOgO,EAAO6xB,GACpCxqB,EAASrV,EAAOgO,EAAO6xB,IACzB9J,EAAOr0B,KAAK1B,aAIX+1B,WA8CAN,GAAKoK,EAAYxqB,EAAUgpB,GAClChpB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,OAa9CtI,EAXF/nB,GAAS,EACT5O,EAASygC,EAAaA,EAAWzgC,OAAS,KAEzB,iBAAVA,SASTggC,GAAOS,GAAY,SAAS7/B,EAAOgO,EAAO6xB,MACpCxqB,EAASrV,EAAOgO,EAAO6xB,UACzB9J,EAAS/1B,GACF,KAGJ+1B,SAdE/nB,EAAQ5O,GAAQ,KACnBY,EAAQ6/B,EAAW7xB,MACnBqH,EAASrV,EAAOgO,EAAO6xB,UAClB7/B,YAyENkG,GAAQ25B,EAAYxqB,EAAUgpB,OACjCrwB,GAAS,EACT5O,EAASygC,EAAaA,EAAWzgC,OAAS,KAE9CiW,EAAWA,QAA8B,IAAXgpB,EAAyBhpB,EAAWkqB,GAAmBlqB,EAAUgpB,EAAS,GACnF,iBAAVj/B,SACA4O,EAAQ5O,IACwC,IAAnDiW,EAASwqB,EAAW7xB,GAAQA,EAAO6xB,UAKzCT,GAAOS,EAAYxqB,UAEdwqB,WAoBAkE,GAAalE,EAAYxqB,EAAUgpB,OACtCj/B,EAASygC,EAAaA,EAAWzgC,OAAS,KAC9CiW,EAAWA,QAA8B,IAAXgpB,EAAyBhpB,EAAWkqB,GAAmBlqB,EAAUgpB,EAAS,GACnF,iBAAVj/B,OACFA,MACoD,IAArDiW,EAASwqB,EAAWzgC,GAASA,EAAQygC,SAItC,KACD2D,EAAQz9B,GAAK85B,GACjBzgC,EAASokC,EAAMpkC,OACfggC,GAAOS,GAAY,SAAS7/B,EAAOmH,EAAK04B,UACtC14B,EAAMq8B,EAAQA,IAAQpkC,KAAYA,EAC3BiW,EAASwqB,EAAW14B,GAAMA,EAAK04B,aAGnCA,MAsCLmE,GAAUhC,IAAiB,SAASjM,EAAQ/1B,EAAOmH,IACpDrJ,GAAegC,KAAKi2B,EAAQ5uB,GAAO4uB,EAAO5uB,GAAO4uB,EAAO5uB,GAAO,IAAIzF,KAAK1B,MA0CvEikC,GAAUjC,IAAiB,SAASjM,EAAQ/1B,EAAOmH,GACrD4uB,EAAO5uB,GAAOnH,cA6EPrC,GAAIkiC,EAAYxqB,EAAUgpB,OAC7BrwB,GAAS,EACT5O,EAASygC,EAAaA,EAAWzgC,OAAS,KAE9CiW,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAC/B,iBAAVj/B,UACL22B,EAASv0B,EAAMpC,KACV4O,EAAQ5O,GACf22B,EAAO/nB,GAASqH,EAASwqB,EAAW7xB,GAAQA,EAAO6xB,QAGrD9J,EAAS,GACTqJ,GAAOS,GAAY,SAAS7/B,EAAOmH,EAAK04B,GACtC9J,IAAS/nB,GAASqH,EAASrV,EAAOmH,EAAK04B,aAGpC9J,WA2CAzV,GAAIuf,EAAYxqB,EAAUgpB,OAC7B0D,GAAYpoB,EAAAA,EACZoc,EAASgM,KAIU,mBAAZ1sB,GAA0BgpB,GAAWA,EAAQhpB,KAAcwqB,IACpExqB,EAAW,MAEG,MAAZA,GAAoBtO,GAAQ84B,WAC1B7xB,GAAS,EACT5O,EAASygC,EAAWzgC,SAEf4O,EAAQ5O,GAAQ,KACnBY,EAAQ6/B,EAAW7xB,GACnBhO,EAAQ+1B,IACVA,EAAS/1B,QAIbqV,EAAwB,MAAZA,GAAoB1S,GAASk9B,GACrCxE,EACAuC,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAE7Cn4B,GAAQ25B,GAAY,SAAS7/B,EAAOgO,EAAO6xB,OACrCvS,EAAUjY,EAASrV,EAAOgO,EAAO6xB,GACjCvS,EAAUyU,IACZA,EAAWzU,EACXyI,EAAS/1B,aAIR+1B,MAkGLmO,GAAQvmC,YAgCH4J,GAAOs4B,EAAYxqB,EAAUyqB,EAAazB,OAC5CwB,EAAY,OAAOC,MACpBqE,EAAU1iC,UAAUrC,OAAS,EACjCiW,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,OAEhDrwB,GAAS,EACT5O,EAASygC,EAAWzgC,UAEH,iBAAVA,MACL+kC,IACFrE,EAAcD,IAAa7xB,MAEpBA,EAAQ5O,GACf0gC,EAAczqB,EAASyqB,EAAaD,EAAW7xB,GAAQA,EAAO6xB,QAGhET,GAAOS,GAAY,SAAS7/B,EAAOgO,EAAO6xB,GACxCC,EAAcqE,GACTA,GAAU,EAAOnkC,GAClBqV,EAASyqB,EAAa9/B,EAAOgO,EAAO6xB,aAGrCC,WAsBAsE,GAAYvE,EAAYxqB,EAAUyqB,EAAazB,OAClD8F,EAAU1iC,UAAUrC,OAAS,SACjCiW,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GACpD0F,GAAalE,GAAY,SAAS7/B,EAAOgO,EAAO6xB,GAC9CC,EAAcqE,GACTA,GAAU,EAAOnkC,GAClBqV,EAASyqB,EAAa9/B,EAAOgO,EAAO6xB,MAEnCC,WA6FAuE,GAAQxE,OACX7xB,GAAS,EACT5O,EAASygC,EAAaA,EAAWzgC,OAAS,EAC1C22B,EAASv0B,EAAuB,iBAAVpC,EAAqBA,EAAS,UAExD8G,GAAQ25B,GAAY,SAAS7/B,OACvBskC,EAAO1C,GAAW,IAAK5zB,GAC3B+nB,EAAO/nB,GAAS+nB,EAAOuO,GACvBvO,EAAOuO,GAAQtkC,KAEV+1B,WAsEAwO,GAAK1E,EAAYxqB,EAAUgpB,OAC9BtI,EACJ1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,OAEhDrwB,GAAS,EACT5O,EAASygC,EAAaA,EAAWzgC,OAAS,KAEzB,iBAAVA,SACA4O,EAAQ5O,KACV22B,EAAS1gB,EAASwqB,EAAW7xB,GAAQA,EAAO6xB,WAKnDT,GAAOS,GAAY,SAAS7/B,EAAOgO,EAAO6xB,WAC/B9J,EAAS1gB,EAASrV,EAAOgO,EAAO6xB,eAGpC9J,MAkIPlf,GAAQ2e,YAgNHoG,GAAMh6B,EAAOyT,EAAUgpB,OAC1B91B,EAAI,EACJnJ,EAASwC,EAAQA,EAAMxC,OAAS,KAEb,iBAAZiW,GAAoC,MAAZA,EAAkB,KAC/CrH,GAAS,MACbqH,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,KAC3CrwB,EAAQ5O,GAAUiW,EAASzT,EAAMoM,GAAQA,EAAOpM,IACvD2G,YAIO,OADTA,EAAI8M,IACagpB,SACRz8B,EAAQA,EAAM,QA/sIzBoI,SAktIOmR,EAAMvZ,EAAO,EAAG27B,GAAUD,GAAU,EAAG/0B,GAAInJ,aAiF3CoH,GAAQ5E,EAAO5B,EAAOg7B,MACL,iBAAbA,EAAuB,KAC5B57B,EAASwC,EAAQA,EAAMxC,OAAS,EACpC47B,EAAaA,EAAY,EAAIsC,GAAU,EAAGl+B,EAAS47B,GAAaA,GAAa,OACxE,GAAIA,EAAW,KAChBhtB,EAAQw2B,GAAY5iC,EAAO5B,UACxB4B,EAAMoM,KAAWhO,EAAQgO,GAAS,SAEpC+sB,EAAYn5B,EAAO5B,EAAOg7B,YAgb1ByJ,GAAK7iC,EAAOyT,EAAUgpB,MACN,iBAAZhpB,GAAoC,MAAZA,EAAkB,KAC/C9M,EAAI,EACJyF,GAAS,EACT5O,EAASwC,EAAQA,EAAMxC,OAAS,MAEpCiW,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,KAC3CrwB,EAAQ5O,GAAUiW,EAASzT,EAAMoM,GAAQA,EAAOpM,IACvD2G,SAGFA,EAAiB,MAAZ8M,GAAoBgpB,EAAW,EAAIf,GAAU,EAAGjoB,UAEhD8F,EAAMvZ,EAAO2G,YAmDbi8B,GAAY5iC,EAAO5B,EAAOqV,EAAUgpB,OACvCqG,EAAM,EACNC,EAAO/iC,EAAQA,EAAMxC,OAASslC,MAIlC1kC,GADAqV,EAAWA,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAAKoB,IACnDz/B,GAEV0kC,EAAMC,GAAM,KACb9I,EAAO6I,EAAMC,IAAU,EAC1BtvB,EAASzT,EAAMi6B,IAAQ77B,EACpB0kC,EAAM7I,EAAM,EACZ8I,EAAO9I,SAEN6I,WAiEAE,GAAKhjC,EAAOkgC,EAAUzsB,EAAUgpB,SAEhB,kBAAZyD,GAAqC,MAAZA,IAClCzD,EAAUhpB,EACVA,EAA+B,mBAAZysB,GAA0BzD,GAAWA,EAAQyD,KAAclgC,EAAS,KAAOkgC,EAC9FA,GAAW,GAEG,MAAZzsB,IACFA,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,IAE/CwD,GAASjgC,EAAOkgC,EAAUzsB,YAsE1BwvB,aACHjjC,EAAQH,UAAUrC,OAAS,EAAIqC,UAAYA,UAAU,GACrDuM,GAAS,EACT5O,EAASwC,EAAQ0e,GAAI4jB,GAAMtiC,EAAO,WAAa,EAC/Cm0B,EAASv0B,EAAMpC,EAAS,EAAI,EAAIA,KAE3B4O,EAAQ5O,GACf22B,EAAO/nB,GAASk2B,GAAMtiC,EAAOoM,UAExB+nB,WAqBA+O,GAAU/+B,EAAMy6B,OACnBxyB,GAAS,EACT5O,EAAS2G,EAAOA,EAAK3G,OAAS,EAC9B22B,EAAS,OAERyK,IAAUphC,GAAW2H,GAAQhB,EAAK,MACrCy6B,EAAS,MAEFxyB,EAAQ5O,GAAQ,KACnB+H,EAAMpB,EAAKiI,GACXwyB,EACFzK,EAAO5uB,GAAOq5B,EAAOxyB,GACZ7G,IACT4uB,EAAO5uB,EAAI,IAAMA,EAAI,WAGlB4uB,WA8DA3I,GAAKmE,EAAM8M,UACX58B,UAAUrC,OAAS,EACtB+iC,GAAc5Q,EAAM,GAAIpW,EAAM1Z,UAAW,GAAI,KAAM48B,GACnD8D,GAAc5Q,EAAM,EAAG,KAAM,KAAM8M,YAyMhC0G,GAASxT,EAAMyT,EAAMzsC,OACxBgJ,EACA0jC,EACAlP,EACAmP,EACA7G,EACA8G,EACAC,EACAC,EAAa,EACbC,GAAU,EACVC,GAAW,MAEV9/B,GAAW8rB,SACR,IAAI/lB,KAEZw5B,EAAO1H,GAAU,EAAG0H,IAAS,GACb,IAAZzsC,EAAkB,KAChBitC,GAAU,EACdD,GAAW,OACFhiC,GAAShL,KAClBitC,EAAUjtC,EAAQitC,QAClBF,EAAU,YAAa/sC,IAAY+kC,GAAU0H,EAAMzsC,EAAQ+sC,UAAY,GACvEC,EAAW,aAAchtC,EAAUA,EAAQgtC,SAAWA,OAEpDE,EAAU,eACRtoB,EAAY6nB,GAAQU,KAAQR,MAC5B/nB,GAAa,EAAG,CACd8nB,GACFxkC,GAAawkC,OAEXU,EAAWP,EACfH,EAAeE,EAAYC,OAjxK/Bp7B,EAkxKQ27B,IACFN,EAAaK,KACb3P,EAASxE,EAAK1vB,MAAMw8B,EAAS98B,GACxB4jC,GAAcF,IACjB1jC,EAAO88B,EAAU,YAIrB8G,EAAY7kC,GAAWmlC,EAAStoB,IAIhCyoB,EAAa,WACXT,GACF1kC,GAAa0kC,GAEfF,EAAeE,EAAYC,OAlyK7Bp7B,GAmyKMu7B,GAAaD,IAAYN,KAC3BK,EAAaK,KACb3P,EAASxE,EAAK1vB,MAAMw8B,EAAS98B,GACxB4jC,GAAcF,IACjB1jC,EAAO88B,EAAU,eAKhB,cACL98B,EAAOE,UACPyjC,EAAQQ,KACRrH,EAAU5kC,KACV2rC,EAAeG,IAAaJ,IAAcK,IAE1B,IAAZF,MACEO,EAAcL,IAAYL,MACzB,CACAF,GAAiBO,IACpBH,EAAaH,OAEX/nB,EAAYmoB,GAAWJ,EAAQG,GAC/BM,EAAWxoB,GAAa,EAExBwoB,GACEV,IACFA,EAAexkC,GAAawkC,IAE9BI,EAAaH,EACbnP,EAASxE,EAAK1vB,MAAMw8B,EAAS98B,IAErB0jC,IACRA,EAAe3kC,GAAWslC,EAAYzoB,WAGtCwoB,GAAYR,EACdA,EAAY1kC,GAAa0kC,GAEjBA,GAAaH,IAASM,IAC9BH,EAAY7kC,GAAWmlC,EAAST,IAE9Ba,IACFF,GAAW,EACX5P,EAASxE,EAAK1vB,MAAMw8B,EAAS98B,KAE3BokC,GAAaR,GAAcF,IAC7B1jC,EAAO88B,EAAU,MAEZtI,YAuYF0J,GAASz/B,UACTA,WA+BA8lC,GAAM3J,EAAQzrB,EAAQnY,OACzBwtC,GAAQ,EACRC,EAAct1B,GAAU+yB,GAAU/yB,GAEjCA,IAAYnY,GAAYytC,EAAY5mC,UACxB,MAAX7G,IACFA,EAAUmY,GAEZ1O,EAAO67B,GACPntB,EAASyrB,EACTA,EAASyB,GACToI,EAAcvC,GAAU/yB,KAEV,IAAZnY,EACFwtC,GAAQ,EACCxiC,GAAShL,IAAY,UAAWA,IACzCwtC,EAAQxtC,EAAQwtC,WAEd/jC,EAAOm6B,EACP8J,EAASxgC,GAAWzD,GAExBkE,GAAQ8/B,GAAa,SAASE,OACxB3U,EAAO4K,EAAO+J,GAAcx1B,EAAOw1B,GACnCD,IACFjkC,EAAKzI,UAAU2sC,GAAc,eACvBpI,EAAWrkC,KAAKskC,UAChB/9B,EAAQvG,KAAKukC,YACbz8B,EAAO,CAACvB,GAEZ0B,GAAKG,MAAMN,EAAME,eACbs0B,EAASxE,EAAK1vB,MAAMs6B,EAAQ56B,MAC5BwkC,GAASjI,EAAU,IACjB99B,IAAU+1B,GAAUxyB,GAASwyB,UACxBt8B,MAETs8B,EAAS,IAAI/zB,EAAK+zB,IACXgI,UAAYD,SAEd/H,gBAmCN2M,UA6rBHhyB,GA5qBFg1B,GAAM1I,GAAS0I,GAAM7+B,EAAK6+B,MAAQA,IAAO,kBACpC,IAAI7+B,GAAOs/B,WAsBhBxnC,GAAgD,GAArC6+B,GAAe5lC,oDAA0B4lC,GAAiB,SAASx9B,EAAOomC,UAEhF5I,GAAe76B,GAAS3C,GAASA,EAAMgD,QAAQw2B,EAAyB,IAAMx5B,EAAOomC,GAAS,aA2B9FC,GAASl/B,UACT,SAASg1B,UACPA,EAAOh1B,aAydTm/B,YACA7sC,KAAKukC,mBAMdJ,GAAO2I,eAr2CQh+B,EAAGgpB,OACX9rB,GAAW8rB,SACR,IAAI/lB,SAEL,gBACCjD,EAAI,SACDgpB,EAAK1vB,MAAMpI,KAAMgI,aAg2C9Bm8B,GAAOuB,OAASA,GAChBvB,GAAO4I,YA7/GK3G,WACNt+B,EAAOE,UACPuM,GAAS,EACTw1B,EAAQ7C,GAAYp/B,GAAM,GAAM,EAAO,GACvCnC,EAAUmC,EAAK,IAAMA,EAAK,GAAGA,EAAK,MAAQs+B,EAAc,EAAI2D,EAAMpkC,OAClE22B,EAASv0B,EAAMpC,KAEX4O,EAAQ5O,GACd22B,EAAO/nB,GAAS6xB,EAAW2D,EAAMx1B,WAE5B+nB,GAo/GT6H,GAAOxQ,KAAOA,GACdwQ,GAAO6I,iBA1yCUtK,WACX5F,EAAQ90B,UAAUrC,OAAS,EAAIuhC,GAAYl/B,WAAW,GAAM,EAAO,GAAKgiC,GAAUtH,GAClFnuB,GAAS,EACT5O,EAASm3B,EAAMn3B,SAEV4O,EAAQ5O,GAAQ,KACnB+H,EAAMovB,EAAMvoB,GAChBmuB,EAAOh1B,GAAOg7B,GAAchG,EAAOh1B,GAAM,EAAG,KAAM,KAAMg1B,UAEnDA,GAkyCTyB,GAAO8I,iBA7vCUvK,EAAQh1B,UAChB1F,UAAUrC,OAAS,EACtB+iC,GAAch7B,EAAK,GAAIgU,EAAM1Z,UAAW,GAAI,KAAM06B,GAClDgG,GAAch7B,EAAK,EAAG,KAAM,KAAMg1B,IA2vCxCyB,GAAOmI,eAvGQ/lC,UACbA,EAAQ,IAAI69B,GAAc79B,IACpB+9B,WAAY,EACX/9B,GAqGT49B,GAAO+I,iBA72EU/kC,WACXoM,GAAS,EACT5O,EAASwC,EAAQA,EAAMxC,OAAS,EAChC22B,EAAS,KAEJ/nB,EAAQ5O,GAAQ,KACnBY,EAAQ4B,EAAMoM,GACdhO,GACF+1B,EAAOr0B,KAAK1B,UAGT+1B,GAm2ET6H,GAAOgJ,2BA3tCDrQ,EAAQ90B,UACRrC,EAASm3B,EAAMn3B,OAEZA,SACAqG,GAAW8wB,EAAMn3B,UACd,IAAIoM,SAGP,mBACDjK,EAAOE,UACPrC,EAASm3B,EAAMn3B,OAEZA,KACLmC,EAAO,CAACg1B,EAAMn3B,GAAQyC,MAAMpI,KAAM8H,WAE7BA,EAAK,KA6sChBq8B,GAAOiJ,kBAjwBW7mC,UACT,kBACEA,IAgwBX49B,GAAOiG,QAAUA,GACjBjG,GAAO77B,gBAxlJSxI,EAAW+lC,OACrBvJ,EAASyI,GAAWjlC,UACjB+lC,EAAaH,GAAOpJ,EAAQuJ,GAAcvJ,GAulJnD6H,GAAOsE,wBA/tBiB3Q,EAAM8M,EAASmB,OACjCt0B,SAAcqmB,KACN,MAARA,GAAwB,YAARrmB,SACXq0B,GAAmBhO,EAAM8M,EAASmB,MAG/B,UAARt0B,SACKm7B,GAAS9U,OAEdiS,EAAQz9B,GAAKwrB,GACbpqB,EAAMq8B,EAAM,GACZtkB,EAAIqS,EAAKpqB,UAGO,GAAhBq8B,EAAMpkC,QAAe8f,GAAMA,GAAM3b,GAAS2b,GAQvC,SAASid,WACV/8B,EAASokC,EAAMpkC,OACf22B,GAAS,EAEN32B,MACC22B,EAASkL,GAAY9E,EAAOqH,EAAMpkC,IAAUmyB,EAAKiS,EAAMpkC,IAAU,MAAM,aAIxE22B,GAdA,SAASoG,OACVzgB,EAAIygB,EAAOh1B,UACR+X,IAAMxD,IAAY,IAANwD,GAAY,EAAIA,GAAK,EAAIxD,KA6sBlDkiB,GAAOkJ,eAjrCQvV,EAAM2O,UAEZiC,GAAc5Q,EAAM,EAAG,KAAM,KAAM,KAD1C2O,EAAwB,iBAATA,EAAoBA,GAAUA,GAAS3O,EAAKnyB,SAirC7Dw+B,GAAOmH,SAAWA,GAClBnH,GAAOtB,SAAWA,GAClBsB,GAAO9K,eAphCQvB,OACR9rB,GAAW8rB,SACR,IAAI/lB,MAERjK,EAAO4Z,EAAM1Z,UAAW,UACrBnB,IAAW,WAAaixB,EAAK1vB,WA32KpCmI,EA22KqDzI,KAAU,IAghCjEq8B,GAAOmJ,eA7/BQxV,EAAMyT,OACdv/B,GAAW8rB,SACR,IAAI/lB,MAERjK,EAAO4Z,EAAM1Z,UAAW,UACrBnB,IAAW,WAAaixB,EAAK1vB,WAn4KpCmI,EAm4KqDzI,KAAUyjC,IAy/BjEpH,GAAOoJ,oBA31EaplC,UACX2+B,GAAe3+B,EAAO++B,GAAYl/B,WAAW,GAAM,EAAM,KA21ElEm8B,GAAOpI,OAASA,GAChBoI,GAAOqJ,iBAhoEUrlC,EAAOg/B,EAAWvrB,EAAUgpB,SAEnB,kBAAbuC,GAAuC,MAAbA,IACnCvC,EAAUhpB,EACVA,EAAgC,mBAAburB,GAA2BvC,GAAWA,EAAQuC,KAAeh/B,EAAS,KAAOg/B,EAChGA,GAAY,GAEE,MAAZvrB,IACFzT,EAAQjE,GAAIiE,EAAOyT,EAAUgpB,IAExBsC,GAAY/+B,EAAOg/B,IAunE5BhD,GAAO13B,QAAUA,GACjB03B,GAAOmG,aAAeA,GACtBnG,GAAO4D,MAAQA,GACf5D,GAAOsJ,oBAt4Ia/K,EAAQ9mB,EAAUgpB,OAChC8I,EAAQ,GAEZ3F,GAAMrF,GAAQ,SAASn8B,EAAOmH,GAC5BggC,EAAMzlC,KAAKyF,EAAKnH,UAGdZ,EAAS+nC,EAAM/nC,WACnBiW,EAAWkqB,GAAmBlqB,EAAUgpB,EAAS,GAC1Cj/B,MACoD,IAArDiW,EAAS8xB,EAAM/nC,KAAW+nC,EAAM/nC,GAAS+8B,YAIxCA,GAy3ITyB,GAAOwB,OAASA,GAChBxB,GAAO2F,YAAcA,GACrB3F,GAAO6F,UAAYA,GACnB7F,GAAOoG,QAAUA,GACjBpG,GAAOqG,QAAUA,GACjBrG,GAAOwJ,iBAxiEUxlC,EAAOyT,EAAUgpB,OAC5B91B,EAAI,EACJnJ,EAASwC,EAAQA,EAAMxC,OAAS,KAEb,iBAAZiW,GAAoC,MAAZA,EAAkB,KAC/CrH,EAAQ5O,MACZiW,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAC7CrwB,KAAWqH,EAASzT,EAAMoM,GAAQA,EAAOpM,IAC9C2G,SAGFA,EAAiB,MAAZ8M,GAAoBgpB,EAAW,EAAIhpB,GAAY9M,SAE/C4S,EAAMvZ,EAAO,EAAG27B,GAAUD,GAAU,EAAGl+B,EAASmJ,GAAInJ,KA4hE7Dw+B,GAAOyJ,gCA1gED9lC,EAAO,GACP4hC,GAAa,EACbC,EAAa3hC,UAAUrC,OACvBkoC,EAAStL,IACTx1B,EAAUi6B,KACV8G,EAAe/gC,IAAYu0B,EAC3Br2B,EAAOs3B,MAEFmH,EAAYC,GAAY,KAC3BpjC,EAAQyB,UAAU0hC,IAClBp8B,GAAQ/G,IAAU8gC,GAAY9gC,MAChCuB,EAAKG,KAAK1B,GACVsnC,EAAO5lC,KAAK6lC,GAAgBvnC,EAAMZ,QA93IrB,IA+3IXu8B,EAAYwH,EAAY5hC,EAAK4hC,GAAaz+B,SAG5C9C,EAAQL,EAAK,GACbyM,GAAS,EACT5O,EAASwC,EAAQA,EAAMxC,OAAS,EAChC22B,EAAS,GAEbyR,EACA,OAASx5B,EAAQ5O,GAAQ,KACnB87B,EAAQoM,EAAO,MACnBtnC,EAAQ4B,EAAMoM,IAETktB,EAAQD,EAAaC,EAAOl7B,GAASwG,EAAQ9B,EAAM1E,IAAU,EAAG,KACnEmjC,EAAYC,GACXlI,GAASx2B,GAAMhD,KAAK1B,KACZmjC,QACPjI,EAAQoM,EAAOnE,IACFlI,EAAaC,EAAOl7B,GAASwG,EAAQjF,EAAK4hC,GAAYnjC,IAAU,WAClEwnC,EAGbzR,EAAOr0B,KAAK1B,SAGTojC,MACLlI,EAAQoM,EAAOlE,KAEblH,EAAchB,UAGlBe,EAAaqL,GACbrL,EAAav3B,GACNqxB,GA69DT6H,GAAOmF,OAASA,GAChBnF,GAAO6J,gBA/hGS5H,EAAYqG,OACtB3kC,EAAO4Z,EAAM1Z,UAAW,GACxBuM,GAAS,EACTi4B,EAA8B,mBAAdC,EAChB9mC,EAASygC,EAAaA,EAAWzgC,OAAS,EAC1C22B,EAASv0B,EAAuB,iBAAVpC,EAAqBA,EAAS,UAExD8G,GAAQ25B,GAAY,SAAS7/B,GAC3B+1B,IAAS/nB,IAAUi4B,EAASC,EAAalmC,EAAMkmC,IAAarkC,MAAM7B,EAAOuB,MAEpEw0B,GAshGT6H,GAAO73B,KAAOA,GACd63B,GAAOjgC,IAAMA,GACbigC,GAAO8J,mBAj2HYvL,EAAQ9mB,EAAUgpB,OAC/BtI,EAAS,UACb1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAEpDe,GAAOjD,GAAQ,SAASn8B,EAAOmH,EAAKg1B,GAClCpG,EAAO5uB,GAAOkO,EAASrV,EAAOmH,EAAKg1B,MAE9BpG,GA21HT6H,GAAOtd,IAAMA,GACbsd,GAAO+J,iBAr+BUpW,EAAMqW,OAChBniC,GAAW8rB,SACR,IAAI/lB,MAERq8B,EAAW,eACT3M,EAAQ2M,EAAS3M,MACjB/zB,EAAMygC,EAAWA,EAAS/lC,MAAMpI,KAAMgI,WAAau3B,EAAYv3B,UAAU,UAEtE3D,GAAegC,KAAKo7B,EAAO/zB,GAC9B+zB,EAAM/zB,GACL+zB,EAAM/zB,GAAOoqB,EAAK1vB,MAAMpI,KAAMgI,mBAErComC,EAAS3M,MAAQ,GACV2M,GAy9BTjK,GAAOkK,eAvyHQ3L,OACT56B,EAAOE,UACPrC,EAAS,MAERmE,GAAS44B,UACLA,KAIa,iBAAX56B,EAAK,KACdnC,EAASmC,EAAKnC,QAEZA,EAAS,GAAgC,mBAApBmC,EAAKnC,EAAS,OACjCiW,EAAWkqB,GAAmBh+B,IAAOnC,EAAS,GAAImC,EAAKnC,KAAW,QAC7DA,EAAS,GAAgC,mBAApBmC,EAAKnC,EAAS,KAC5CiW,EAAW9T,IAAOnC,YAEhB2oC,EAAU5sB,EAAM1Z,UAAW,EAAGrC,GAC9B4O,GAAS,EACT4wB,EAAS5C,IACT6C,EAAS7C,MAEJhuB,EAAQ5O,GACfqiC,GAAUtF,EAAQ4L,EAAQ/5B,GAAQqH,EAAUupB,EAAQC,UAEtD5C,EAAa2C,GACb3C,EAAa4C,GACN1C,GA6wHTyB,GAAO1f,aA52FM2hB,EAAYxqB,EAAUgpB,OAC7B0D,EAAWpoB,EAAAA,EACXoc,EAASgM,KAIU,mBAAZ1sB,GAA0BgpB,GAAWA,EAAQhpB,KAAcwqB,IACpExqB,EAAW,MAEG,MAAZA,GAAoBtO,GAAQ84B,WAC1B7xB,GAAS,EACT5O,EAASygC,EAAWzgC,SAEf4O,EAAQ5O,GAAQ,KACnBY,EAAQ6/B,EAAW7xB,GACnBhO,EAAQ+1B,IACVA,EAAS/1B,QAIbqV,EAAwB,MAAZA,GAAoB1S,GAASk9B,GACrCxE,EACAuC,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAE7Cn4B,GAAQ25B,GAAY,SAAS7/B,EAAOgO,EAAO6xB,OACrCvS,EAAUjY,EAASrV,EAAOgO,EAAO6xB,GACjCvS,EAAUyU,IACZA,EAAWzU,EACXyI,EAAS/1B,aAIR+1B,GA60FT6H,GAAOoK,cAjvHO7L,EAAQ9mB,EAAUgpB,OAC1BtI,EAAS,MACU,mBAAZ1gB,EAAwB,KAC7BmuB,EAAQ,GACZhC,GAAMrF,GAAQ,SAASn8B,EAAOmH,GAC5Bq8B,EAAM9hC,KAAKyF,cAIT6G,GAAS,EACT5O,GAHJokC,EAAQjD,GAAeiD,EAAO7C,GAAYl/B,WAAW,GAAM,EAAO,KAG/CrC,SAEV4O,EAAQ5O,GAAQ,KACnB+H,EAAMq8B,EAAMx1B,GAChB+nB,EAAO5uB,GAAOg1B,EAAOh1B,SAGvBkO,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GACpDmD,GAAMrF,GAAQ,SAASn8B,EAAOmH,EAAKg1B,GAC5B9mB,EAASrV,EAAOmH,EAAKg1B,KACxBpG,EAAO5uB,GAAOnH,aAIb+1B,GA0tHT6H,GAAOjwB,cAx8BO4jB,OACR0W,EACAlS,MAECtwB,GAAW8rB,SACR,IAAI/lB,SAEL,kBACDy8B,IAGJA,GAAM,EACNlS,EAASxE,EAAK1vB,MAAMpI,KAAMgI,WAG1B8vB,EAAO,MANEwE,IAg8Bb6H,GAAOuJ,eA1sHQhL,WACTnuB,GAAS,EACTw1B,EAAQz9B,GAAKo2B,GACb/8B,EAASokC,EAAMpkC,OACf22B,EAASv0B,EAAMpC,KAEV4O,EAAQ5O,GAAQ,KACnB+H,EAAMq8B,EAAMx1B,GAChB+nB,EAAO/nB,GAAS,CAAC7G,EAAKg1B,EAAOh1B,WAExB4uB,GAisHT6H,GAAOsK,iBAp6BU3W,UACR4Q,GAAc5Q,EAAM,GAAIpW,EAAM1Z,UAAW,KAo6BlDm8B,GAAOuK,sBAt4Be5W,UACb4Q,GAAc5Q,EAAM,GAAI,KAAMpW,EAAM1Z,UAAW,KAs4BxDm8B,GAAOrB,cArqHOJ,EAAQ9mB,EAAUgpB,OAC1BtI,EAAS,MACU,mBAAZ1gB,UACLrH,GAAS,EACTw1B,EAAQ7C,GAAYl/B,WAAW,GAAM,EAAO,GAC5CrC,EAASmE,GAAS44B,GAAUqH,EAAMpkC,OAAS,IAEtC4O,EAAQ5O,GAAQ,KACnB+H,EAAMq8B,EAAMx1B,GACZ7G,KAAOg1B,IACTpG,EAAO5uB,GAAOg1B,EAAOh1B,SAIzBkO,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GACpDmD,GAAMrF,GAAQ,SAASn8B,EAAOmH,EAAKg1B,GAC7B9mB,EAASrV,EAAOmH,EAAKg1B,KACvBpG,EAAO5uB,GAAOnH,aAIb+1B,GAipHT6H,GAAOsG,MAAQA,GACftG,GAAOyI,SAAWA,GAClBzI,GAAOwK,cA72DOxmC,WACRL,EAAOE,UACP0hC,EAAY,EACZC,EAAa7hC,EAAKnC,OAClBA,EAASwC,EAAQA,EAAMxC,OAAS,IAE3B+jC,EAAYC,WACfp1B,GAAS,EACThO,EAAQuB,EAAK4hC,KACRn1B,EAAQ5O,GACXwC,EAAMoM,KAAWhO,IACnB+sB,GAAOjtB,KAAK8B,EAAOoM,IAAS,GAC5B5O,YAICwC,GA81DTg8B,GAAOyK,eA3zDQpqC,EAAOwB,EAAK6oC,GACzBrqC,GAASA,GAAS,EAGP,MAAPwB,IACFA,EAAMxB,EACNA,EAAQ,WAIN+P,GAAS,EACT5O,EAASk+B,GAAU,EAAGR,IAAMr9B,EAAMxB,KATtCqqC,EAAsB,iBAARA,EAAmBA,GAASA,GAAQ,IASM,KACpDvS,EAASv0B,EAAMpC,KAEV4O,EAAQ5O,GACf22B,EAAO/nB,GAAS/P,EAChBA,GAASqqC,SAEJvS,GA0yDT6H,GAAO2K,gBAnsFS1I,EAAYxqB,EAAUgpB,UACpChpB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAC7C7I,GAAOqK,GAAY,SAAS7/B,EAAOgO,EAAO6xB,UACvCxqB,EAASrV,EAAOgO,EAAO6xB,OAisFnCjC,GAAO4K,gBAxwDS5mC,EAAOyT,EAAUgpB,OAC3BrwB,GAAS,EACT5O,EAASwC,EAAQA,EAAMxC,OAAS,EAChC22B,EAAS,OAEb1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,KAC3CrwB,EAAQ5O,GAAQ,KACnBY,EAAQ4B,EAAMoM,GACdqH,EAASrV,EAAOgO,EAAOpM,KACzBm0B,EAAOr0B,KAAK1B,GACZ+sB,GAAOjtB,KAAK8B,EAAOoM,IAAS,GAC5B5O,YAGG22B,GA2vDT6H,GAAO6G,KAAOA,GACd7G,GAAOyG,QAAUA,GACjBzG,GAAO6K,gBA7/ES5I,EAAYxqB,EAAUgpB,OAChCrwB,GAAS,EACTixB,EAAQl4B,GAAQsO,GAChBjW,EAASygC,EAAaA,EAAWzgC,OAAS,EAC1C22B,EAASv0B,EAAuB,iBAAVpC,EAAqBA,EAAS,OAEnD6/B,IACH5pB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,IAEtDn4B,GAAQ25B,GAAY,SAAS7/B,EAAOmH,EAAK04B,OACnC1D,EAASpG,IAAS/nB,GAAS8tB,IAC3BmD,EACF9C,EAAOX,SAAW79B,GAAI0X,GAAU,SAASlO,UAAcnH,EAAMmH,OAE5Dg1B,EAAOX,SAAWQ,KAAY,GAAK3mB,EAASrV,EAAOmH,EAAK04B,GAE3D1D,EAAOnuB,MAAQA,EACfmuB,EAAOn8B,MAAQA,KAGjBZ,EAAS22B,EAAO32B,OAChB22B,EAAOhF,KAAKuK,GACLl8B,KAAU,KACX+8B,EAASpG,EAAO32B,GACpB22B,EAAO32B,GAAU+8B,EAAOn8B,MACnBi/B,GACHhD,EAAaE,EAAOX,UAEtBU,EAAcC,UAETpG,GAg+ET6H,GAAO8K,aA/HM1oC,EAAO2oC,UAClBA,EAAY3oC,GACLA,GA8HT49B,GAAOgL,kBA/2BWrX,EAAMyT,EAAMzsC,OACxBitC,GAAU,EACVD,GAAW,MAEV9/B,GAAW8rB,SACR,IAAI/lB,SAEI,IAAZjT,EACFitC,GAAU,EACDjiC,GAAShL,KAClBitC,EAAU,YAAajtC,EAAUA,EAAQitC,QAAUA,EACnDD,EAAW,aAAchtC,EAAUA,EAAQgtC,SAAWA,GAExDlL,EAAgBmL,QAAUA,EAC1BnL,EAAgBiL,QAAUN,EAC1B3K,EAAgBkL,SAAWA,EAEpBR,GAASxT,EAAMyT,EAAM3K,IA+1B9BuD,GAAOiL,eAzOQtgC,EAAG8M,EAAUgpB,GAC1B91B,GAAKA,GAAKA,IAAM,EAAIA,EAAI,MACpByF,GAAS,EACT+nB,EAASv0B,EAAM+G,OAEnB8M,EAAWkqB,GAAmBlqB,EAAUgpB,EAAS,KACxCrwB,EAAQzF,GACfwtB,EAAO/nB,GAASqH,EAASrH,UAEpB+nB,GAiOT6H,GAAOkL,iBAn9EUjJ,UACXA,GAA0C,iBAArBA,EAAWzgC,OAC3B+b,EAAM0kB,GAERW,GAAOX,IAg9EhBjC,GAAO/O,mBA5nHYsN,EAAQ9mB,EAAUyqB,EAAazB,OAC5CY,EAAQl4B,GAAQo1B,MACD,MAAf2D,KACEb,EACFa,EAAc,OACT,KACD99B,EAAOm6B,GAAUA,EAAOh6B,YACxB4mC,EAAQ/mC,GAAQA,EAAKzI,UAEzBumC,EAActB,GAAWuK,UAGzB1zB,IACFA,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,IACnDY,EAAQ/4B,GAAUk5B,IAAQjD,GAAQ,SAASn8B,EAAOgO,EAAOmuB,UACjD9mB,EAASyqB,EAAa9/B,EAAOgO,EAAOmuB,OAGxC2D,GA2mHTlC,GAAOoL,wBA5mDEnH,GAASlB,GAAYl/B,WAAW,GAAM,KA6mD/Cm8B,GAAOgH,KAAOA,GACdhH,GAAO4C,OAASA,GAChB5C,GAAO/mB,MAAQA,GACf+mB,GAAOqL,iBAriDUrnC,UACR2+B,GAAe3+B,EAAOuZ,EAAM1Z,UAAW,KAqiDhDm8B,GAAO3Q,cA/0BOjtB,EAAOkpC,UACZ/G,GAAc+G,EAAS,GAAI,CAAClpC,KA+0BrC49B,GAAOuL,uBAjhDDn7B,GAAS,EACT5O,EAASqC,UAAUrC,SAEd4O,EAAQ5O,GAAQ,KACnBwC,EAAQH,UAAUuM,MAClBjH,GAAQnF,IAAUk/B,GAAYl/B,OAC5Bm0B,EAASA,EACT8L,GAAStB,GAAexK,EAAQn0B,GAAOb,OAAOw/B,GAAe3+B,EAAOm0B,KACpEn0B,SAGDm0B,GAAU,IAugDnB6H,GAAOiH,IAAMA,GACbjH,GAAOkH,UAAYA,GAGnBlH,GAAOwL,QAAUzrC,GACjBigC,GAAOyL,KAAO5E,GACd7G,GAAO0L,KAAOpjC,GACd03B,GAAO2L,UAAYxF,GACnBnG,GAAO4L,OAASrK,GAChBvB,GAAO6L,QAAUhG,GACjB7F,GAAOzB,OAAS2I,GAChBlH,GAAOhvB,OAAS4mB,GAChBoI,GAAOxZ,KAAOqgB,GACd7G,GAAO8L,OAAS9E,GAChBhH,GAAO+L,MAAQ9E,GAGfiB,GAAMlI,IAKNA,GAAOgM,eA9vJQ5pC,EAAO2+B,EAAQtpB,EAAUgpB,SAGjB,kBAAVM,GAAiC,MAAVA,IAChCN,EAAUhpB,EACVA,EAAWspB,EACXA,GAAS,GAEJD,GAAU1+B,EAAO2+B,EAA2B,mBAAZtpB,GAA0BkqB,GAAmBlqB,EAAUgpB,EAAS,KAuvJzGT,GAAOiM,mBA3sJY7pC,EAAOqV,EAAUgpB,UAC3BK,GAAU1+B,GAAO,EAAyB,mBAAZqV,GAA0BkqB,GAAmBlqB,EAAUgpB,EAAS,KA2sJvGT,GAAOgG,SAAWA,GAClBhG,GAAOtL,gBA/vBSvX,UACG,MAAVA,EAAiB,GAAKpnB,EAAOonB,GAAQ/X,QAAQigC,GAAiBX,KA+vBvE1E,GAAOkG,MAAQA,GACflG,GAAOnI,KAAOA,GACdmI,GAAOkM,mBA53EYloC,EAAOyT,EAAUgpB,OAC9BrwB,GAAS,EACT5O,EAASwC,EAAQA,EAAMxC,OAAS,MAEpCiW,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,KAC3CrwB,EAAQ5O,MACXiW,EAASzT,EAAMoM,GAAQA,EAAOpM,UACzBoM,SAGH,GAm3EV4vB,GAAOmM,iBAtlJU5N,EAAQ9mB,EAAUgpB,OAC7BtI,SACJ1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GACpDe,GAAOjD,GAAQ,SAASn8B,EAAOmH,EAAKg1B,MAC9B9mB,EAASrV,EAAOmH,EAAKg1B,UACvBpG,EAAS5uB,GACF,KAGJ4uB,GA8kJT6H,GAAOoM,kBApyGWnK,EAAYxqB,EAAUgpB,OAClCtI,SACJ1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GACpD0F,GAAalE,GAAY,SAAS7/B,EAAOgO,EAAO6xB,MAC1CxqB,EAASrV,EAAOgO,EAAO6xB,UACzB9J,EAAS/1B,GACF,KAGJ+1B,GA4xGT6H,GAAOqM,uBAz0EgBroC,EAAOyT,EAAUgpB,OAClCj/B,EAASwC,EAAQA,EAAMxC,OAAS,MACpCiW,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAC7Cj/B,QACDiW,EAASzT,EAAMxC,GAASA,EAAQwC,UAC3BxC,SAGH,GAk0EVw+B,GAAOsM,qBApiJc/N,EAAQ9mB,EAAUgpB,OACjCtI,SACJ1gB,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GACpDkF,GAAYpH,GAAQ,SAASn8B,EAAOmH,EAAKg1B,MACnC9mB,EAASrV,EAAOmH,EAAKg1B,UACvBpG,EAAS5uB,GACF,KAGJ4uB,GA4hJT6H,GAAOuM,aAr1IMhO,EAAQh1B,WACZg1B,GAASr+B,GAAegC,KAAKq8B,EAAQh1B,IAq1I9Cy2B,GAAO6B,SAAWA,GAClB7B,GAAOp3B,QAAUA,GACjBo3B,GAAOkD,YAAcA,GACrBlD,GAAO72B,QAAUA,GACjB62B,GAAO74B,mBA/yIY/E,UACA,IAAVA,IAA4B,IAAVA,GACvBA,GAAyB,iBAATA,GAAqB2G,EAAS7G,KAAKE,IAAUg6B,IAAa,GA8yI9E4D,GAAOh3B,gBA9xIS5G,UACPA,GAAyB,iBAATA,GAAqB2G,EAAS7G,KAAKE,IAAUi6B,IAAa,GA8xInF2D,GAAOwM,mBA9wIYpqC,UACVA,GAA4B,IAAnBA,EAAM26B,WAAkB,GA8wI1CiD,GAAOyM,iBAtvIUrqC,OACX+1B,GAAS,MACR/1B,SACI+1B,MAEL+I,EAAYn4B,EAAS7G,KAAKE,GAC1BZ,EAASY,EAAMZ,cAEd0/B,GAAa/E,GAAc+E,GAAa3E,GAAe2E,GAAahF,GACpEgF,GAAa5E,GAAgC,iBAAV96B,GAAsBqG,GAAWzF,EAAM+sB,SACrE3tB,GAEVggC,GAAOp/B,GAAO,kBACJ+1B,GAAS,KAEZA,IAwuIT6H,GAAO0M,iBA/rIUprB,EAAGxD,EAAGrG,EAAUgpB,UACxB4C,GAAY/hB,EAAGxD,EAAsB,mBAAZrG,GAA0BkqB,GAAmBlqB,EAAUgpB,EAAS,KA+rIlGT,GAAO/d,kBAhqIW7f,UACTm9B,GAAen9B,KAAWo9B,GAAYmN,WAAWvqC,KAgqI1D49B,GAAOn4B,WAAaA,GACpBm4B,GAAO5wB,eAxlIQhN,UAGN6F,GAAS7F,IAAUA,IAAUA,GAslItC49B,GAAOt6B,gBAnkIStD,UACG,OAAVA,GAmkIT49B,GAAO/3B,SAAWA,GAClB+3B,GAAOr6B,SAAWA,GAClBq6B,GAAO8D,cAAgBA,GACvB9D,GAAOl3B,kBA9/HW1G,UACTA,GAAyB,iBAATA,GAn5ET,mBAm5E8B2G,EAAS7G,KAAKE,KAAyB,GA8/HrF49B,GAAOj7B,SAAWA,GAClBi7B,GAAOj6B,qBA79Hc3D,eACI,IAATA,GA69HhB49B,GAAOlrB,qBAn9Dc9Q,EAAO5B,EAAOg7B,OAC7BhtB,EAAQpM,EAAQA,EAAMxC,OAAS,MACX,iBAAb47B,IACThtB,GAASgtB,EAAY,EAAIsC,GAAU,EAAGtvB,EAAQgtB,GAAauC,GAAUvC,EAAWhtB,EAAQ,IAAM,GAEzFA,QACDpM,EAAMoM,KAAWhO,SACZgO,SAGH,GA08DV4vB,GAAOkI,MAAQA,GACflI,GAAO4M,6BAlrBLn9B,EAAQhK,EAAIu5B,EACLnjC,MAkrBTmkC,GAAO8E,KAAOA,GACd9E,GAAO8H,IAAMA,GACb9H,GAAOj/B,SAAWA,GAClBi/B,GAAOF,gBAhkBSxf,EAAKoC,EAAKmqB,OACpBC,EAAe,MAAPxsB,EACRysB,EAAe,MAAPrqB,KAEI,MAAZmqB,IACgB,kBAAPvsB,GAAoBysB,GAC7BF,EAAWvsB,EACXA,EAAM,GAEEysB,GAAuB,kBAAPrqB,IACxBmqB,EAAWnqB,EACXqqB,GAAQ,IAGRD,GAASC,IACXrqB,EAAM,GAERpC,GAAOA,GAAO,EACVysB,GACFrqB,EAAMpC,EACNA,EAAM,GAENoC,GAAOA,GAAO,EAEZmqB,GAAYvsB,EAAM,GAAKoC,EAAM,EAAG,KAC9BgkB,EAAO7G,YACJF,GAAUrf,EAAOomB,GAAQhkB,EAAMpC,EAAMqsB,WAAW,QAAUjG,EAAM,IAAIllC,OAAS,KAAOkhB,UAEtFshB,GAAW1jB,EAAKoC,IAqiBzBsd,GAAOr2B,OAASA,GAChBq2B,GAAOwG,YAAcA,GACrBxG,GAAO7H,gBAzgBSoG,EAAQh1B,MAClBg1B,EAAQ,KACNn8B,EAAQm8B,EAAOh1B,UACZ1B,GAAWzF,GAASm8B,EAAOh1B,KAASnH,IAugB/C49B,GAAOvB,aAAeA,EACtBuB,GAAOniB,cA/rFOokB,OACRzgC,EAASygC,EAAaA,EAAWzgC,OAAS,QACtB,iBAAVA,EAAqBA,EAAS2G,GAAK85B,GAAYzgC,QA8rF/Dw+B,GAAO2G,KAAOA,GACd3G,GAAO4G,YAAcA,GACrB5G,GAAOgN,kBAjbW/1B,EAAMjV,EAAMrH,OAKxBsyC,EAAWjN,GAAO6E,iBACtB5tB,EAAOlhB,EAAOkhB,GAAQ,IAGtBtc,EAAU+jC,GAAS,GAAI/jC,EAASsyC,OAM5BC,EAJAC,EAAUzO,GAAS,GAAI/jC,EAAQwyC,QAASF,EAASE,SACjDC,EAAcjlC,GAAKglC,GACnBE,EAAgBzK,GAAOuK,GAGvB/8B,EAAQ,EACRk9B,EAAc3yC,EAAQ2yC,aAAezR,EACrC/oB,EAAS,WAGTy6B,EAAe9mC,GAChB9L,EAAQ+5B,QAAUmH,GAAW/oB,OAAS,IACvCw6B,EAAYx6B,OAAS,KACpBw6B,IAAgB3R,EAAgBH,EAAeK,GAAW/oB,OAAS,KACnEnY,EAAQ+/B,UAAYmB,GAAW/oB,OAAS,KACzC,KAEFmE,EAAK7R,QAAQmoC,GAAc,SAAS/jC,EAAOgkC,EAAaC,EAAkBC,EAAiBC,EAAehtC,UACxG8sC,IAAqBA,EAAmBC,GAGxC56B,GAAUmE,EAAKsG,MAAMnN,EAAOzP,GAAQyE,QAAQ22B,EAAmBoC,GAG3DqP,IACF16B,GAAU,YAAc06B,EAAc,UAEpCG,IACFT,GAAe,EACfp6B,GAAU,OAAS66B,EAAgB,eAEjCF,IACF36B,GAAU,iBAAmB26B,EAAmB,+BAElDr9B,EAAQzP,EAAS6I,EAAMhI,OAIhBgI,KAGTsJ,GAAU,WAIN86B,EAAWjzC,EAAQizC,SACnBC,EAAcD,EAEbC,IAEH/6B,EAAS,UADT86B,EAAW,OACoB,QAAU96B,EAAS,SAGpDA,GAAUo6B,EAAep6B,EAAO1N,QAAQi2B,EAAsB,IAAMvoB,GACjE1N,QAAQk2B,EAAqB,MAC7Bl2B,QAAQm2B,EAAuB,OAGlCzoB,EAAS,YAAc86B,EAAW,SAC/BC,EAAc,GAAKD,EAAW,QAAUA,EAAW,aACpD,qCACCV,EACG,uFAEA,OAEJp6B,EACA,oBAIEg7B,EAAY,wBAA0BnzC,EAAQmzC,WAAa,2BAA8B7R,IAAqB,KAAO,eAGnH9D,EAAS0G,EAASuO,EAAa,UAAYt6B,EAASg7B,GAAW7pC,WArpMrEmI,EAqpMsFihC,GACpF,MAAM1qC,SACNA,EAAEmQ,OAASA,EACLnQ,SAEJX,EACKm2B,EAAOn2B,IAKhBm2B,EAAOrlB,OAASA,EACTqlB,IAiVT6H,GAAO+N,kBA5RW5wB,UACC,MAAVA,EAAiB,GAAKpnB,EAAOonB,GAAQ/X,QAAQggC,GAAeJ,KA4RrEhF,GAAOgO,kBAzQWC,OACZ7zB,IAAO+gB,SACJplC,EAAiB,MAAVk4C,EAAiB,GAAKA,GAAU7zB,GA0QhD4lB,GAAOkO,IAAMhI,GACblG,GAAOmO,IAAMxH,GACb3G,GAAOoO,OAASvW,GAChBmI,GAAOqO,UAAYxW,GACnBmI,GAAOsO,MAAQ3kC,GACfq2B,GAAOuO,MAAQ/H,GACfxG,GAAOwO,QAAUxI,GACjBhG,GAAOyO,OAAS9kC,GAEhBu+B,IACMp1B,GAAS,GACb0uB,GAAOxB,IAAQ,SAASrM,EAAM2U,GACvBtI,GAAOrkC,UAAU2sC,KACpBx1B,GAAOw1B,GAAc3U,MAGlB7gB,KACJ,GAKLktB,GAAOhC,MAAQA,GACfgC,GAAOjQ,cA3iEO/rB,EAAOyT,EAAUgpB,OACzB91B,EAAI,EACJnJ,EAASwC,EAAQA,EAAMxC,OAAS,KAEb,iBAAZiW,GAAoC,MAAZA,EAAkB,KAC/CrH,EAAQ5O,MACZiW,EAAWuoB,GAAOsE,eAAe7sB,EAAUgpB,EAAS,GAC7CrwB,KAAWqH,EAASzT,EAAMoM,GAAQA,EAAOpM,IAC9C2G,YAIO,OADTA,EAAI8M,IACagpB,SACRz8B,EAAQA,EAAMxC,EAAS,QA/+IlC4K,SAk/IOmR,EAAMvZ,EAAO07B,GAAU,EAAGl+B,EAASmJ,KA4hE5Cq1B,GAAO0O,gBA1xFSzM,EAAYt3B,EAAG26B,MACzBrD,GAA0C,iBAArBA,EAAWzgC,SAClCygC,EAAaW,GAAOX,IAEb,MAALt3B,GAAa26B,SACRrD,EAAaA,EAAW+B,GAAW,EAAG/B,EAAWzgC,OAAS,SAzvHnE4K,MA2vHI+rB,EAASsO,GAAQxE,UACrB9J,EAAO32B,OAASm+B,GAAUD,GAAU,EAAG/0B,GAAIwtB,EAAO32B,QAC3C22B,GAoxFT6H,GAAO2O,KAAO3Q,GACdgC,GAAOtuB,KAAOssB,GAEdwD,GAAOxB,IAAQ,SAASrM,EAAM2U,OACxBsG,EAA8B,WAAftG,EACdtI,GAAOrkC,UAAU2sC,KACpBtI,GAAOrkC,UAAU2sC,GAAa,SAAS39B,EAAG26B,OACpCpF,EAAWrkC,KAAKskC,UAChBhI,EAASxE,EAAK93B,KAAKukC,YAAaz1B,EAAG26B,UAE/BpF,GAAkB,MAALv1B,KAAc26B,GAAWsJ,GAA4B,mBAALjkC,GAEjE,IAAIs1B,GAAc9H,EAAQ+H,GAD1B/H,OAeV6H,GAAO6O,QAAU,QAGjB7O,GAAOrkC,UAAUwsC,6BA5OVhI,WAAY,EACVtkC,MA4OTmkC,GAAOrkC,UAAUoN,2BA5NRhT,EAAO8F,KAAKukC,cA6NrBJ,GAAOrkC,UAAUyG,MAAQsmC,GACzB1I,GAAOrkC,UAAUmqC,QAAU4C,GAG3BpgC,GAAQ,CAAC,OAAQ,MAAO,UAAU,SAASggC,OACrC3U,EAAOmL,EAASwJ,GACpBtI,GAAOrkC,UAAU2sC,GAAc,eACzBpI,EAAWrkC,KAAKskC,UAChBhI,EAASxE,EAAK1vB,MAAMpI,KAAKukC,YAAav8B,kBAEnCq8B,EACH,IAAID,GAAc9H,EAAQ+H,GAC1B/H,MAKR7vB,GAAQ,CAAC,OAAQ,UAAW,OAAQ,YAAY,SAASggC,OACnD3U,EAAOmL,EAASwJ,GACpBtI,GAAOrkC,UAAU2sC,GAAc,kBAC7B3U,EAAK1vB,MAAMpI,KAAKukC,YAAav8B,WACtBhI,SAKXyM,GAAQ,CAAC,SAAU,QAAS,WAAW,SAASggC,OAC1C3U,EAAOmL,EAASwJ,GACpBtI,GAAOrkC,UAAU2sC,GAAc,kBACtB,IAAIrI,GAActM,EAAK1vB,MAAMpI,KAAKukC,YAAav8B,WAAYhI,KAAKskC,eAIpEH,GAMDvB,GAgBC3B,GAAeE,EAElBC,GACDD,EAAWlL,QAAUrsB,GAAGA,EAAIA,EAI7Bq3B,EAAYr3B,EAAIA,EAKlBm1B,EAAKn1B,EAAIA,IAEXvD,KAAKrG,2BCjoNP,IAEEua,EAAQ04B,GACRC,EAAUD,GACVE,EAAS9qC,OAAOvI,UAAUuE,eAC1B+uC,EAAYH,GACZI,EAAUJ,GACVK,EAAS,MAKTC,EAAa,CACXC,KAAM,KACNC,MAAM,EACNC,OAAO,GAITC,EAAW,8HAEXC,EAAS,gCAGPC,EAAU,SAASr5B,EAAMlU,MACtBkU,GAASD,EAAMC,UAEfA,EAAKmC,UACRnC,EAAKmC,QAAU,IAIZrW,EAID6sC,EAAO9sC,KAAKmU,EAAKmC,QAASrW,GAErBkU,EAAKmC,QAAQrW,UALbkU,EAAKmC,SASZm3B,EAAU,SAASl7B,EAAItS,EAAMC,GAEjB,OAAVA,EACFwtC,EAAgBn7B,EAAItS,GAEpBsS,EAAG+D,QAAQrW,GAAQC,EAAM,IAyCzBytC,GArCO/d,OAAe,SAAS3vB,EAAMC,SAEnB,iBAATD,QAA+BiK,IAAVhK,EAErB2sC,EAAQlzC,KADI,mBAAVuG,EACY,SAAShM,EAAGqe,GAC/Bk7B,EAAQl7B,EAAItS,EAAMC,EAAMF,KAAKuS,EAAIre,EAAGqe,EAAG+D,QAAQrW,MAG9B,SAAS/L,EAAGqe,GAC1B2B,EAAM3B,KAES,iBAATtS,EACTsD,GAAEimC,KAAKvpC,GAAM,SAASA,EAAMoH,GAC1BkL,EAAG+D,QAAQjP,GAAOpH,EAAK,MAGzBwtC,EAAQl7B,EAAItS,EAAMC,MAKjBstC,EAAQ7zC,KAAK,GAAIsG,IAgBX,SAASsS,EAAItS,OAEtB2tC,EAAUC,EAASC,EAASC,EAAQ7tC,EAAOoG,EAAKhH,EADhD0uC,EAA+B,IAArBrsC,UAAUrC,WAGpB0uC,EAIFF,GAHAF,EAAW5rC,OAAOiE,KAAKsM,EAAG+D,SAASof,QAAO,SAASuY,SArFpC,UAsFNA,EAAS5yB,MAAM,EAtFT,QAsF2B/b,YAEvBzB,KAAI,SAASgwC,UACvBd,EAAUc,EAAQxyB,MAzFZ,QAyFiC/b,aAGhDsuC,EAAW,CA5FI,QA4FcZ,EAAQ/sC,IACrC6tC,EAAU,CAAC7tC,IAGRqG,EAAM,EAAGhH,EAASsuC,EAAStuC,OAAQgH,EAAMhH,IAAUgH,EACtDunC,EAAUD,EAAStnC,GACnBynC,EAASD,EAAQxnC,GACbwmC,EAAO9sC,KAAKuS,EAAG+D,QAASu3B,KAC1B3tC,EAAQqS,EAAG+D,QAAQu3B,GAEff,EAAO9sC,KAAKktC,EAAYhtC,GAC1BA,EAAQgtC,EAAWhtC,GACVA,IAAUrM,OAAOuP,OAAOlD,IACjCA,EAAQkD,OAAOlD,GACNqtC,EAAO/oC,KAAKtE,KACrBA,EAAQmD,KAAK6qC,MAAMhuC,IAGrBqS,EAAGzS,KAAKiuC,GAAU7tC,UAIf8tC,EAAUz7B,EAAGzS,KAAOI,IA0GzBwtC,GAvGO9d,OAAe,SAAS3vB,EAAMC,OACnCiU,EAAOxa,KAAK,MAEXwa,GAASD,EAAMC,UAEfA,EAAKrU,OACRqU,EAAKrU,KAAO,IAITG,EAKe,iBAATA,QAA+BiK,IAAVhK,GAC9B2sC,EAAQlzC,MAAM,SAASzF,EAAGqe,IAlEhB,SAASA,EAAItS,EAAMC,MACX,iBAATD,EAAmB,OAAOsD,GAAEmmC,OAAOn3B,EAAGzS,KAAMG,GACnC,iBAATA,QAA+BiK,IAAVhK,EAC9BqS,EAAGzS,KAAKG,GAAQC,EACS,iBAATD,GAChBsD,GAAE4qC,MAAM57B,EAAGzS,KAAMG,GA8DfmuC,CAAQ77B,EAAItS,EAAMC,MAEbvG,MACEmzC,EAAO9sC,KAAKmU,EAAKrU,KAAMG,GACzBkU,EAAKrU,KAAKG,GAGZ0tC,EAASx5B,EAAMlU,GAbb0tC,EAASx5B,IAoBVyb,MAAc,SAAS1vB,OAC3BmuC,EAAgC,IAArB1sC,UAAUrC,OACrBiV,EAAU5a,KAAK,MAEf4a,SAEIA,EAAQtU,UACT,kBACItG,KAAKob,KAAK7U,OACd,eACKvG,KAAK20C,KAAK,aACX,YAECC,EAAU7V,EADV8V,EAAc,0BAA4B70C,KAAK20C,KAAK,QAAU,mBAK1C,KADxBC,EAAW50C,KAAK80C,QAAQ,SACXnvC,SACXo5B,GAAQ/+B,KAAK+0C,UAAU7gB,OAAO,IAAMl0B,KAAK,IAAI++B,KAC7C6V,EAAW50C,KAAKg1C,MAAMjW,IAGpB2V,EACKE,EAAS5Y,KAAK6Y,GAAaF,KAAK,UAEvCC,EAAS5Y,KAAK,YAAYiZ,WAAW,WACrCL,EAAS5Y,KAAK,4BAA8Bz1B,EAAQ,MAAMouC,KAAK,UAAW,IACnE30C,qBAIFA,KAAK20C,KAAK,QAASpuC,OAG3B,aAEC2uC,EADAjgC,EAASjV,KAAKg8B,KAAK,2BAERzrB,IAAX0E,EAAsB,WACrBy/B,EAAU,KACR10C,KAAK20C,OAAOtwC,eAAe,aAA+B,iBAATkC,SAC7CvG,KAEW,iBAATuG,IACTA,EAAQ,CAACA,SAENy1B,KAAK,UAAUiZ,WAAW,gBAC1B,IAAI16C,EAAI,EAAGA,EAAIgM,EAAMZ,OAAQpL,SAC3ByhC,KAAK,iBAAmBz1B,EAAMhM,GAAK,MAAMo6C,KAAK,WAAY,WAE1D30C,YAETk1C,EAAcjgC,EAAO0/B,KAAK,SACtB30C,KAAK20C,OAAOtwC,eAAe,cAC7B6wC,EAAc,GACdhC,EAAQj+B,GAAQ,SAAS1a,EAAGqe,GAC1Bs8B,EAAYjtC,KAAK2Q,EAAG+D,QAAQpW,WAGzB2uC,MACJ,gBACER,EAIE10C,KAAK20C,KAAK,eAHVA,KAAK,QAASpuC,GACZvG,QAUO,SAASwa,EAAMlU,GAC9BkU,EAAKmC,SAAYw2B,EAAO9sC,KAAKmU,EAAKmC,QAASrW,KAG5CA,IAASkU,EAAKmC,QAAQrW,IAASqtC,EAAS9oC,KAAK2P,EAAKmC,QAAQrW,IAC5DkU,EAAKmC,QAAQrW,IAAQ,SAEdkU,EAAKmC,QAAQrW,MAgCpB6uC,GA5Balf,aAAqB,SAAS3vB,UAC7C4sC,EAAQlzC,MAAM,SAASzF,EAAGigB,GACxBu5B,EAAgBv5B,EAAMlU,MAGjBtG,MAGMi2B,WAAmB,SAASoP,UAClCz7B,GAAE0oC,IAAItyC,MAAM,SAASwa,OAItBxU,EAHAovC,EAAQ56B,EAAKmC,QACb04B,EAAQD,GAASA,EAAK,MACtBzoC,GAAO,KAGP0oC,QACM1oC,EAAM0oC,EAAMtoC,QAAQs4B,EAAW14B,EAAI,KAAO,MAChD3G,EAAM2G,EAAM04B,EAAU1/B,QAET,IAARgH,GAAa2mC,EAAOzoC,KAAKwqC,EAAM1oC,EAAI,OAChC3G,IAAQqvC,EAAM1vC,QAAU2tC,EAAOzoC,KAAKwqC,EAAMrvC,YACzC,MAOFiwB,WAAmB,SAAS1vB,MAEpB,mBAAVA,SACF2sC,EAAQlzC,MAAM,SAASzF,EAAGqe,OAC3BysB,EAAYzsB,EAAG+D,QAAH,OAAuB,GACvCw4B,EAAS9uC,KAAK,CAACuS,GAAKrS,EAAMF,KAAKuS,EAAIre,EAAG8qC,WAKrC9+B,GAA0B,iBAAVA,EAAoB,OAAOvG,aAE5Cs1C,EAAa/uC,EAAM8H,MAAMilC,GACzBiC,EAAcv1C,KAAK2F,OAGdpL,EAAI,EAAGA,EAAIg7C,EAAah7C,OAE1BggB,EAAMva,KAAKzF,SAIZi7C,EACAC,EAFApQ,EAAYwO,EAAQ7zC,KAAKzF,GAAI,YAI5B8qC,EAEE,CACLoQ,EAAW,IAAMpQ,EAAY,IAC7BmQ,EAAaF,EAAW3vC,WAGnB,IAAI5H,EAAI,EAAGA,EAAIy3C,EAAYz3C,IAAK,KAC/B23C,EAAcJ,EAAWv3C,GAAK,KAC5B03C,EAAS1oC,QAAQ,IAAM2oC,KAC3BD,GAAYC,GAGhB5B,EAAQ9zC,KAAKzF,GAAI,QAASk7C,EAAS/3B,aAZnCo2B,EAAQ9zC,KAAKzF,GAAI,QAAS+6C,EAAWjsC,KAAK,KAAKqU,eAgB5C1d,OAGL21C,EAAa,SAAStQ,UACjBA,EAAYA,EAAU3nB,OAAOrP,MAAMilC,GAAU,IAGlDsC,EAAc3f,cAAsB,SAAS1vB,OAC3CsvC,EACAL,EACAM,QAGiB,mBAAVvvC,EACF2sC,EAAQlzC,MAAM,SAASzF,EAAGqe,GAC/Bg9B,EAAYvvC,KAAK,CAACuS,GAAKrS,EAAMF,KAAKuS,EAAIre,EAAGqe,EAAG+D,QAAH,OAAuB,SAIpEk5B,EAAUF,EAAWpvC,GACrBivC,EAAaK,EAAQlwC,OACrBmwC,EAAiC,IAArB9tC,UAAUrC,OAEfutC,EAAQlzC,MAAM,SAASzF,EAAGqe,MAC1B2B,EAAM3B,MAEPk9B,EAEFl9B,EAAG+D,QAAQo5B,MAAQ,OACd,SAEDxhC,EACAyhC,EAFAC,EAAYN,EAAW/8B,EAAG+D,QAAQo5B,OAI7Bh4C,EAAI,EAAGA,EAAIy3C,EAAYz3C,KAC9BwW,EAAQ0hC,EAAUlpC,QAAQ8oC,EAAQ93C,MAErB,IACXk4C,EAAU3iB,OAAO/e,EAAO,GACxByhC,GAAU,EAIVj4C,KAGAi4C,IACFp9B,EAAG+D,QAAQo5B,MAAQE,EAAU5sC,KAAK,YAMtC6sC,EAAcjgB,cAAsB,SAAS1vB,EAAO4vC,MAEjC,mBAAV5vC,SACF2sC,EAAQlzC,MAAM,SAASzF,EAAGqe,GAC/Bs9B,EAAY7vC,KAAK,CAACuS,GAAKrS,EAAMF,KAAKuS,EAAIre,EAAGqe,EAAG+D,QAAH,OAAuB,GAAIw5B,GAAWA,UAK9E5vC,GAA0B,iBAAVA,EAAoB,OAAOvG,aAM9Co2C,EACA7hC,EALE+gC,EAAa/uC,EAAM8H,MAAMilC,GAC3BkC,EAAaF,EAAW3vC,OACxBkoB,EAA4B,kBAAbsoB,EAAyBA,EAAW,GAAK,EAAI,EAC5DZ,EAAcv1C,KAAK2F,OAIZpL,EAAI,EAAGA,EAAIg7C,EAAah7C,OAE1BggB,EAAMva,KAAKzF,KAEhB67C,EAAiBT,EAAW31C,KAAKzF,GAAGoiB,QAAQo5B,WAGvC,IAAIh4C,EAAI,EAAGA,EAAIy3C,EAAYz3C,IAE9BwW,EAAQ6hC,EAAerpC,QAAQuoC,EAAWv3C,IAGtC8vB,GAAS,GAAKtZ,EAAQ,EACxB6hC,EAAenuC,KAAKqtC,EAAWv3C,IACtB8vB,GAAS,GAAKtZ,GAAS,GAEhC6hC,EAAe9iB,OAAO/e,EAAO,QAI5Bha,GAAGoiB,QAAQo5B,MAAQK,EAAe/sC,KAAK,YAGvCrJ,MAGAi2B,KAAa,SAAUogB,WAC1BA,GACKr2C,KAAK+7B,OAAOsa,GAAU1wC,OAAS,MCvZtC4U,qGAAQqC,GAAYrC,UAEP,CAChBghB,aAAcA,GACdC,aAAcA,GACd/d,QAiFD,SAASA,EAAQjD,UACbzS,MAAMuF,QAAQkN,GAAcA,EAAKtW,IAAIuZ,GAASpU,KAAK,IACnDkR,GAAMC,IAASA,EAAK/I,OAASmL,GAAYvC,MAAcoD,EAAQjD,EAAKE,UACpEF,EAAK/I,OAASmL,GAAY7C,KAAaS,EAAKrU,KACxC,KAlFR,SAASo1B,GAAa/gB,UACdA,EAAKE,SAAWF,EAAKE,SAASxW,IAAIs3B,IAAcnyB,KAAK,IAAM,GAInE,IAAIitC,GAAiB,CACpBngC,UAAW,KACX6iB,OAAO,EACPC,WAAW,EACXC,UAAU,EACVrX,SAAS,EACTsX,UAAU,EACVE,OAAO,EACPC,UAAU,EACVC,QAAQ,EACRE,MAAM,EACNhC,UAAU,EACVkC,MAAM,EACNC,UAAU,EACVC,UAAU,EACVE,QAAQ,EACRE,UAAU,GAGPsc,GAAY,CACfpgC,UAAW,KACXC,MAAM,EACNrR,MAAM,EACNsR,UAAU,EACVC,IAAI,EACJC,KAAK,EACLG,OAAO,EACPC,IAAI,EACJC,KAAK,EACL5B,OAAO,EACP6B,SAAS,EACTf,MAAM,EACNiB,MAAM,EACNC,OAAO,EACPP,OAAO,GAGR,SAAS+kB,GAAahhB,UACdA,EAAK/I,WACPmL,GAAY7C,YACTS,EAAKrU,UACRyW,GAAY3C,cACT,UAASO,EAAKrU,KAAO,cACxByW,GAAY5C,gBACT,IAAMQ,EAAKrU,KAAO,SACrByW,GAAYvC,YACT,WAAakhB,GAAa/gB,GAAQ,UAGtCvO,EAAM,IAAMuO,EAAKlU,QAClB,YAAakU,MACX,IAAIm6B,KAAQn6B,EAAKmC,WACjBnC,EAAKmC,QAAQtY,eAAeswC,GAAM,CACpC1oC,GAAO,IAAM0oC,MACTpuC,EAAQiU,EAAKmC,QAAQg4B,GACb,MAATpuC,EACIouC,KAAQ2B,KACbrqC,GAAO,OAGRA,GAAO,KAAQ1F,EAAQ,WAMvBiU,EAAKlU,QAAQiwC,IAAsC,IAAzB/7B,EAAKE,SAAS/U,OACpCsG,EAAM,MAENA,EAAM,IAAMsvB,GAAa/gB,GAAQ,KAAOA,EAAKlU,KAAO,4BCnF7D,IAAIm1B,EAAcxF,cAAsB,SAASzb,UACzCA,EAAKE,UAGTghB,EAAYzF,YAAoB,SAASzb,UACrCA,EAAK+B,QAGb0Z,cAAsB,SAASzb,OAC1B+B,EAASmf,EAAUlhB,UAChB+B,EAASkf,EAAYlf,GAAU,CAAC/B,IAGxCyb,oBAA4B,SAASzb,EAAMlU,UACnCkU,EAAKmC,SAAWnC,EAAKmC,QAAQrW,IAGrC2vB,YAAoB,SAASzb,EAAMlU,UAC3BjC,eAAegC,KAAKmU,EAAKmC,QAASrW,IAG1C2vB,UAAkB,SAASzb,UACnBA,EAAKlU,oHCtBW,SAASkU,MAC7BA,EAAKzM,OAAMyM,EAAKzM,KAAK0O,KAAOjC,EAAKiC,MACjCjC,EAAKiC,OAAMjC,EAAKiC,KAAK1O,KAAOyM,EAAKzM,MAEjCyM,EAAK+B,OAAO,KACVuB,EAAStD,EAAK+B,OAAO7B,SACzBoD,EAAOwV,OAAOxV,EAAO7E,YAAYuB,GAAO,oBAIjB,SAASA,EAAMmhB,OACnC5tB,EAAO4tB,EAAY5tB,KAAOyM,EAAKzM,KAChCA,IACFA,EAAK0O,KAAOkf,OAGTlf,EAAOkf,EAAYlf,KAAOjC,EAAKiC,KAChCA,IACFA,EAAK1O,KAAO4tB,OAGTpf,EAASof,EAAYpf,OAAS/B,EAAK+B,UACpCA,EAAO,KACLuB,EAASvB,EAAO7B,SACpBoD,EAAOA,EAAO7E,YAAYuB,IAASmhB,gBAIf,SAASnhB,EAAMohB,MACpCA,EAAMrf,OAAS/B,EAEkB,IAA9BA,EAAKE,SAASzS,KAAK2zB,GAAa,KAC9BC,EAAUrhB,EAAKE,SAASF,EAAKE,SAAS/U,OAAS,GACnDk2B,EAAQpf,KAAOmf,EACfA,EAAM7tB,KAAO8tB,EACbD,EAAMnf,KAAO,cAIE,SAASjC,EAAMiC,OAC3BF,EAAS/B,EAAK+B,OACjBuf,EAAWthB,EAAKiC,QAEjBA,EAAKA,KAAOqf,EACZrf,EAAK1O,KAAOyM,EACZA,EAAKiC,KAAOA,EACZA,EAAKF,OAASA,EAEXuf,MACFA,EAAS/tB,KAAO0O,EACbF,EAAO,KACLuB,EAASvB,EAAO7B,SACpBoD,EAAOwV,OAAOxV,EAAO7E,YAAY6iB,GAAW,EAAGrf,SAEvCF,GACTA,EAAO7B,SAASzS,KAAKwU,YAIL,SAASjC,EAAMzM,OAC5BwO,EAAS/B,EAAK+B,UACfA,EAAO,KACLuB,EAASvB,EAAO7B,SACpBoD,EAAOwV,OAAOxV,EAAO7E,YAAYuB,GAAO,EAAGzM,GAGzCyM,EAAKzM,OACPyM,EAAKzM,KAAK0O,KAAO1O,GAGlBA,EAAKwO,OAASA,EACdxO,EAAKA,KAAOyM,EAAKzM,KACjBA,EAAK0O,KAAOjC,EACZA,EAAKzM,KAAOA,KCzETwM,GAAQ/B,GAA0B+B,SAErB,CAChBwhB,OAQD,SAAgBlxB,EAAM+P,EAAS4C,EAAS/Y,GACnCsD,MAAMuF,QAAQsN,KAAUA,EAAU,CAACA,IAEnB,iBAAVnW,GAAuB2hB,SAAS3hB,KACzCA,EAAQyb,EAAAA,UAEF8b,GAAKnxB,EAAM+P,GAAqB,IAAZ4C,EAAmB/Y,IAb9Cu3B,KAAMA,GACNC,aAoCD,SAAsBpxB,EAAMqxB,OACvB,IAAI3hC,EAAI,EAAGiT,EAAI0uB,EAAMv2B,OAAQpL,EAAIiT,EAAGjT,OACpCsQ,EAAKqxB,EAAM3hC,IAAK,OAAO2hC,EAAM3hC,UAG1B,MAxCP4hC,QA2CD,SAASA,EAAQtxB,EAAMqxB,WAClB1hB,EAAO,KAEHjgB,EAAI,EAAGiT,EAAI0uB,EAAMv2B,OAAQpL,EAAIiT,IAAMgN,EAAMjgB,IAC5CggB,GAAM2hB,EAAM3hC,MAENsQ,EAAKqxB,EAAM3hC,IACpBigB,EAAO0hB,EAAM3hC,GACJ2hC,EAAM3hC,GAAGmgB,SAAS/U,OAAS,IACpC6U,EAAO2hB,EAAQtxB,EAAMqxB,EAAM3hC,GAAGmgB,mBAIzBF,GAvDP4hB,UA0DD,SAASA,EAAUvxB,EAAMqxB,OACpB,IAAI3hC,EAAI,EAAGiT,EAAI0uB,EAAMv2B,OAAQpL,EAAIiT,EAAGjT,OAEtCggB,GAAM2hB,EAAM3hC,MACXsQ,EAAKqxB,EAAM3hC,KACV2hC,EAAM3hC,GAAGmgB,SAAS/U,OAAS,GAC3By2B,EAAUvxB,EAAMqxB,EAAM3hC,GAAGmgB,kBAIpB,SAIF,GAvEP2hB,QA0ED,SAASA,EAAQxxB,EAAMqxB,WAClBI,EAAS,GACL/hC,EAAI,EAAGwD,EAAIm+B,EAAMv2B,OAAQpL,EAAIwD,EAAGxD,IACnCggB,GAAM2hB,EAAM3hC,MACbsQ,EAAKqxB,EAAM3hC,KAAK+hC,EAAOr0B,KAAKi0B,EAAM3hC,IAElC2hC,EAAM3hC,GAAGmgB,SAAS/U,OAAS,IAC7B22B,EAASA,EAAOh1B,OAAO+0B,EAAQxxB,EAAMqxB,EAAM3hC,GAAGmgB,oBAGzC4hB,IAxER,SAASN,GAAKnxB,EAAMqxB,EAAO1e,EAAS/Y,WAClBqZ,EAAbwe,EAAS,GAEL/hC,EAAI,EAAGwD,EAAIm+B,EAAMv2B,OAAQpL,EAAIwD,KACjC8M,EAAKqxB,EAAM3hC,MACb+hC,EAAOr0B,KAAKi0B,EAAM3hC,MACbkK,GAAS,MAGfqZ,EAASoe,EAAM3hC,GAAGmgB,WACf8C,GAAWM,GAAUA,EAAOnY,OAAS,IACvCmY,EAASke,GAAKnxB,EAAMiT,EAAQN,EAAS/Y,GACrC63B,EAASA,EAAOh1B,OAAOwW,IACvBrZ,GAASqZ,EAAOnY,SACJ,KAX0BpL,YAejC+hC,0BCrCR,IAAI/hB,EAAQ0b,QAAgBrZ,GAAYrC,MAExC0b,cAAsB,SAASn3B,EAAS8b,OACnC,IAAIlN,KAAO5O,KACVA,EAAQuF,eAAeqJ,IACtB,GAAW,aAARA,OACH6M,EAAMK,KAAa9b,EAAQy9B,SAAS3hB,EAAQtU,aACxC,OAEF,GAAW,aAARoH,OACL5O,EAAQ09B,SAAS5hB,EAAQnJ,MAAO,OAAO,OACrC,GAAW,iBAAR/D,MACN6M,EAAMK,KAAa9b,EAAQ29B,aAAa7hB,EAAQzU,aAC3C,OAEF,IAAIyU,EAAQ+B,UAAY7d,EAAQ4O,GAAKkN,EAAQ+B,QAAQjP,WACpD,cAGF,GAGR,IAAIgvB,EAAS,CACZH,SAAU,SAASj2B,SACC,mBAATA,EACF,SAASkU,UAAcD,EAAMC,IAASlU,EAAKkU,EAAKlU,OACrC,MAATA,EACFiU,EAEA,SAASC,UAAcD,EAAMC,IAASA,EAAKlU,OAASA,IAG7Dk2B,SAAU,SAAS/qB,SACC,mBAATA,EACF,SAAS+I,UAAc/I,EAAK+I,EAAK/I,OAEjC,SAAS+I,UAAcA,EAAK/I,OAASA,IAG9CgrB,aAAc,SAASt2B,SACH,mBAATA,EACF,SAASqU,UAAeD,EAAMC,IAASrU,EAAKqU,EAAKrU,OAEjD,SAASqU,UAAeD,EAAMC,IAASA,EAAKrU,OAASA,KAK/D,SAASw2B,EAAeC,EAAQr2B,SACX,mBAAVA,EACF,SAASiU,UAAcA,EAAKmC,SAAWpW,EAAMiU,EAAKmC,QAAQigB,KAE1D,SAASpiB,UAAcA,EAAKmC,SAAWnC,EAAKmC,QAAQigB,KAAYr2B,GAIzE,SAASs2B,EAAapX,EAAGxD,UACjB,SAASzH,UACRiL,EAAEjL,IAASyH,EAAEzH,IAItByb,cAAsB,SAASn3B,EAAS8b,EAAS4C,EAAS/Y,OACrDq4B,EAAQz0B,OAAOiE,KAAKxN,GAASoF,KAAI,SAASwJ,OACzCnH,EAAQzH,EAAQ4O,UACbA,KAAOgvB,EAASA,EAAOhvB,GAAKnH,GAASo2B,EAAejvB,EAAKnH,aAGzC,IAAjBu2B,EAAMn3B,OAAe,GAAK3F,KAAK+7B,OACrCe,EAAMhvB,OAAO+uB,GACbjiB,EAAS4C,EAAS/Y,IAIpBwxB,iBAAyB,SAAS1X,EAAI3D,EAAS4C,UAC1CzV,MAAMuF,QAAQsN,KAAUA,EAAU,CAACA,IAChC5a,KAAKm8B,QAAQQ,EAAe,KAAMpe,GAAK3D,GAAqB,IAAZ4C,IAGxDyY,uBAA+B,SAAS3vB,EAAMsU,EAAS4C,EAAS/Y,UACxDzE,KAAK+7B,OAAOW,EAAOH,SAASj2B,GAAOsU,EAAS4C,EAAS/Y,IAG7DwxB,uBAA+B,SAASxkB,EAAMmJ,EAAS4C,EAAS/Y,UACxDzE,KAAK+7B,OAAOW,EAAOF,SAAS/qB,GAAOmJ,EAAS4C,EAAS/Y,mICnFrC,SAASs4B,WACRC,EAAMC,EAAU1zB,EAApCoD,EAAMowB,EAAMp3B,SAIPgH,GAAO,GAAG,KAClBqwB,EAAOC,EAAWF,EAAMpwB,GAGxBowB,EAAMpwB,GAAO,KACbpD,GAAU,EAEH0zB,GAAU,IACZF,EAAMhwB,QAAQkwB,IAAa,EAAG,CACjC1zB,GAAU,EACVwzB,EAAMzJ,OAAO3mB,EAAK,SAGnBswB,EAAWA,EAAS1gB,OAIjBhT,IACHwzB,EAAMpwB,GAAOqwB,UAIRD,uBC7BR,IAAI/f,EAAWlD,EAAOmc,QAEtB,CACCzd,GACAA,GACAA,GACAA,GACAA,GACAA,IACC/L,SAAQ,SAASka,GAClBte,OAAOiE,KAAKqa,GAAKla,SAAQ,SAASiB,GACjCsP,EAAStP,GAAOiZ,EAAIjZ,GAAKimB,KAAK3W,eCVrB,kBACF,MAEG,kBACH,GCJLw5B,GAAYC,GACZC,GAAYD,MAEC,SAAkBE,UAC3BC,GAAQrC,GAAMoC,QAIGC,GAKrBC,GAAgB,0CAKpB,SAAStC,GAAMoC,MAGC,UAFfA,EAAUA,EAAQj5B,OAAOjf,qBAGjB,CAAC,EAAG,GACL,GAAe,QAAZk4C,QACF,CAAC,EAAG,OAQPlxB,EANAxgB,EAAS0xC,EAAQhpC,MAAMkpC,QAEvB5xC,QACG,IAAI6xC,YAAY,kCAAoCH,EAAU,aAKlE1xC,EAAO,IACTwgB,EAAIvgB,SAASD,EAAO,GAAI,OAESwgB,EAAL,MAAxBxgB,EAAO,GAAGW,OAAO,IAAiB,EAC5B,GAEJ6f,EAAI,EAEJ,CACNA,EACAxgB,EAAO,GAAKC,UAAUD,EAAO,IAAM,IAAMA,EAAO,GAAI,IAAM,GAS7D,SAAS2xC,GAAQ3xC,OACZwgB,EAAIxgB,EAAO,GACXgd,EAAIhd,EAAO,GAAK,KAIjBgd,EAAI,GAAKwD,GAAK,EAAG,OAAOixB,OAGlB,IAANjxB,EAAS,OAAO,SAASzM,UAAaA,GAAOiJ,MACvC,IAANwD,EAAS,OAAO,SAASzM,UAAaA,IAAQiJ,MAExC,IAANwD,EAAS,OAAOxD,EAAI,EAAIu0B,GAAW,SAASx9B,UAAaA,GAAOiJ,OAG/D80B,EAAO90B,EAAIwD,SACZsxB,EAAO,IAAGA,GAAQtxB,GAElBA,EAAI,EACC,SAASzM,UACRA,GAAOiJ,GAAKjJ,EAAMyM,IAAMsxB,IAIjCtxB,IAAM,EAEC,SAASzM,UACRA,GAAOiJ,GAAKjJ,EAAMyM,IAAMsxB,aAzEVxC,iBCRvB,IACIyC,GAAYh6B,GAASg6B,UACrBC,GAAoBj6B,GAASi6B,kBAC7BP,GAAYl+B,GAGZ0+B,GAAU,2BAMVC,GAAiB,CACpBhhC,UAAW,KACX2P,OAAQ,SAASrJ,EAAMtW,OAClBG,EAAQH,EAAKG,KACbC,EAAQJ,EAAKI,aAEdJ,EAAKixC,YACP7wC,EAAQA,EAAM9H,cAEP,SAAkB+b,OACpBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgBA,EAAKl2C,gBAAkB8H,GAASkW,EAAKjC,KAIvD,SAAgBA,UACfy8B,GAAkBz8B,EAAMlU,KAAUC,GAASkW,EAAKjC,KAGzD68B,OAAQ,SAAS56B,EAAMtW,OAClBG,EAAQH,EAAKG,KACbC,EAAQJ,EAAKI,MACbkB,EAAMlB,EAAMZ,cAEbQ,EAAKixC,YACP7wC,EAAQA,EAAM9H,cAEP,SAAkB+b,OACpBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,IACJA,EAAKhvC,SAAW8B,GAA4B,MAArBktC,EAAK/uC,OAAO6B,KACpCktC,EAAKjwC,OAAO,EAAG+C,GAAKhJ,gBAAkB8H,GACtCkW,EAAKjC,KAIF,SAAgBA,OAClBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GACLA,EAAKjwC,OAAO,EAAG+C,KAASlB,IACvBouC,EAAKhvC,SAAW8B,GAA4B,MAArBktC,EAAK/uC,OAAO6B,KACpCgV,EAAKjC,KAGTI,QAAS,SAAS6B,EAAMtW,OACnBG,EAAOH,EAAKG,KACZC,EAAQJ,EAAKI,SAEd,KAAKsE,KAAKtE,UACLmwC,OAKJY,EAAU,aAFd/wC,EAAQA,EAAMgD,QAAQ2tC,GAAS,SAEK,YAChCK,EAAQpxC,EAAKixC,WAAa,IAAM,GAChCI,EAAQ,IAAI5sC,OAAO0sC,EAASC,UAEzB,SAAiB/8B,OACnBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgB6C,EAAM3sC,KAAK8pC,IAASl4B,EAAKjC,KAGlDi9B,OAAQ,SAASh7B,EAAMtW,OAClBG,EAAOH,EAAKG,YACT,SAAgBkU,UACfw8B,GAAUx8B,EAAMlU,IAASmW,EAAKjC,KAGvChW,MAAO,SAASiY,EAAMtW,OACjBG,EAAQH,EAAKG,KACbC,EAAQJ,EAAKI,MACbkB,EAAMlB,EAAMZ,cAEL,IAAR8B,EACKivC,GAGLvwC,EAAKixC,YACP7wC,EAAQA,EAAM9H,cAEP,SAAiB+b,OACnBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgBA,EAAKjwC,OAAO,EAAG+C,GAAKhJ,gBAAkB8H,GAASkW,EAAKjC,KAItE,SAAeA,OACjBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgBA,EAAKjwC,OAAO,EAAG+C,KAASlB,GAASkW,EAAKjC,KAG/DxU,IAAK,SAASyW,EAAMtW,OACfG,EAAQH,EAAKG,KACbC,EAAQJ,EAAKI,MACbkB,GAASlB,EAAMZ,cAER,IAAR8B,EACKivC,GAGLvwC,EAAKixC,YACP7wC,EAAQA,EAAM9H,cAEP,SAAe+b,OACjBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgBA,EAAKjwC,OAAO+C,GAAKhJ,gBAAkB8H,GAASkW,EAAKjC,KAInE,SAAaA,OACfm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgBA,EAAKjwC,OAAO+C,KAASlB,GAASkW,EAAKjC,KAG5D83B,IAAK,SAAS71B,EAAMtW,OACfG,EAAQH,EAAKG,KACbC,EAAQJ,EAAKI,SAEJ,KAAVA,SACKmwC,MAGLvwC,EAAKixC,WAAW,KACdI,EAAQ,IAAI5sC,OAAOrE,EAAMgD,QAAQ2tC,GAAS,QAAS,YAEhD,SAAe18B,OACjBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgB6C,EAAM3sC,KAAK8pC,IAASl4B,EAAKjC,WAI3C,SAAaA,OACfm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgBA,EAAK5nC,QAAQxG,IAAU,GAAKkW,EAAKjC,KAG1Dk9B,IAAK,SAASj7B,EAAMtW,OACfG,EAAQH,EAAKG,KACbC,EAAQJ,EAAKI,YAEJ,KAAVA,EACK,SAAkBiU,WACfy8B,GAAkBz8B,EAAMlU,IAASmW,EAAKjC,IAEvCrU,EAAKixC,YACd7wC,EAAQA,EAAM9H,cAEP,SAAe+b,OACjBm6B,EAAOsC,GAAkBz8B,EAAMlU,UACpB,MAARquC,GAAgBA,EAAKl2C,gBAAkB8H,GAASkW,EAAKjC,KAIvD,SAAaA,UACZy8B,GAAkBz8B,EAAMlU,KAAUC,GAASkW,EAAKjC,SAKzC,CAChBo8B,QAAS,SAASn6B,EAAMtW,UAChBgxC,GAAehxC,EAAKwxC,QAAQl7B,EAAMtW,IAE1CyxC,MAAOT,IClKJ58B,GAAcyC,GAASzC,MACvBkD,GAAcT,GAASS,QACvBie,GAAc1e,GAAS0e,UACvBD,GAAcze,GAASye,YACvBoc,GAAc76B,GAAS66B,YACvBb,GAAch6B,GAASg6B,UACvBc,GAAc96B,GAAS86B,QACvBC,GAAc/6B,GAASi6B,kBAEvBe,GAAcx/B,GAA2Bo/B,MAAM9xB,OAE/C0wB,GAAcC,GACdC,GAAcD,GASlB,SAASwB,GAAc3xC,EAAMC,OACxBJ,EAAO,CAACG,KAAMA,EAAMC,MAAOA,UACxB,SAAoBkW,UACnBu7B,GAAYv7B,EAAMtW,IAI3B,SAAS+xC,GAAaz7B,UACd,SAASjC,WACNkhB,GAAUlhB,IAASiC,EAAKjC,IAInC,IAAI29B,GAAU,CACbhO,SAAU,SAAS1tB,EAAMrB,SAEH,MAAnBA,EAAKxV,OAAO,IAAkC,MAAnBwV,EAAKxV,OAAO,IACxCwV,EAAKxV,OAAO,KAAOwV,EAAK1W,QAAQ,KAEhC0W,EAAOA,EAAKsG,MAAM,GAAI,IAEhB,SAAkBlH,UACjBiD,GAAQjD,GAAMzN,QAAQqO,IAAS,GAAKqB,EAAKjC,mBAMnC,SAASiC,UAChB,SAAoBjC,UAnC7B,SAAyB0hB,OACpB,IAAI3hC,EAAI,EAAG2hC,GAAS3hC,EAAI2hC,EAAMv2B,OAAQpL,OACtCggB,GAAM2hB,EAAM3hC,IAAK,OAAO2hC,EAAM3hC,GAkCzB69C,CAAgBP,GAAYr9B,MAAWA,GAAQiC,EAAKjC,kBAG/C,SAASiC,UACf,SAAmBjC,WACrBgC,EAAWq7B,GAAYr9B,GAEnBjgB,EAAIiiB,EAAS7W,OAAS,EAAGpL,GAAK,EAAGA,IAAI,IACzCiiB,EAASjiB,KAAOigB,EAAM,OAAOiC,EAAKjC,MAClCD,GAAMiC,EAASjiB,IAAK,aAGjB,oBAGQ,SAASkiB,UAClB,SAAqBjC,WACvBgC,EAAWq7B,GAAYr9B,GAEnBjgB,EAAI,EAAGA,EAAIiiB,EAAS7W,OAAQpL,OAChCggB,GAAMiC,EAASjiB,IAAI,IAClBiiB,EAASjiB,KAAOigB,EAAM,OAAOiC,EAAKjC,MAClCs9B,GAAQt7B,EAASjiB,MAAQu9C,GAAQt9B,GAAO,aAItC,mBAGO,SAASiC,UACjB,SAAoBjC,WACtBgC,EAAWq7B,GAAYr9B,GAEnBjgB,EAAIiiB,EAAS7W,OAAO,EAAGpL,GAAK,EAAGA,OACnCggB,GAAMiC,EAASjiB,IAAI,IAClBiiB,EAASjiB,KAAOigB,EAAM,OAAOiC,EAAKjC,MAClCs9B,GAAQt7B,EAASjiB,MAAQu9C,GAAQt9B,GAAO,aAItC,mBAGO,SAASiC,UACjB,SAAoBjC,WACtBgC,EAAWq7B,GAAYr9B,GAEnBjgB,EAAI,EAAGwD,EAAIye,EAAS7W,OAAQpL,EAAIwD,EAAGxD,OACvCggB,GAAMiC,EAASjiB,IAAI,IAClBiiB,EAASjiB,KAAOigB,EAAM,YACtBs9B,GAAQt7B,EAASjiB,MAAQu9C,GAAQt9B,GAAO,OAAO,SAI7CiC,EAAKjC,kBAGA,SAASiC,UACf,SAAmBjC,WACrBgC,EAAWq7B,GAAYr9B,GAEnBjgB,EAAI,EAAGA,EAAIiiB,EAAS7W,OAAQpL,OAChCggB,GAAMiC,EAASjiB,KAAOiiB,EAASjiB,KAAOigB,EAAM,OAAO,SAGhDiC,EAAKjC,iBAGD,SAASiC,EAAM47B,OACvBvgB,EAAOwgB,GAAUD,UAElBvgB,IAAS4e,GAAkB5e,EAC3BA,IAAS0e,GAAkB0B,GAAaz7B,GAEpC,SAAkBjC,WACpBgC,EAAWq7B,GAAYr9B,GAEnBjgB,EAAI,EAAGye,EAAM,EAAGze,EAAIiiB,EAAS7W,OAAQpL,OACzCggB,GAAMiC,EAASjiB,IAAI,IAClBiiB,EAASjiB,KAAOigB,EAAM,MACpBxB,WAIA8e,EAAK9e,IAAQyD,EAAKjC,sBAGT,SAASiC,EAAM47B,OAC5BvgB,EAAOwgB,GAAUD,UAElBvgB,IAAS4e,GAAkB5e,EAC3BA,IAAS0e,GAAkB0B,GAAaz7B,GAEpC,SAAsBjC,WACxBgC,EAAWq7B,GAAYr9B,GAEnBxB,EAAM,EAAGze,EAAIiiB,EAAS7W,OAAS,EAAGpL,GAAK,EAAGA,OAC9CggB,GAAMiC,EAASjiB,IAAI,IAClBiiB,EAASjiB,KAAOigB,EAAM,MACpBxB,WAIA8e,EAAK9e,IAAQyD,EAAKjC,mBAGZ,SAASiC,EAAM47B,OACzBvgB,EAAOwgB,GAAUD,UAElBvgB,IAAS4e,GAAkB5e,EAC3BA,IAAS0e,GAAkB0B,GAAaz7B,GAEpC,SAAmBjC,WACrBgC,EAAWq7B,GAAYr9B,GAEnBxB,EAAM,EAAGze,EAAI,EAAGA,EAAIiiB,EAAS7W,OAAQpL,OACzCggB,GAAMiC,EAASjiB,IAAI,IAClBiiB,EAASjiB,KAAOigB,EAAM,MACtBs9B,GAAQt7B,EAASjiB,MAAQu9C,GAAQt9B,IAAOxB,WAItC8e,EAAK9e,IAAQyD,EAAKjC,wBAGP,SAASiC,EAAM47B,OAC9BvgB,EAAOwgB,GAAUD,UAElBvgB,IAAS4e,GAAkB5e,EAC3BA,IAAS0e,GAAkB0B,GAAaz7B,GAEpC,SAAuBjC,WACzBgC,EAAWq7B,GAAYr9B,GAEnBxB,EAAM,EAAGze,EAAIiiB,EAAS7W,OAAS,EAAGpL,GAAK,GAC3CiiB,EAASjiB,KAAOigB,EAD8BjgB,IAE9Cu9C,GAAQt7B,EAASjiB,MAAQu9C,GAAQt9B,IAAOxB,WAGrC8e,EAAK9e,IAAQyD,EAAKjC,KAK3B+9B,SAAUN,GAAc,OAAQ,YAChCO,KAAMP,GAAc,OAAQ,QAC5BQ,SAAUR,GAAc,OAAQ,YAChCS,MAAOT,GAAc,OAAQ,SAC7B7xC,MAAO6xC,GAAc,OAAQ,SAC7BU,MAAOV,GAAc,OAAQ,SAC7BW,OAAQX,GAAc,OAAQ,WAI3BY,GAAU,CACb9Z,KAAM,SAASvkB,UACNkhB,GAAUlhB,IAEnBs+B,MAAO,SAASt+B,UACPihB,GAAYjhB,GAAMswB,MAAK,SAAStwB,UAChCD,GAAMC,IAAuB,SAAdA,EAAK/I,SAM7BwoB,SAAU,SAASzf,MACfw8B,GAAUx8B,EAAM,YAAa,OAAO,EAClC,GAAqB,WAAlBs9B,GAAQt9B,GAAoB,OAAO,MAGvC+B,EAASmf,GAAUlhB,OAEnB+B,GAA8B,WAApBu7B,GAAQv7B,GAAsB,OAAO,UAE/CC,EAAWif,GAAYlf,GAC1Bw8B,GAAW,EAEJx+C,EAAI,EAAGA,EAAIiiB,EAAS7W,OAAQpL,OAChCggB,GAAMiC,EAASjiB,OACdiiB,EAASjiB,KAAOigB,EAClBu+B,GAAU,MACJ,CAAA,IAAIA,SACH,EACD,GAAG/B,GAAUx6B,EAASjiB,GAAI,mBACzB,SAKHw+C,GAERzf,SAAU,SAAS9e,UACXw8B,GAAUx8B,EAAM,aAExBw+B,QAAS,SAASx+B,UACTw8B,GAAUx8B,EAAM,aAEzBqH,QAAS,SAASrH,UACVw8B,GAAUx8B,EAAM,YAAcq+B,GAAQ5e,SAASzf,IAMvD+B,OAAQ,SAAS/B,UACRq+B,GAAQC,MAAMt+B,IAEvBy+B,OAAQ,SAASz+B,OACZlU,EAAOwxC,GAAQt9B,SACH,OAATlU,GACS,OAATA,GACS,OAATA,GACS,OAATA,GACS,OAATA,GACS,OAATA,GAGR8O,OAAQ,SAASoF,OACZlU,EAAOwxC,GAAQt9B,SACH,WAATlU,GACS,UAATA,GAC+B,WAA/ByxC,GAAav9B,EAAM,SAE3BxF,MAAO,SAASwF,OACXlU,EAAOwxC,GAAQt9B,SACH,UAATlU,GACS,aAATA,GACS,WAATA,GACS,WAATA,GAER8U,KAAM,SAASZ,OACVm6B,QACqB,UAAlBmD,GAAQt9B,OACZm6B,EAAOoD,GAAav9B,EAAM,UACL,SAAvBm6B,EAAKl2C,iBAKR,SAASy6C,GAAWphB,EAAMxxB,EAAM6yC,MACd,OAAdA,MACCrhB,EAAKnyB,OAAS,QACV,IAAImxC,YAAY,oBAAsBxwC,EAAO,iCAGjC,IAAhBwxB,EAAKnyB,aACD,IAAImxC,YAAY,oBAAsBxwC,EAAO,+BAKtDwT,OAAiB,CAChB88B,QAAS,SAASn6B,EAAMtW,OACnBG,EAAOH,EAAKG,KACf6yC,EAAYhzC,EAAKA,QAEU,mBAAlBgyC,GAAQ7xC,UACjB4yC,GAAWf,GAAQ7xC,GAAOA,EAAO6yC,GAC1BhB,GAAQ7xC,GAAMmW,EAAM08B,GACrB,GAA4B,mBAAlBN,GAAQvyC,GAAqB,KACzCwxB,EAAO+gB,GAAQvyC,UACnB4yC,GAAWphB,EAAMxxB,EAAM6yC,GAChB,SAAoB3+B,UACnBsd,EAAKtd,EAAM2+B,IAAc18B,EAAKjC,UAGhC,IAAIs8B,YAAY,2BAA6BxwC,IAGrD6xC,QAASA,GACTU,QAASA,OC9QV,SAAexC,EAAUv3C,GACxBu3C,GAAYA,EAAW,IAAI+C,eAKvBjzC,EAAMkzC,EAAW/yC,EAHjBgzC,EAAa,GACbC,EAAS,GACTC,GAAQ,WAGH1B,QACJ3uB,EAAMktB,EAAS1oC,MAAM8rC,IAAS,UAClCpD,EAAWA,EAAS3xC,OAAOykB,EAAIxjB,QACxB+zC,GAAYvwB,QAGD,KAAbktB,MACFoD,GAAQ5uC,KAAKwrC,GACZmD,IACFD,EAAOtxC,KAAK,CAACwJ,KAAM,eACnB+nC,GAAQ,GAGTlzC,EAAOwxC,IAEHh5C,IAAY,kBAAmBA,GAAUA,EAAQsZ,cAAiBtZ,EAAQU,WAC7E8G,EAAOA,EAAK7H,eAGb86C,EAAOtxC,KAAK,CAACwJ,KAAM,MAAOnL,KAAMA,SAC1B,GAAGqzC,GAAM9uC,KAAKwrC,GACpBmD,GAAQ,EACRnD,EAAWA,EAAS+C,eACd,IACNC,EAAYhD,EAASzwC,OAAO,GAC5BywC,EAAWA,EAAS3xC,OAAO,GAExB20C,KAAaO,GAAgB,CAC/BL,EAAOtxC,KAAK,CAACwJ,KAAMmoC,GAAgBP,KACnChD,EAAWA,EAAS+C,WACpBI,GAAQ,WAEF,GAAiB,MAAdH,EAAkB,IACN,IAAlBE,EAAO5zC,aACH,IAAImxC,YAAY,sBAEvBwC,EAAWrxC,KAAKsxC,GAChBA,EAAS,GAETlD,EAAWA,EAAS+C,WACpBI,GAAQ,cAECA,IACTD,EAAOtxC,KAAK,CAACwJ,KAAM,eACnB+nC,GAAQ,GAGQ,MAAdH,EACFE,EAAOtxC,KAAK,CAACwJ,KAAM,mBACb,GAAG4nC,KAAaQ,GACtBN,EAAOtxC,KAAK,CACXwJ,KAAM,YACNnL,KAAMuzC,GAAgBR,GAAW,GACjC1B,OAAQkC,GAAgBR,GAAW,GACnC9yC,MAAOuxC,IACPV,YAAY,SAEP,GAAiB,MAAdiC,EAAkB,MAC3BlzC,EAAOkwC,EAAS1oC,MAAMmsC,WAEf,IAAIhD,YAAY,iCAAmCT,GAE1DA,EAAWA,EAAS3xC,OAAOyB,EAAK,GAAGR,QACnCW,EAAOozC,GAAYvzC,EAAK,IAGtBrH,IACA,4BAA6BA,GAC5BA,EAAQwZ,wBACPxZ,EAAQU,WAGX8G,EAAOA,EAAK7H,eAGb86C,EAAOtxC,KAAK,CACXwJ,KAAM,YACNnL,KAAMA,EACNqxC,OAAQoC,GAAY5zC,EAAK,IACzBI,MAAOmzC,GAAYvzC,EAAK,IAAMA,EAAK,IAAM,IACzCixC,aAAcjxC,EAAK,SAGd,CAAA,GAAiB,MAAdkzC,QAcH,IAAIvC,YAAY,uBAAyBuC,EAAYhD,MAZ3D/vC,EAAOwxC,IAAUr5C,cACjB0H,EAAO,KAEmB,MAAvBkwC,EAASzwC,OAAO,GAAW,KACzBoT,EAAMghC,GAAc3D,GACxBlwC,EAAOkwC,EAAS3xC,OAAO,EAAGsU,EAAM,GAChCq9B,EAAWA,EAAS3xC,OAAOsU,GAG5BugC,EAAOtxC,KAAK,CAACwJ,KAAM,SAAUnL,KAAMA,EAAMH,KAAMA,QAQ/CmzC,EAAW3zC,OAAS,GAAuB,IAAlB4zC,EAAO5zC,aAC5B,IAAImxC,YAAY,6BAEvBwC,EAAWrxC,KAAKsxC,GACTD,GAhLJK,GAAQ,MACRF,GAAU,gCACVQ,GAAY,+BAEZH,GAAU,kHAEVC,GAAc,CACjB5jC,UAAW,eACE,YACR,aACA,cACA,UACA,UACA,UACA,UACA,UAGFyjC,GAAkB,CACrBzjC,UAAW,SACN,YACA,aACA,cACA,YAGF0jC,GAAkB,CACrB1jC,UAAW,SACN,CAAC,KAAM,cACP,CAAC,QAAS,YAIhB,SAAS+jC,GAAWtwC,EAAGuwC,EAASC,OAC3BlP,EAAO,KAAOiP,EAAU,aAIrBjP,GAASA,GAAQkP,EACvBD,EAEAjP,EAAO,EACNhxC,OAAOC,aAAc+wC,EAAO,OAE5BhxC,OAAOC,aAAc+wC,GAAQ,GAAK,MAAe,KAAPA,EAAe,OAG5D,SAASwO,GAAYpwC,UACbA,EAAIC,QAAQ0wC,GAAWC,IAG/B,SAASF,GAAc3D,WAClBr9B,EAAM,EAAGqhC,EAAU,EAAG5yC,EAAM4uC,EAAS1wC,OAEnC00C,EAAU,GAAKrhC,EAAMvR,EAAKuR,IACH,MAAzBq9B,EAASzwC,OAAOoT,GAAcqhC,IACA,MAAzBhE,EAASzwC,OAAOoT,IAAcqhC,WAGhCrhC,EC/DR,IACIuB,GAAcyC,GAASzC,MACvBmhB,GAAc1e,GAAS0e,UACvBD,GAAcze,GAASye,YACvBoc,GAAc76B,GAAS66B,YACvBC,GAAc96B,GAAS86B,WAKV,CAChB3hC,UAAW,KAEXioB,UAAW5lB,GAA2Bo+B,QACtC0D,OAAQ9hC,GAAwBo+B,QAGhC1b,IAAK,SAASze,EAAMtW,OACfG,EAAOH,EAAKG,YACT,SAAakU,UACZs9B,GAAQt9B,KAAUlU,GAAQmW,EAAKjC,KAKxC+/B,WAAY,SAAS99B,UACb,SAAoBjC,WACtBgJ,GAAQ,GAELA,IAAUhJ,EAAOkhB,GAAUlhB,KACjCgJ,EAAQ/G,EAAKjC,UAGPgJ,IAGTjH,OAAQ,SAASE,UACT,SAAgBjC,UACfihB,GAAYjhB,GAAMswB,KAAKruB,KAGhCmf,MAAO,SAASnf,UACR,SAAejC,OACjB+B,EAASmf,GAAUlhB,WACd+B,GAAUE,EAAKF,KAG1Bsf,QAAS,SAASpf,UACV,SAAiBjC,WACnBgC,EAAWq7B,GAAYr9B,GAEnBjgB,EAAI,EAAGA,EAAIiiB,EAAS7W,OAAQpL,OAChCggB,GAAMiC,EAASjiB,IAAI,IAClBiiB,EAASjiB,KAAOigB,EAAM,SACtBiC,EAAKD,EAASjiB,IAAK,OAAO,SAIxB,IAGTigD,SAAU,SAAS/9B,UACX,SAAkBjC,WAEpBigC,EADAj+B,EAAWq7B,GAAYr9B,GAGnBjgB,EAAI,EAAGA,EAAIiiB,EAAS7W,OAAQpL,OAChCggB,GAAMiC,EAASjiB,IAAI,IAClBiiB,EAASjiB,KAAOigB,EAAM,MACzBigC,EAAcj+B,EAASjiB,WAIhBkgD,GAAeh+B,EAAKg+B,KAG/BC,UAAW,SAASj+B,UACZA,OCxCT,SAAyBzJ,OACpB,IAAIzY,EAAI,EAAGA,EAAIyY,EAAIrN,OAAQpL,IAAI,KAC9BogD,EAAUC,GAAU5nC,EAAIzY,GAAGkX,WAE5BkpC,EAAU,OAET,IAAI58C,EAAIxD,EAAI,EAAGwD,GAAK,MAEtB48C,EAAUC,GAAU5nC,EAAIjV,GAAG0T,SArCf,IAsCXkpC,GAtCW,IAuCXC,GAAU5nC,EAAIjV,GAAG0T,OACjB0pB,GAAWnoB,EAAIzY,GAAGo9C,SAAWxc,GAAWnoB,EAAIjV,GAAG45C,UALvB55C,IAAI,KAS1B6f,EAAM5K,EAAIjV,EAAI,GAClBiV,EAAIjV,EAAI,GAAKiV,EAAIjV,GACjBiV,EAAIjV,GAAK6f,UAGJ5K,GA/CJ4nC,GAAY,CACfzkC,UAAW,KACXukC,UAAW,EACXxf,IAAK,EACLkD,UANe,EAOfkc,OAAQ,EAGRC,YAAa,EACb3e,OAAQ,EACRrf,QAAS,EACTsf,SAAU,EACV2e,UAAW,GAGRrf,GAAa,CAChBhlB,UAAW,KACXshC,OAAQ,EACR3xB,OAAQ,EACR4xB,IAAK,EACLlzC,MAAO,EACPwB,IAAK,EACLssC,IAAK,EACL+E,OAAQ,EACRz8B,QAAS,GC9BVd,OAAiB88B,MACciE,GAI3BtgC,GAAcyC,GAASzC,MAIvBi8B,GAAcC,GACdC,GAAcD,GAElB,SAASG,GAAQP,EAAUv3C,OACtB2d,EAAOo+B,GAAcxE,EAAUv3C,UAE5B,SAAc0b,UACbD,GAAMC,IAASiC,EAAKjC,IAI7B,SAASqgC,GAAcxE,EAAUv3C,UACzBy1C,GAAM8B,EAAUv3C,GACrBoF,IAAI42C,IACJhtC,OAAOitC,GAAarE,IAGvB,SAASoE,GAAa9nC,UACH,IAAfA,EAAIrN,OAAqB+wC,GACrBsE,GAAUhoC,GAAKlF,QAAO,SAASgqB,EAAMugB,UACxCvgB,IAAS4e,GAAkB5e,EACvBmjB,GAAM5C,EAAK5mC,MAAMqmB,EAAMugB,KAC5B7B,IAGJ,SAASuE,GAAYt1B,EAAGxD,UACpBA,IAAMy0B,IAAajxB,IAAM+wB,GACpB/wB,EAELA,IAAMixB,IAAaz0B,IAAMu0B,GACpBv0B,EAGD,SAAiBzH,UAChBiL,EAAEjL,IAASyH,EAAEzH,IAQtB,IACI29B,GAAc+C,GAAQ/C,QACtBgD,GAAcD,GAAQrC,QAAQt8B,OAC9B6f,GAAcpf,GAASof,UACvBX,GAAcze,GAASye,YAE3B0c,GAAQT,IAAM,SAASj7B,EAAMtH,OACxB2iB,EAAO+iB,GAAc1lC,UAEtB2iB,IAAS4e,GAAkBj6B,EAC3Bqb,IAAS0e,GAAkBE,GAEvB,SAASl8B,UACPsd,EAAKtd,IAASiC,EAAKjC,KAI7B29B,GAAQzH,IAAM,SAASj0B,EAAM45B,OACxBve,EAAO8e,GAAQP,UAEhBve,IAAS4e,GAAkBA,GAC3B5e,IAAS0e,GAAkB,SAASh8B,UAC9B2gC,GAAS3gC,IAASiC,EAAKjC,IAGzB,SAAaA,UACZiC,EAAKjC,IAAS4hB,GAAUtE,EAAM2D,GAAYjhB,0BC/EnDV,OAAiBshC,GAIbjf,GAAgBnf,GAASmf,QACzBE,GAAgBrf,GAASqf,QACzBZ,GAAgBze,GAASye,YACzB4f,GAAgBr+B,GAASq+B,cACzB3E,GAAgBl+B,GAEhBqiC,GAAgBjE,GAAQiE,cAE5B,SAASS,GAAgBC,UACjB,SAAgBC,EAAOtf,EAAOp9B,SAChB,mBAAV08C,IAAsBA,EAAQX,GAAcW,EAAO18C,IAExDo9B,EADDn0B,MAAMuF,QAAQ4uB,GACLmf,GAAcnf,GADOT,GAAYS,GAEvCqf,EAAWC,EAAOtf,IAI3B,IAAIuf,GAAYH,IAAgB,SAAmBE,EAAOtf,UACjDsf,IAAU9E,IAAcxa,GAA0B,IAAjBA,EAAMv2B,OAAqB02B,GAAQmf,EAAOtf,GAApB,MAG5Dwf,GAAYJ,IAAgB,SAAmBE,EAAOtf,UACjDsf,IAAU9E,IAAcxa,GAA0B,IAAjBA,EAAMv2B,OAAuBw2B,GAAQqf,EAAOtf,GAAtB,QAUhE,SAASkf,GAAUI,EAAOtf,EAAOp9B,UACzB28C,GAAUD,EAAOtf,EAAOp9B,GAGhCs8C,GAAUxE,QAAUA,GACpBwE,GAAUjD,QAAU+C,GAAQ/C,QAC5BiD,GAAUvC,QAAUqC,GAAQrC,QAE5BuC,GAAUK,UAAYA,GACtBL,GAAUM,UAAYA,GAEtBN,GAAUO,GAlBV,SAAYnhC,EAAMghC,EAAO18C,UACC,mBAAV08C,EAAuBA,EAAQ5E,GAAQ4E,EAAO18C,IAAU0b,IAoBxE4gC,GAAU7G,MAAQqC,GAClBwE,GAAUQ,QAAUH,2BCrDpB,IAGIvI,EAAUD,GACV4I,EAAarjC,GAAuBwE,SAAS6+B,WAC7CthC,EAAQ04B,GAiRRlX,GA/QO9F,OAAe,SAASogB,OAC7Bna,EAAQtyB,GAAEkE,OAAO9N,MAAM,SAAS87C,EAAMthC,UACjCshC,EAAKx0C,OAAOsC,GAAEmyB,OAAOvhB,EAAKE,SAAUH,MAC1C,WAEIva,KAAKg1C,MAAM7/B,GAAOkhC,EAAUna,EAAOl8B,KAAKlB,WAKpCm3B,SAAiB,SAASogB,OACjC3rC,EAAM,UAGVwoC,EAAQlzC,MAAM,SAAS2M,EAAK6N,OACtBuhC,EAAavhC,EAAK+B,OAClBw/B,GAAcrxC,EAAIqC,QAAQgvC,GAAc,GAC1CrxC,EAAIzC,KAAK8zC,MAIT/zC,UAAUrC,SACZ+E,EAAMqxB,EAAO11B,KAAKqE,EAAK2rC,EAAUr2C,OAG5BA,KAAKg1C,MAAMtqC,IAGNurB,UAAkB,SAASogB,OACnC2F,EAAc,eAKb5tC,MAAM6tC,UAAUxvC,SAAQ,SAAS+N,GACpC0hC,EAAgBl8C,KAAMwa,EAAK+B,OAAQ85B,EAAUn2B,EAAAA,GAC1CzT,SAAQ,SAASuwB,IACmB,IAA/Bgf,EAAYjvC,QAAQiwB,IACtBgf,EAAY/zC,KAAK+0B,QAItBh9B,MAEIA,KAAKg1C,MAAMgH,IAGD/lB,eAAuB,SAASogB,EAAUta,OACrCogB,EAAWC,EAA7BJ,EAAc,SAEM,iBAAb3F,EACT8F,EAAYhnC,GAAOkhC,EAAUr2C,KAAK+0C,UAAU1F,UAAWrvC,KAAKlB,SAAS,GAC5Du3C,GAAYA,EAASzb,QAC9BwhB,EAAa/F,EAAShH,UACbgH,IACT8F,EAAY9F,QAOThH,UAAU4M,UAAUxvC,SAAQ,SAAS+N,SAChCA,EAAOA,EAAK+B,UACb4/B,GAAa3hC,IAAS2hC,GACxBC,IAA4C,IAA9BA,EAAWrvC,QAAQyN,KAChC2hC,IAAcC,IACZ7hC,EAAMC,KAAwC,IAA/BwhC,EAAYjvC,QAAQyN,IAAgBwhC,EAAY/zC,KAAKuS,KAK3Exa,MAEIA,KAAKg1C,MAAMjZ,EAAS5mB,GAAO4mB,EAAQigB,EAAah8C,KAAKlB,SAAWk9C,IAM3D/lB,UAAkB,SAASogB,OACnC3rC,EAAM,UAEL2rC,GAILnD,EAAQlzC,KAAM,SAAS2M,EAAK6N,OACtB6hC,EAAcH,EAAgBl8C,KAAMwa,EAAM67B,EAAU,GAAG,GAGvDgG,GAAe3xC,EAAIqC,QAAQsvC,GAAe,GAC5C3xC,EAAIzC,KAAKo0C,IAEX1oB,KAAK3zB,OAEAA,KAAKg1C,MAAMtqC,IAZT1K,KAAKg1C,MAAMtqC,IAeXurB,OAAe,SAASogB,OAC5Br2C,KAAK,UAAaA,SACnBk8B,EAAQ,UAEZtyB,GAAE6C,QAAQzM,MAAM,SAASwa,QACfA,EAAOA,EAAKiC,SACdlC,EAAMC,eACR0hB,EAAMj0B,KAAKuS,MAMV67B,EAAWta,EAAO11B,KAAK61B,EAAOma,EAAUr2C,MAAQA,KAAKg1C,MAAM9Y,IAGtDjG,UAAkB,SAASogB,OAClCr2C,KAAK,UAAaA,SACnBk8B,EAAQ,UAEZtyB,GAAE6C,QAAQzM,MAAM,SAASwa,QACfA,EAAOA,EAAKiC,MACdlC,EAAMC,KAAkC,IAAzB0hB,EAAMnvB,QAAQyN,IAC/B0hB,EAAMj0B,KAAKuS,MAKV67B,EAAWta,EAAO11B,KAAK61B,EAAOma,EAAUr2C,MAAQA,KAAKg1C,MAAM9Y,IAGpDjG,YAAoB,SAASogB,EAAUiG,OAChDt8C,KAAK,UAAaA,SACPm8C,EAAWC,EAAvBlgB,EAAQ,SAEY,iBAAbma,EACT8F,EAAYhnC,GAAOkhC,EAAUr2C,KAAKu8C,UAAUnuC,MAAOpO,KAAKlB,SAAS,GACxDu3C,GAAYA,EAASzb,QAC9BwhB,EAAa/F,EAASjoC,MACbioC,IACT8F,EAAY9F,GAGdzsC,GAAE6C,QAAQzM,MAAM,SAASwa,SACfA,EAAOA,EAAKiC,QACb0/B,GAAa3hC,IAAS2hC,GACxBC,IAA4C,IAA9BA,EAAWrvC,QAAQyN,KAChC2hC,IAAcC,IACZ7hC,EAAMC,KAAkC,IAAzB0hB,EAAMnvB,QAAQyN,IAC/B0hB,EAAMj0B,KAAKuS,MAQZ8hC,EACLvgB,EAAO11B,KAAK61B,EAAOogB,EAAgBt8C,MACnCA,KAAKg1C,MAAM9Y,IAGJjG,OAAe,SAASogB,OAC5Br2C,KAAK,UAAaA,SACnBk8B,EAAQ,UAEZtyB,GAAE6C,QAAQzM,MAAM,SAASwa,QACfA,EAAOA,EAAKzM,SACdwM,EAAMC,eACR0hB,EAAMj0B,KAAKuS,MAMV67B,EAAWta,EAAO11B,KAAK61B,EAAOma,EAAUr2C,MAAQA,KAAKg1C,MAAM9Y,IAGtDjG,UAAkB,SAASogB,OAClCr2C,KAAK,UAAaA,SACnBk8B,EAAQ,UAEZtyB,GAAE6C,QAAQzM,MAAM,SAASwa,QACfA,EAAOA,EAAKzM,MACdwM,EAAMC,KAAkC,IAAzB0hB,EAAMnvB,QAAQyN,IAC/B0hB,EAAMj0B,KAAKuS,MAKV67B,EAAWta,EAAO11B,KAAK61B,EAAOma,EAAUr2C,MAAQA,KAAKg1C,MAAM9Y,IAGpDjG,YAAoB,SAASogB,EAAUiG,OAChDt8C,KAAK,UAAaA,SACPm8C,EAAWC,EAAvBlgB,EAAQ,SAEY,iBAAbma,EACT8F,EAAYhnC,GAAOkhC,EAAUr2C,KAAKw8C,UAAUpuC,MAAOpO,KAAKlB,SAAS,GACxDu3C,GAAYA,EAASzb,QAC9BwhB,EAAa/F,EAASjoC,MACbioC,IACT8F,EAAY9F,GAGdzsC,GAAE6C,QAAQzM,MAAM,SAASwa,SACfA,EAAOA,EAAKzM,QACbouC,GAAa3hC,IAAS2hC,GACxBC,IAA4C,IAA9BA,EAAWrvC,QAAQyN,KAChC2hC,IAAcC,IACZ7hC,EAAMC,KAAkC,IAAzB0hB,EAAMnvB,QAAQyN,IAC/B0hB,EAAMj0B,KAAKuS,MAQZ8hC,EACLvgB,EAAO11B,KAAK61B,EAAOogB,EAAgBt8C,MACnCA,KAAKg1C,MAAM9Y,IAGAjG,WAAmB,SAASogB,OACrC95B,EAASvc,KAAKuc,SAEd2f,EAAQtyB,GAAEmyB,OACZxf,EAASA,EAAO7B,WAAa1a,KAAKy8C,iBAClC,SAASjiC,UAAeD,EAAMC,KAAUxa,KAAK27C,GAAGnhC,KAChDxa,kBAGeuQ,IAAb8lC,EACKta,EAAO11B,KAAK61B,EAAOma,EAAUr2C,MAE7BA,KAAKg1C,MAAM9Y,IAIPjG,WAAmB,SAASogB,OAErCna,EAAQtyB,GAAEkE,OAAO9N,MAAM,SAAS87C,EAAMthC,UACjCshC,EAAKx0C,OAAOsC,GAAEmyB,OAAOvhB,EAAKE,SAAUH,MAC1C,gBAEchK,IAAb8lC,EAA+Br2C,KAAKg1C,MAAM9Y,GACjB,iBAAbma,EAA8Br2C,KAAKg1C,MAAM9Y,EAAMma,IAExDta,EAAO11B,KAAK61B,EAAOma,EAAUr2C,OAGvBi2B,WAAmB,kBACzBj2B,KAAKg1C,MAAMprC,GAAEkE,OAAO9N,MAAM,SAASqyC,EAAK73B,UAC7C63B,EAAIpqC,KAAKG,MAAMiqC,EAAK73B,EAAKE,UAClB23B,IACN,MAGMpc,OAAe,SAASjsB,WAC7BzP,EAAI,EAAGkN,EAAMzH,KAAK2F,OACfpL,EAAIkN,IAAwC,IAAjCuC,EAAG3D,KAAKrG,KAAKzF,GAAIA,EAAGyF,KAAKzF,OAAiBA,SACrDyF,MAGCi2B,MAAc,SAASjsB,UACxBhK,KAAKg1C,MAAMprC,GAAEkE,OAAO9N,MAAM,SAAS87C,EAAMljC,EAAIre,OAC9CmS,EAAM1C,EAAG3D,KAAKuS,EAAIre,EAAGqe,UACX,MAAPlM,EAAcovC,EAAOA,EAAKx0C,OAAOoF,KACvC,MAGQupB,SAAiB,SAAStoB,EAAO+uC,GAC5CA,EAAYA,GAAa18C,SAGrB28C,EADAC,EAAOhzC,GAAE+pB,KAAK+oB,EAAU1H,MAAO0H,UAIjCC,EADmB,iBAAVhvC,EACEwH,GAAOyhC,QAAQjpC,EAAO+uC,EAAU59C,SACjB,mBAAV6O,EACL,SAASiL,EAAIre,UACfoT,EAAMtH,KAAKuS,EAAIre,EAAGqe,IAElBjL,EAAMitB,QACJjtB,EAAMguC,GAAGhoB,KAAKhmB,GAEd,SAASiL,UACXjL,IAAUiL,GAIdgkC,EAAKhzC,GAAEmyB,OAAO/7B,KAAM28C,MAGjB1mB,QAAgB,kBACnBj2B,KAAK2F,OAAS,EAAI3F,KAAKg1C,MAAMh1C,KAAK,IAAMA,MAGtCi2B,OAAe,kBACjBj2B,KAAK2F,OAAS,EAAI3F,KAAKg1C,MAAMh1C,KAAKA,KAAK2F,OAAS,IAAM3F,MAItDi2B,KAAa,SAAS17B,UAInB,KAHVA,GAAKA,IAGUyF,KAAK2F,QAAU,EAAU3F,MAEpCzF,EAAI,IAAGA,EAAIyF,KAAK2F,OAASpL,GACtByF,KAAKzF,GAAKyF,KAAKg1C,MAAMh1C,KAAKzF,IAAMyF,KAAKg1C,MAAM,MAI1C/e,MAAc,SAAS17B,UACtB,MAALA,EACKwN,MAAMjI,UAAU4hB,MAAMrb,KAAKrG,MAE3BA,KAAKzF,EAAI,EAAKyF,KAAK2F,OAASpL,EAAKA,IAIhC07B,QAAgB,kBACnBj2B,KAAKg1C,MAAM,GAAGtzB,MAAMtZ,MAAMpI,KAAMgI,aAGzC,SAASk0C,EAAgBrrC,EAAM2J,EAAM67B,EAAU5xC,WACzCy3B,EAAQ,GACL1hB,GAAQ0hB,EAAMv2B,OAASlB,GACvB4xC,IAAYta,EAAO11B,KAAK,CAACmU,GAAO67B,EAAUxlC,GAAMlL,QACnDu2B,EAAMj0B,KAAKuS,GAEbA,EAAOA,EAAK+B,cAEP2f,EAKCjG,MAAc,kBACfj2B,KAAK68C,YAAc78C,KAAKg1C,MAAM,KAG7B/e,MAAc,SAASgM,EAAOruB,WAClCkpC,EAAY98C,KAAKg1C,MAAM/S,EAAOruB,GAC9BmpC,EAAWlB,EAAWiB,EAAU1uC,MAAM9G,OAAOtH,KAAKoO,QAE7C7T,EAAI,EAAGA,EAAIwiD,EAASp3C,SAAUpL,EACrCuiD,EAAUviD,GAAKwiD,EAASxiD,UAE1BuiD,EAAUn3C,OAASo3C,EAASp3C,OAErBm3C,qQC1VE7mB,OAAe,SAAS6I,EAAShgC,OACtCk+C,EAAUxkC,GAEd1Z,EAAU8K,GAAEi5B,SAAS/jC,GAAW,GAAIk+C,EAAQl9C,UAAUhB,aAElDigC,EAAOwV,GAAMzV,EAAShgC,GAEtBm+C,EAAa,SAAS5G,EAAUziC,EAASspC,EAAGnyC,UAC9CA,EAAOnB,GAAEi5B,SAAS93B,GAAQ,GAAIjM,GACvB,IAAIk+C,EAAQ3G,EAAUziC,EAASspC,GAAKne,EAAMh0B,WAInDkyC,EAAW9mC,UAAY8f,EAGvBgnB,EAAWE,MAAQpe,EAEnBke,EAAWtlC,SAAW7Y,EAEfm+C,GAOEhnB,OAAe,SAASha,EAAKnd,OAClCk+C,EAAUxkC,SAM8B,oBAAxCnQ,OAAOvI,UAAUoN,SAAS7G,KAAK4V,IAA+Bnd,GAAa,WAAYmd,GAAU,SAAUA,IAE7Gnd,EAAUmd,EACVA,OAAM1L,GAKRzR,EAAU8K,GAAEi5B,SAAS/jC,GAAW,GAAIkB,KAAK2X,SAAUqlC,EAAQl9C,UAAUhB,SAEjEmd,GACFA,EAAsB,iBAARA,EAAoB9G,GAAO8G,EAAKjc,KAAKm9C,MAAOr+C,GAAWmd,EAC9D0e,GAAO1e,EAAKnd,IACVkB,KAAKm9C,OAASn9C,KAAKm9C,MAAMziC,SAC3BigB,GAAO36B,KAAKm9C,MAAMziC,SAAU5b,GAE5B,IAQDm3B,MAAc,SAASha,UAC3BA,GACFA,EAAsB,iBAARA,EAAoB9G,GAAO8G,EAAKjc,KAAKm9C,MAAOn9C,KAAKlB,SAAWmd,EACnE0e,GAAO1e,EAAK,CAAEzc,SAAS,KACrBQ,KAAKm9C,OAASn9C,KAAKm9C,MAAMziC,SAC3BigB,GAAO36B,KAAKm9C,MAAMziC,SAAU,CAAElb,SAAS,IAEvC,IAjEX,IAyEI4b,EAAO6a,OAAe,SAASiG,OAC5BA,EAAO,MAAO,WAIf1hB,EAFAvO,EAAM,GACNxE,EAAMy0B,EAAMv2B,OAGPpL,EAAI,EAAGA,EAAIkN,EAAKlN,IAEL,UADlBigB,EAAO0hB,EAAM3hC,IACJkX,KAAiBxF,GAAOuO,EAAKrU,KAC7BqU,EAAKE,UAA0B,YAAdF,EAAK/I,OAC7BxF,GAAOmP,EAAKZ,EAAKE,kBAIdzO,GAQOgqB,YAAoB,SAAS9vB,EAAMyN,EAASwpC,OACtDn4C,SAECkB,GAAwB,iBAATA,GAIG,kBAAZyN,IACTwpC,EAAcxpC,GAGhB3O,EAASjF,KAAKq9C,KAAKl3C,GACdi3C,GACHn4C,EAAO,UAAU8pC,SAGZ9pC,EAAO85B,OAAO,GAAGrkB,UAZf,MAkBAub,OAAe,kBACjBj2B,KAAKA,KAAKm9C,QAMJlnB,WAAmB,SAASymB,EAAWY,MAGhDA,IAAcZ,SACT,OAKFY,GAAaA,IAAcA,EAAU/gC,YAC1C+gC,EAAYA,EAAU/gC,UACJmgC,SACT,SAIJ,gGCvJLa,EAAYhJ,GAAMvV,OAClBH,EAAW0V,GAAM1V,SAEjBqU,EAAUD,GAEVvxB,EAAQ3Z,MAAMjI,UAAU4hB,MAI5BuU,gBAAwB,SAASunB,EAAahjC,UAChC,MAARA,EACK,GACEA,EAAKogB,QACPpgB,EAAKpM,MACHrG,MAAMuF,QAAQkN,GAChB5Q,GAAE4jC,QAAQhzB,EAAKtW,IAAIs5C,EAAcx9C,OACf,iBAATwa,EACTqkB,EAASrkB,EAAMxa,KAAKlB,SAEpB,CAAC0b,IAIZ,IAAIijC,EAAU,SAASC,UACd,eACD7sC,EAAO7Q,KACPk8B,EAAQxa,EAAMrb,KAAK2B,WACnBiU,EAAMjc,KAAK29C,cAAczhB,SAEL,mBAAbA,EAAM,GACRgX,EAAQlzC,MAAM,SAASzF,EAAGqe,GAC/BqD,EAAMpL,EAAK8sC,cAAczhB,EAAM,GAAG71B,KAAKuS,EAAIre,EAAGqjD,GAAEC,KAAKjlC,EAAG8B,YACxDgjC,EAAazhC,EAAKrD,EAAG8B,SAAU9B,MAG1Bs6B,EAAQlzC,MAAM,SAASzF,EAAGqe,GAC/B8kC,EAAazhC,EAAKrD,EAAG8B,SAAU9B,QAiBnCklC,EAAe,SAAS31C,EAAO41C,EAAWC,EAAaC,EAAU1hC,OAI/D5P,EAAKlF,EAAKy2C,EAASlhB,EAAMkC,EAHzBif,EAAa,CAACJ,EAAWC,GAAa12C,OAAO22C,GAC7ClwC,EAAO5F,EAAM41C,EAAY,IAAM,KAC/BthC,EAAOtU,EAAM41C,IAAc,SAK1BpxC,EAAM,EAAGlF,EAAMw2C,EAASt4C,OAAQgH,EAAMlF,IAAOkF,EAGhDuxC,GADAhf,GADAlC,EAAOihB,EAAStxC,IACC4P,QAAUygB,EAAK+B,OACTG,EAAUxkB,SAAS3N,QAAQkxC,EAAStxC,IAEvDuyB,GAAagf,GAAW,IAC1Bhf,EAAUxkB,SAAS4Y,OAAO4qB,EAAS,GAC/B3hC,IAAW2iB,GAAa6e,EAAYG,GACtCC,EAAW,MAIfnhB,EAAK+B,KAAO,KACZ/B,EAAKzgB,OAASA,EAEVygB,EAAKjvB,OACPivB,EAAKjvB,KAAK0O,KAAOugB,EAAKvgB,MAAQ,MAG5BugB,EAAKvgB,OACPugB,EAAKvgB,KAAK1O,KAAOivB,EAAKjvB,MAAQ,MAGhCivB,EAAKjvB,KAAOkwC,EAAStxC,EAAM,IAAMoB,EACjCivB,EAAKvgB,KAAOwhC,EAAStxC,EAAM,IAAM8P,SAG/B1O,IACFA,EAAK0O,KAAOwhC,EAAS,IAEnBxhC,IACFA,EAAK1O,KAAOkwC,EAASA,EAASt4C,OAAS,IAGlCwC,EAAMmrB,OAAOlrB,MAAMD,EAAOg2C,IAwK/B/iC,GArKS6a,SAAiBwnB,GAAQ,SAASxhC,EAAKvB,EAAU6B,GAC5DuhC,EAAapjC,EAAUA,EAAS/U,OAAQ,EAAGsW,EAAKM,MAGpC0Z,UAAkBwnB,GAAQ,SAASxhC,EAAKvB,EAAU6B,GAC9DuhC,EAAapjC,EAAU,EAAG,EAAGuB,EAAKM,MAGxB0Z,QAAgB,eACtBiG,EAAQxa,EAAMrb,KAAK2B,WACnBiU,EAAMjc,KAAK29C,cAAczhB,GACzBrrB,EAAO7Q,YAEXkzC,EAAQlzC,MAAM,SAASzF,EAAGqe,OACpB2D,EAAS3D,EAAG2D,QAAU3D,EAAGmmB,QACxBxiB,OAIDC,EAAWD,EAAO7B,SAClBnG,EAAQiI,EAASzP,QAAQ6L,IAGvBrE,IAEkB,mBAAb2nB,EAAM,KACfjgB,EAAMpL,EAAK8sC,cAAczhB,EAAM,GAAG71B,KAAKuS,EAAIre,KAI7CujD,EAAathC,IAAYjI,EAAO,EAAG0H,EAAKM,QAGnCvc,MAGIi2B,SAAiB,eACxBiG,EAAQxa,EAAMrb,KAAK2B,WACnBiU,EAAMjc,KAAK29C,cAAczhB,GACzBrrB,EAAO7Q,YAEXkzC,EAAQlzC,MAAM,SAASzF,EAAGqe,OACpB2D,EAAS3D,EAAG2D,QAAU3D,EAAGmmB,QACxBxiB,OAIDC,EAAWD,EAAO7B,SAClBnG,EAAQiI,EAASzP,QAAQ6L,IAGvBrE,IAEkB,mBAAb2nB,EAAM,KACfjgB,EAAMpL,EAAK8sC,cAAczhB,EAAM,GAAG71B,KAAKuS,EAAIre,KAI7CujD,EAAathC,EAAUjI,EAAO,EAAG0H,EAAKM,QAGjCvc,MAMIi2B,SAAiB,SAASogB,OACjCna,EAAQl8B,YAGRq2C,IACFna,EAAQA,EAAMH,OAAOsa,IAEvBnD,EAAQhX,GAAO,SAAS3hC,EAAGqe,OACrB2D,EAAS3D,EAAG2D,QAAU3D,EAAGmmB,QACxBxiB,OAIDC,EAAWD,EAAO7B,SAClBnG,EAAQiI,EAASzP,QAAQ6L,IAEvBrE,IAGNiI,EAAS8W,OAAO/e,EAAO,GACnBqE,EAAG7K,OACL6K,EAAG7K,KAAK0O,KAAO7D,EAAG6D,MAEhB7D,EAAG6D,OACL7D,EAAG6D,KAAK1O,KAAO6K,EAAG7K,MAEpB6K,EAAG7K,KAAO6K,EAAG6D,KAAO7D,EAAG2D,OAAS3D,EAAGmmB,KAAO,UAGrC/+B,MAGSi2B,cAAsB,SAAS6I,OAC3CjuB,EAAO7Q,YAEXkzC,EAAQlzC,MAAM,SAASzF,EAAGqe,OACpB2D,EAAS3D,EAAG2D,QAAU3D,EAAGmmB,QACxBxiB,OAMDhI,EAFAiI,EAAWD,EAAO7B,SAClBuB,EAAMpL,EAAK8sC,cAAiC,mBAAZ7e,EAAyBA,EAAQz4B,KAAKuS,EAAIre,EAAGqe,GAAMkmB,GAKvFye,EAAUthC,EAAK,MAEf1H,EAAQiI,EAASzP,QAAQ6L,GAGzBklC,EAAathC,EAAUjI,EAAO,EAAG0H,EAAKM,GACtC3D,EAAG2D,OAAS3D,EAAG7K,KAAO6K,EAAG6D,KAAO7D,EAAGmmB,KAAO,SAGrC/+B,MAGGi2B,QAAgB,kBAC1Bid,EAAQlzC,MAAM,SAASzF,EAAGqe,GACxBhP,GAAEimC,KAAKj3B,EAAG8B,UAAU,SAAS9B,GAC3BA,EAAG6D,KAAO7D,EAAG7K,KAAO6K,EAAG2D,OAAS,QAGlC3D,EAAG8B,SAAS/U,OAAS,KAEhB3F,MAMEi2B,OAAe,SAAS3sB,WACrBiH,IAARjH,SACGtJ,KAAK,IAAOA,KAAK,GAAG0a,SAClBkjC,GAAEC,KAAK79C,KAAK,GAAG0a,SAAU1a,KAAKlB,SADK,SAIxCiM,EAAO/K,KAAKlB,eAEhBo0C,EAAQlzC,MAAM,SAASzF,EAAGqe,GACxBhP,GAAEimC,KAAKj3B,EAAG8B,UAAU,SAAS9B,GAC3BA,EAAG6D,KAAO7D,EAAG7K,KAAO6K,EAAG2D,OAAS,YAG9BuiB,EAAUx1B,EAAIsxB,QAAUtxB,EAAI6mC,QAAQ/hC,MAAQywB,EAASv1B,EAAKyB,GAE9DwyC,EAAUze,EAASlmB,MAGd5Y,MAGMi2B,WAAmB,kBACzB2nB,GAAEC,KAAK79C,OAGLi2B,OAAe,SAAS3sB,eAErBiH,IAARjH,EACKs0C,GAAExiC,KAAKpb,MACU,mBAARsJ,EAET4pC,EAAQlzC,MAAM,SAASzF,EAAGqe,OAC3BwlC,EAAM,CAACxlC,UACJwC,EAAK/U,KAAK+3C,EAAK90C,EAAIjD,KAAKuS,EAAIre,EAAGqjD,GAAExiC,KAAKgjC,SAKjDlL,EAAQlzC,MAAM,SAASzF,EAAGqe,GACxBhP,GAAEimC,KAAKj3B,EAAG8B,UAAU,SAAS9B,GAC3BA,EAAG6D,KAAO7D,EAAG7K,KAAO6K,EAAG2D,OAAS,QAYlCghC,EATW,CACTp3C,KAAMmD,EACNmI,KAAM,OACN8K,OAAQ3D,EACR7K,KAAM,KACN0O,KAAM,KACN/B,SAAU,IAGI9B,MAGX5Y,QAGGi2B,QAAgB,kBAGnBj2B,KAAKg1C,MAAM4I,GAAEC,KAAK79C,YC7SvBkzC,wHAAU16B,IACVtL,GAAW7E,OAAOvI,UAAUoN,SAiChC,SAASmxC,GAAOzlC,EAAInJ,EAAM/C,EAAKC,MACzB,iBAAmB8C,EAAM,KACvB3D,EAASwyC,GAAO1lC,GACD,mBAARlM,IACTA,EAAMA,EAAIrG,KAAKuS,EAAIjM,EAAKiM,IAGd,KAARlM,SACKZ,EAAO2D,GACE,MAAP/C,IACTZ,EAAO2D,GAAQ/C,GAGjBkM,EAAG+D,QAAQ9Q,OAmCIf,EAnCcgB,EAoCxBzD,OAAOiE,KAAKxB,GAAO,IACvBgD,QAAO,SAASxE,EAAKmG,UACbnG,GACFA,EAAM,IAAM,IACbmG,EACA,KACA3E,EAAI2E,GACJ,MACH,SA3CM,iBAAmBA,GAC5BpH,OAAOiE,KAAKmD,GAAMhD,SAAQ,SAAS+H,GACjC6pC,GAAOzlC,EAAIpE,EAAG/E,EAAK+E,OAgCzB,IAAmB1J,EAnBnB,SAASwzC,GAAO1lC,EAAInJ,OACd3D,EAsCN,SAAeA,UACbA,GAAUA,GAAU,IAAI4R,QAIjB5R,EACJuC,MAAM,KACNP,QAAO,SAAShD,EAAKxB,OAChBwF,EAAIxF,EAAIyD,QAAQ,YAEhB+B,EAAI,GAAKA,IAAMxF,EAAI3D,OAAO,IAC9BmF,EAAIxB,EAAIoY,MAAM,EAAE5S,GAAG4O,QAAUpU,EAAIoY,MAAM5S,EAAE,GAAG4O,QADJ5S,IAGvC,IAVe,GAzCPypC,CAAM37B,EAAG+D,QAAQ9Q,aACV,iBAAT4D,EACF3D,EAAO2D,GACL1H,MAAMuF,QAAQmC,GAChB7F,GAAEk5B,KAAKh3B,EAAQ2D,GAEf3D,cA1DG,SAAS2D,EAAM/C,UACF,IAArB1E,UAAUrC,QAEa,oBAAxBuH,GAAS7G,KAAKoJ,GACRyjC,GAAQlzC,MAAM,SAAS2M,EAAKiM,GACjCylC,GAAOzlC,EAAInJ,EAAM/C,EAAKC,MAGjB2xC,GAAOt+C,KAAK,GAAIyP,uBCT3B,IAAI8uC,EAAM,CACR/lC,GACAA,GACAA,GACAA,IAOEgmC,EAAY,2CAMZxB,EAAUljC,UAAiB,SAASu8B,EAAUziC,EAASmrB,EAAMjgC,UACzDkB,gBAAgBg9C,QAEjBl+C,QAAU8K,GAAEi5B,SAAS/jC,GAAW,GAAIkB,KAAKlB,SAGzCu3C,GAEDtX,IACkB,iBAATA,IAAmBA,EAAOwV,GAAMxV,EAAM/+B,KAAKlB,eACjDq+C,MAAQH,EAAQ32C,KAAKrG,KAAM++B,IAI9BsX,EAASzb,QAAgByb,GAGzBoI,EAAOpI,KACTA,EAAW,CAACA,IAGVtuC,MAAMuF,QAAQ+oC,IAChBzsC,GAAE6C,QAAQ4pC,GAAU,SAAS77B,EAAM7N,QAC5BA,GAAO6N,IACXxa,WACE2F,OAAS0wC,EAAS1wC,OAChB3F,MAIe,iBAAbq2C,GAAyBqI,EAAOrI,GAClC2G,EAAQ32C,KAAKrG,KAAMu0C,GAAM8B,EAAUr2C,KAAKlB,SAAS4b,WAIrD9G,EAEyB,iBAAZA,EACZ8qC,EAAO9qC,IAETA,EAAU2gC,GAAM3gC,EAAS5T,KAAKlB,SAC9B8U,EAAUopC,EAAQ32C,KAAKrG,KAAM4T,KAG7ByiC,EAAW,CAACziC,EAASyiC,GAAUhtC,KAAK,KACpCuK,EAAU5T,KAAKm9C,OAGPvpC,EAAQgnB,UAClBhnB,EAAUopC,EAAQ32C,KAAKrG,KAAM4T,IAb7BA,EAAU5T,KAAKm9C,MAiBZvpC,EAGEA,EAAQooB,KAAKqa,GAHCr2C,QA/CCA,MALiB,IAAIg9C,EAAQ3G,EAAUziC,EAASmrB,EAAMjgC,IA8D9E8K,GAAEmmC,OAAOiN,EAASxkC,IAMlBwkC,EAAQl9C,UAAU86B,QAAU,mBAM5BoiB,EAAQl9C,UAAUhB,QAAU,CAC1Bsd,qBAAqB,EACrB5c,SAAS,EACTE,gBAAgB,GAOlBs9C,EAAQl9C,UAAU6F,OAAS,EAC3Bq3C,EAAQl9C,UAAUwzB,OAASvrB,MAAMjI,UAAUwzB,OAK3C,IAAIorB,EAAS,SAASp1C,MAEE,MAAlBA,EAAI1D,OAAO,IAA6C,MAA/B0D,EAAI1D,OAAO0D,EAAI3D,OAAS,IAAc2D,EAAI3D,QAAU,EAAG,OAAO,MAGvFgI,EAAQ6wC,EAAUlZ,KAAKh8B,YACjBqE,IAASA,EAAM,KAS3BqvC,EAAQl9C,UAAUk1C,MAAQ,SAAS/4B,EAAKrI,OAClCgnB,EAAU,IAAIoiB,EAAQ/gC,EAAKrI,EAAS5T,KAAKm9C,MAAOn9C,KAAKlB,gBACzD87B,EAAQiiB,WAAa78C,KACd46B,GASToiB,EAAQl9C,UAAUuvC,QAAU,kBACnBrvC,KAAKoO,OAMdmwC,EAAI9xC,SAAQ,SAASkyC,GACnB/0C,GAAEmmC,OAAOiN,EAAQl9C,UAAW6+C,MAG9B,IAAIF,EAAS,SAAS3zC,UACbA,EAAIxE,MAAqB,SAAbwE,EAAI2G,MAAgC,YAAb3G,EAAI2G,m5DCvJ5CmtC,sBCJM9kC,UAAiBtB,YAMTA,GAAqBqmC,mBDFXx2C,OAAOu2C,uBAC/Bv6C,GAAiBgE,OAAOvI,UAAUuE,eAClCy6C,GAAmBz2C,OAAOvI,UAAUi/C,qBAExC,SAASC,GAAStyC,MACbA,MAAAA,QACG,IAAIqF,UAAU,gEAGd1J,OAAOqE,IAGf,mBAEOrE,OAAOq9B,cACJ,MAMJuZ,EAAQ,IAAI/kD,OAAO,UACvB+kD,EAAM,GAAK,KACkC,MAAzC52C,OAAOwE,oBAAoBoyC,GAAO,UAC9B,UAIJC,EAAQ,GACH3kD,EAAI,EAAGA,EAAI,GAAIA,IACvB2kD,EAAM,IAAMhlD,OAAOC,aAAaI,IAAMA,KAKf,eAHX8N,OAAOwE,oBAAoBqyC,GAAOh7C,KAAI,SAAU4K,UACrDowC,EAAMpwC,MAEHzF,KAAK,WACR,MAIJ81C,EAAQ,gCACW9wC,MAAM,IAAI5B,SAAQ,SAAU2yC,GAClDD,EAAMC,GAAUA,KAGf,yBADE/2C,OAAOiE,KAAKjE,OAAOq9B,OAAO,GAAIyZ,IAAQ91C,KAAK,IAM9C,MAAOsK,UAED,IAIQ0rC,IAAoBh3C,OAAOq9B,OAA5C5rB,yBE5DUA,UAAiBtB,YAMTA,GAAqBqmC,WCFnCD,eAAwBv2C,OAAOu2C,uBAC/Bv6C,GAAiBgE,OAAOvI,UAAUuE,eAClCy6C,GAAmBz2C,OAAOvI,UAAUi/C,qBAExC,SAASC,GAAStyC,MACbA,MAAAA,QACG,IAAIqF,UAAU,gEAGd1J,OAAOqE,GA+CfoN,OA5CA,mBAEOzR,OAAOq9B,cACJ,MAMJuZ,EAAQ,IAAI/kD,OAAO,UACvB+kD,EAAM,GAAK,KACkC,MAAzC52C,OAAOwE,oBAAoBoyC,GAAO,UAC9B,UAIJC,EAAQ,GACH3kD,EAAI,EAAGA,EAAI,GAAIA,IACvB2kD,EAAM,IAAMhlD,OAAOC,aAAaI,IAAMA,KAKf,eAHX8N,OAAOwE,oBAAoBqyC,GAAOh7C,KAAI,SAAU4K,UACrDowC,EAAMpwC,MAEHzF,KAAK,WACR,MAIJ81C,EAAQ,gCACW9wC,MAAM,IAAI5B,SAAQ,SAAU2yC,GAClDD,EAAMC,GAAUA,KAGf,yBADE/2C,OAAOiE,KAAKjE,OAAOq9B,OAAO,GAAIyZ,IAAQ91C,KAAK,IAM9C,MAAOsK,UAED,GAIQ0rC,GAAoBh3C,OAAOq9B,OAAS,SAAUl0B,EAAQyF,WAClE+J,EAEAs+B,EADAC,EAAKP,GAASxtC,GAGTwO,EAAI,EAAGA,EAAIhY,UAAUrC,OAAQqa,IAAK,KAGrC,IAAItS,KAFTsT,EAAO3Y,OAAOL,UAAUgY,IAGnB3b,GAAegC,KAAK2a,EAAMtT,KAC7B6xC,EAAG7xC,GAAOsT,EAAKtT,OAIbkxC,GAAuB,CAC1BU,EAAUV,GAAsB59B,OAC3B,IAAIzmB,EAAI,EAAGA,EAAI+kD,EAAQ35C,OAAQpL,IAC/BukD,GAAiBz4C,KAAK2a,EAAMs+B,EAAQ/kD,MACvCglD,EAAGD,EAAQ/kD,IAAMymB,EAAKs+B,EAAQ/kD,aAM3BglD,GChERzlC,OApBA,SAAiBijC,EAAUyC,GACvBA,EAAMA,GAAK,OACP5B,EAAIhjB,GAAQyiB,KAAKN,EAAUrX,GAAO,CAAElmC,SAAS,GAAQggD,IAErDC,EAAW,UACf7B,EAAE,QAAQ/N,MAAK,eACPlhC,EAAIivC,EAAE59C,MAAM20C,KAAK,KACrB8K,GAAY9wC,EAAEpF,QAAQ,OAAQ,KAAK,OAEhCk2C,EAAS/hC"}